var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function i(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(i)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(e,t,n){e.$$.on_destroy.push(function(e,t){const n=e.subscribe(t);return n.unsubscribe?()=>n.unsubscribe():n}(t,n))}function c(e,t,n,i){if(e){const r=l(e,t,n,i);return e[0](r)}}function l(e,t,i,r){return e[1]&&r?n(i.ctx.slice(),e[1](r(t))):i.ctx}function h(e,t,n,i){if(e[2]&&i){const r=e[2](i(n));if("object"==typeof t.dirty){const e=[],n=Math.max(t.dirty.length,r.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|r[i];return e}return t.dirty|r}return t.dirty}function f(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}const d="undefined"!=typeof window;let p=d?()=>window.performance.now():()=>Date.now(),m=d?e=>requestAnimationFrame(e):e;const v=new Set;function g(e){v.forEach(t=>{t.c(e)||(v.delete(t),t.f())}),0!==v.size&&m(g)}function y(e){let t;return 0===v.size&&m(g),{promise:new Promise(n=>{v.add(t={c:e,f:n})}),abort(){v.delete(t)}}}function b(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode.removeChild(e)}function E(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function I(e){return document.createElement(e)}function S(e){return document.createTextNode(e)}function k(){return S(" ")}function C(){return S("")}function A(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function N(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function D(e,t,n){t in e?e[t]=n:N(e,t,n)}function x(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t,n,i){e.style.setProperty(t,n,i?"important":"")}function R(e,t,n){e.classList[n?"add":"remove"](t)}function O(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}let P,M,q=0,F={};function B(e,t,n,i,r,o,a,s=0){const u=16.666/i;let c="{\n";for(let e=0;e<=1;e+=u){const i=t+(n-t)*o(e);c+=100*e+`%{${a(i,1-i)}}\n`}const l=c+`100% {${a(n,1-n)}}\n}`,h=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${s}`;if(!F[h]){if(!P){const e=I("style");document.head.appendChild(e),P=e.sheet}F[h]=!0,P.insertRule(`@keyframes ${h} ${l}`,P.cssRules.length)}const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${h} ${i}ms linear ${r}ms 1 both`,q+=1,h}function U(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--q&&m(()=>{if(q)return;let e=P.cssRules.length;for(;e--;)P.deleteRule(e);F={}})}function V(e){M=e}function j(){if(!M)throw new Error("Function called outside component initialization");return M}function W(e){j().$$.on_mount.push(e)}function H(e,t){j().$$.context.set(e,t)}function K(e){return j().$$.context.get(e)}function G(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const z=[],$=[],Q=[],Y=[],J=Promise.resolve();let X,Z=!1;function ee(e){Q.push(e)}function te(){const e=new Set;do{for(;z.length;){const e=z.shift();V(e),ne(e.$$)}for(;$.length;)$.pop()();for(let t=0;t<Q.length;t+=1){const n=Q[t];e.has(n)||(n(),e.add(n))}Q.length=0}while(z.length);for(;Y.length;)Y.pop()();Z=!1}function ne(e){null!==e.fragment&&(e.update(),o(e.before_update),e.fragment&&e.fragment.p(e.ctx,e.dirty),e.dirty=[-1],e.after_update.forEach(ee))}function ie(){return X||(X=Promise.resolve(),X.then(()=>{X=null})),X}function re(e,t,n){e.dispatchEvent(O(`${t?"intro":"outro"}${n}`))}const oe=new Set;let ae;function se(){ae={r:0,c:[],p:ae}}function ue(){ae.r||o(ae.c),ae=ae.p}function ce(e,t){e&&e.i&&(oe.delete(e),e.i(t))}function le(e,t,n,i){if(e&&e.o){if(oe.has(e))return;oe.add(e),ae.c.push(()=>{oe.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}}const he={duration:0};function fe(n,i,r){let o,s,u=i(n,r),c=!1,l=0;function h(){o&&U(n,o)}function f(){const{delay:i=0,duration:r=300,easing:a=t,tick:f=e,css:d}=u||he;d&&(o=B(n,0,1,r,i,a,d,l++)),f(0,1);const m=p()+i,v=m+r;s&&s.abort(),c=!0,ee(()=>re(n,!0,"start")),s=y(e=>{if(c){if(e>=v)return f(1,0),re(n,!0,"end"),h(),c=!1;if(e>=m){const t=a((e-m)/r);f(t,1-t)}}return c})}let d=!1;return{start(){d||(U(n),a(u)?(u=u(),ie().then(f)):f())},invalidate(){d=!1},end(){c&&(h(),c=!1)}}}function de(n,i,r){let s,u=i(n,r),c=!0;const l=ae;function h(){const{delay:i=0,duration:r=300,easing:a=t,tick:h=e,css:f}=u||he;f&&(s=B(n,1,0,r,i,a,f));const d=p()+i,m=d+r;ee(()=>re(n,!1,"start")),y(e=>{if(c){if(e>=m)return h(0,1),re(n,!1,"end"),--l.r||o(l.c),!1;if(e>=d){const t=a((e-d)/r);h(1-t,t)}}return c})}return l.r+=1,a(u)?ie().then(()=>{u=u(),h()}):h(),{end(e){e&&u.tick&&u.tick(1,0),c&&(s&&U(n,s),c=!1)}}}const pe="undefined"!=typeof window?window:global;function me(e){return"object"==typeof e&&null!==e?e:{}}function ve(e){e&&e.c()}function ge(e,t,n){const{fragment:r,on_mount:s,on_destroy:u,after_update:c}=e.$$;r&&r.m(t,n),ee(()=>{const t=s.map(i).filter(a);u?u.push(...t):o(t),e.$$.on_mount=[]}),c.forEach(ee)}function ye(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(e,t){-1===e.$$.dirty[0]&&(z.push(e),Z||(Z=!0,J.then(te)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function we(t,n,i,a,s,u,c=[-1]){const l=M;V(t);const h=n.props||{},f=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:r(),dirty:c};let d=!1;f.ctx=i?i(t,h,(e,n,i=n)=>(f.ctx&&s(f.ctx[e],f.ctx[e]=i)&&(f.bound[e]&&f.bound[e](i),d&&be(t,e)),n)):[],f.update(),d=!0,o(f.before_update),f.fragment=!!a&&a(f.ctx),n.target&&(n.hydrate?f.fragment&&f.fragment.l(function(e){return Array.from(e.childNodes)}(n.target)):f.fragment&&f.fragment.c(),n.intro&&ce(t.$$.fragment),ge(t,n.target,n.anchor),te()),V(l)}class Te{$destroy(){ye(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const Ee=[];function Ie(t,n=e){let i;const r=[];function o(e){if(s(t,e)&&(t=e,i)){const e=!Ee.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),Ee.push(n,t)}if(e){for(let e=0;e<Ee.length;e+=2)Ee[e][0](Ee[e+1]);Ee.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(a,s=e){const u=[a,s];return r.push(u),1===r.length&&(i=n(o)||e),a(t),()=>{const e=r.indexOf(u);-1!==e&&r.splice(e,1),0===r.length&&(i(),i=null)}}}}function Se(t,n,i){const r=!Array.isArray(t),s=r?[t]:t,u=n.length<2;return{subscribe:Ie(i,t=>{let i=!1;const c=[];let l=0,h=e;const f=()=>{if(l)return;h();const i=n(r?c[0]:c,t);u?t(i):h=a(i)?i:e},d=s.map((e,t)=>e.subscribe(e=>{c[t]=e,l&=~(1<<t),i&&f()},()=>{l|=1<<t}));return i=!0,f(),function(){o(d),h()}}).subscribe}}const ke={},Ce={};function _e(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const Ae=function(e,t){const n=[];let i=_e(e);return{get location(){return i},listen(t){n.push(t);const r=()=>{i=_e(e),t({location:i,action:"POP"})};return e.addEventListener("popstate",r),()=>{e.removeEventListener("popstate",r);const i=n.indexOf(t);n.splice(i,1)}},navigate(t,{state:r,replace:o=!1}={}){r={...r,key:Date.now()+""};try{o?e.history.replaceState(r,null,t):e.history.pushState(r,null,t)}catch(n){e.location[o?"replace":"assign"](t)}i=_e(e),n.forEach(e=>e({location:i,action:"PUSH"}))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const n=[{pathname:e,search:""}],i=[];return{get location(){return n[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return n},get index(){return t},get state(){return i[t]},pushState(e,r,o){const[a,s=""]=o.split("?");t++,n.push({pathname:a,search:s}),i.push(e)},replaceState(e,r,o){const[a,s=""]=o.split("?");n[t]={pathname:a,search:s},i[t]=e}}}}()),{navigate:Ne}=Ae,De=/^:(.+)/,xe=4,Le=3,Re=2,Oe=1,Pe=1;function Me(e){return"*"===e[0]}function qe(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Fe(e){return e.replace(/(^\/+|\/+$)/g,"")}function Be(e,t){return{route:e,score:e.default?0:qe(e.path).reduce((e,t)=>(e+=xe,!function(e){return""===e}(t)?!function(e){return De.test(e)}(t)?Me(t)?e-=xe+Oe:e+=Le:e+=Re:e+=Pe,e),0),index:t}}function Ue(e,t){let n,i;const[r]=t.split("?"),o=qe(r),a=""===o[0],s=function(e){return e.map(Be).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)}(e);for(let e=0,r=s.length;e<r;e++){const r=s[e].route;let u=!1;if(r.default){i={route:r,params:{},uri:t};continue}const c=qe(r.path),l={},h=Math.max(o.length,c.length);let f=0;for(;f<h;f++){const e=c[f],t=o[f];if(void 0!==e&&Me(e)){l["*"===e?"*":e.slice(1)]=o.slice(f).map(decodeURIComponent).join("/");break}if(void 0===t){u=!0;break}let n=De.exec(e);if(n&&!a){const e=decodeURIComponent(t);l[n[1]]=e}else if(e!==t){u=!0;break}}if(!u){n={route:r,params:l,uri:"/"+o.slice(0,f).join("/")};break}}return n||i||null}function Ve(e,t){return`${Fe("/"===t?e:`${Fe(e)}/${Fe(t)}`)}/`}function je(e){let t;const n=e[16].default,i=c(n,e,e[15],null);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,[t]){i&&i.p&&32768&t&&i.p(l(n,e,e[15],null),h(n,e[15],t,null))},i(e){t||(ce(i,e),t=!0)},o(e){le(i,e),t=!1},d(e){i&&i.d(e)}}}function We(e,t,n){let i,r,o,{basepath:a="/"}=t,{url:s=null}=t;const c=K(ke),l=K(Ce),h=Ie([]);u(e,h,e=>n(8,o=e));const f=Ie(null);let d=!1;const p=c||Ie(s?{pathname:s}:Ae.location);u(e,p,e=>n(7,r=e));const m=l?l.routerBase:Ie({path:a,uri:a});u(e,m,e=>n(6,i=e));const v=Se([m,f],([e,t])=>{if(null===t)return e;const{path:n}=e,{route:i,uri:r}=t;return{path:i.default?n:i.path.replace(/\*.*$/,""),uri:r}});function g(e){const{path:t}=i;let{path:n}=e;if(e._path=n,e.path=Ve(t,n),"undefined"==typeof window){if(d)return;const t=function(e,t){return Ue([e],t)}(e,r.pathname);t&&(f.set(t),d=!0)}else h.update(t=>(t.push(e),t))}function y(e){h.update(t=>{const n=t.indexOf(e);return t.splice(n,1),t})}c||(W(()=>{return Ae.listen(e=>{p.set(e.location)})}),H(ke,p)),H(Ce,{activeRoute:f,base:m,routerBase:v,registerRoute:g,unregisterRoute:y});let{$$slots:b={},$$scope:w}=t;return e.$set=e=>{"basepath"in e&&n(3,a=e.basepath),"url"in e&&n(4,s=e.url),"$$scope"in e&&n(15,w=e.$$scope)},e.$$.update=()=>{if(64&e.$$.dirty){const{path:e}=i;h.update(t=>(t.forEach(t=>t.path=Ve(e,t._path)),t))}if(384&e.$$.dirty){const e=Ue(o,r.pathname);f.set(e)}},[h,p,m,a,s,d,i,r,o,c,l,f,v,g,y,w,b]}class He extends Te{constructor(e){super(),we(this,e,We,je,s,{basepath:3,url:4})}}const Ke=e=>({params:2&e,location:16&e}),Ge=e=>({params:e[1],location:e[4]});function ze(e){let t,n,i,r;const o=[Qe,$e],a=[];function s(e,t){return null!==e[0]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),i=C()},m(e,n){a[t].m(e,n),w(e,i,n),r=!0},p(e,r){let u=t;t=s(e),t===u?a[t].p(e,r):(se(),le(a[u],1,1,()=>{a[u]=null}),ue(),n=a[t],n||(n=a[t]=o[t](e),n.c()),ce(n,1),n.m(i.parentNode,i))},i(e){r||(ce(n),r=!0)},o(e){le(n),r=!1},d(e){a[t].d(e),e&&T(i)}}}function $e(e){let t;const n=e[13].default,i=c(n,e,e[12],Ge);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,t){i&&i.p&&4114&t&&i.p(l(n,e,e[12],Ge),h(n,e[12],t,Ke))},i(e){t||(ce(i,e),t=!0)},o(e){le(i,e),t=!1},d(e){i&&i.d(e)}}}function Qe(e){let t,i;const r=[{location:e[4]},e[1],e[2]];var o=e[0];function a(e){let t={};for(let e=0;e<r.length;e+=1)t=n(t,r[e]);return{props:t}}if(o)var s=new o(a());return{c(){s&&ve(s.$$.fragment),t=C()},m(e,n){s&&ge(s,e,n),w(e,t,n),i=!0},p(e,n){const i=22&n?function(e,t){const n={},i={},r={$$scope:1};let o=e.length;for(;o--;){const a=e[o],s=t[o];if(s){for(const e in a)e in s||(i[e]=1);for(const e in s)r[e]||(n[e]=s[e],r[e]=1);e[o]=s}else for(const e in a)r[e]=1}for(const e in i)e in n||(n[e]=void 0);return n}(r,[16&n&&{location:e[4]},2&n&&me(e[1]),4&n&&me(e[2])]):{};if(o!==(o=e[0])){if(s){se();const e=s;le(e.$$.fragment,1,0,()=>{ye(e,1)}),ue()}o?(ve((s=new o(a())).$$.fragment),ce(s.$$.fragment,1),ge(s,t.parentNode,t)):s=null}else o&&s.$set(i)},i(e){i||(s&&ce(s.$$.fragment,e),i=!0)},o(e){s&&le(s.$$.fragment,e),i=!1},d(e){e&&T(t),s&&ye(s,e)}}}function Ye(e){let t,n,i=null!==e[3]&&e[3].route===e[6]&&ze(e);return{c(){i&&i.c(),t=C()},m(e,r){i&&i.m(e,r),w(e,t,r),n=!0},p(e,[n]){null!==e[3]&&e[3].route===e[6]?i?(i.p(e,n),ce(i,1)):(i=ze(e),i.c(),ce(i,1),i.m(t.parentNode,t)):i&&(se(),le(i,1,1,()=>{i=null}),ue())},i(e){n||(ce(i),n=!0)},o(e){le(i),n=!1},d(e){i&&i.d(e),e&&T(t)}}}function Je(e,t,i){let r,o,{path:a=""}=t,{component:s=null}=t;const{registerRoute:c,unregisterRoute:l,activeRoute:h}=K(Ce);u(e,h,e=>i(3,r=e));const d=K(ke);u(e,d,e=>i(4,o=e));const p={path:a,default:""===a};let m={},v={};var g;c(p),"undefined"!=typeof window&&(g=()=>{l(p)},j().$$.on_destroy.push(g));let{$$slots:y={},$$scope:b}=t;return e.$set=e=>{i(11,t=n(n({},t),f(e))),"path"in e&&i(7,a=e.path),"component"in e&&i(0,s=e.component),"$$scope"in e&&i(12,b=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&r&&r.route===p&&i(1,m=r.params);{const{path:e,component:n,...r}=t;i(2,v=r)}},t=f(t),[s,m,v,r,o,h,p,a,c,l,d,t,b,y]}class Xe extends Te{constructor(e){super(),we(this,e,Je,Ye,s,{path:7,component:0})}}var Ze="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function et(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function tt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nt(e,t){return e(t={exports:{}},t.exports),t.exports}var it=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e}}));tt(it);it.isFunction;var rt=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=e},get useDeprecatedSynchronousErrorHandling(){return n}}}));tt(rt);rt.config;var ot=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hostReportError=function(e){setTimeout((function(){throw e}),0)}}));tt(ot);ot.hostReportError;var at=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.empty={closed:!0,next:function(e){},error:function(e){if(rt.config.useDeprecatedSynchronousErrorHandling)throw e;ot.hostReportError(e)},complete:function(){}}}));tt(at);at.empty;var st=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}}));tt(st);st.isArray;var ut=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return null!==e&&"object"==typeof e}}));tt(ut);ut.isObject;var ct=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();t.UnsubscriptionError=n}));tt(ct);ct.UnsubscriptionError;var lt=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a){n[a].remove(this)}if(it.isFunction(r))try{r.call(this)}catch(e){t=e instanceof ct.UnsubscriptionError?i(e.errors):[e]}if(st.isArray(o)){a=-1;for(var s=o.length;++a<s;){var u=o[a];if(ut.isObject(u))try{u.unsubscribe()}catch(e){t=t||[],e instanceof ct.UnsubscriptionError?t=t.concat(i(e.errors)):t.push(e)}}}if(t)throw new ct.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function i(e){return e.reduce((function(e,t){return e.concat(t instanceof ct.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=n}));tt(lt);lt.Subscription;var ht=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber}));tt(ht);ht.rxSubscriber,ht.$$rxSubscriber;var ft=nt((function(e,t){var n=Ze&&Ze.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(n,i,o){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=at.empty;break;case 1:if(!n){a.destination=at.empty;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new r(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new r(a,n,i,o)}return a}return n(t,e),t.prototype[ht.rxSubscriber]=function(){return this},t.create=function(e,n,i){var r=new t(e,n,i);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(lt.Subscription);t.Subscriber=i;var r=function(e){function t(t,n,i,r){var o,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return it.isFunction(n)?o=n:n&&(o=n.next,i=n.error,r=n.complete,n!==at.empty&&(s=Object.create(n),it.isFunction(s.unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=o,a._error=i,a._complete=r,a}return n(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;rt.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=rt.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):ot.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;ot.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};rt.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),rt.config.useDeprecatedSynchronousErrorHandling)throw e;ot.hostReportError(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!rt.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return rt.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(ot.hostReportError(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(i);t.SafeSubscriber=r}));tt(ft);ft.Subscriber,ft.SafeSubscriber;var dt=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.canReportError=function(e){for(;e;){var t=e,n=t.closed,i=t.destination,r=t.isStopped;if(n||r)return!1;e=i&&i instanceof ft.Subscriber?i:null}return!0}}));tt(dt);dt.canReportError;var pt=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.toSubscriber=function(e,t,n){if(e){if(e instanceof ft.Subscriber)return e;if(e[ht.rxSubscriber])return e[ht.rxSubscriber]()}return e||t||n?new ft.Subscriber(e,t,n):new ft.Subscriber(at.empty)}}));tt(pt);pt.toSubscriber;var mt=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"}));tt(mt);mt.observable;var vt=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){}}));tt(vt);vt.noop;var gt=nt((function(e,t){function n(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:vt.noop}Object.defineProperty(t,"__esModule",{value:!0}),t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(e)},t.pipeFromArray=n}));tt(gt);gt.pipe,gt.pipeFromArray;var yt=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,r=pt.toSubscriber(e,t,n);if(i?r.add(i.call(r,this.source)):r.add(this.source||rt.config.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),rt.config.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){rt.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),dt.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=i(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(e){i(e),r&&r.unsubscribe()}}),i,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[mt.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:gt.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=i(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}();function i(e){if(e||(e=rt.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=n}));tt(yt);yt.Observable;var bt=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fromFetch=function(e,t){return new yt.Observable((function(n){var i,r=new AbortController,o=r.signal,a=!0,s=!1;return t?(t.signal&&(i=function(){o.aborted||r.abort()},t.signal.addEventListener("abort",i)),t.signal=o):t={signal:o},fetch(e,t).then((function(e){a=!1,n.next(e),n.complete()})).catch((function(e){a=!1,s||n.error(e)})),function(){s=!0,a&&r.abort()}}))}}));tt(bt);bt.fromFetch;var wt=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fromFetch=bt.fromFetch}));tt(wt);var Tt,Et,It,St,kt,Ct,_t,At,Nt,Dt,xt,Lt,Rt,Ot=wt.fromFetch;function Pt(e,t,n){const i=e.slice();return i[10]=t[n],i[12]=n,i}function Mt(e){let t,n,i,r,a,s,u,c,l,h,f,d=e[2],p=[];for(let t=0;t<d.length;t+=1)p[t]=qt(Pt(e,d,t));return{c(){t=I("ion-header"),t.innerHTML='<ion-toolbar translucent=""><ion-title>Menu</ion-title></ion-toolbar>',n=k(),i=I("ion-content"),r=I("ion-list");for(let e=0;e<p.length;e+=1)p[e].c();a=k(),s=I("ion-item"),u=k(),c=I("ion-item"),c.innerHTML='<ion-icon name="logo-github" slot="start"></ion-icon> \n          <ion-label>Go to GitHub for this app</ion-label>',l=k(),h=I("ion-item"),h.innerHTML='<ion-icon name="logo-ionic" slot="start"></ion-icon> \n          <ion-label>Go to Ionic Forum</ion-label>',f=[A(c,"click",e[7]),A(h,"click",e[8])]},m(e,o){w(e,t,o),w(e,n,o),w(e,i,o),b(i,r);for(let e=0;e<p.length;e+=1)p[e].m(r,null);b(r,a),b(r,s),b(r,u),b(r,c),b(r,l),b(r,h)},p(e,t){if(28&t){let n;for(d=e[2],n=0;n<d.length;n+=1){const i=Pt(e,d,n);p[n]?p[n].p(i,t):(p[n]=qt(i),p[n].c(),p[n].m(r,a))}for(;n<p.length;n+=1)p[n].d(1);p.length=d.length}},d(e){e&&T(t),e&&T(n),e&&T(i),E(p,e),o(f)}}}function qt(e){let t,n,i,r,o,a,s,u,c=e[10].label+"";function l(...t){return e[6](e[10],...t)}return{c(){t=I("ion-item"),n=I("ion-icon"),o=k(),a=I("ion-label"),s=S(c),D(n,"name",i=e[10].icon),D(n,"slot","start"),D(n,"color",r=e[4]()),u=A(t,"click",l)},m(e,i){w(e,t,i),b(t,n),b(t,o),b(t,a),b(a,s)},p(t,r){e=t,4&r&&i!==(i=e[10].icon)&&D(n,"name",i),4&r&&c!==(c=e[10].label+"")&&x(s,c)},d(e){e&&T(t),u()}}}function Ft(t){let n,i,r,o=t[2].length>0&&Mt(t);return{c(){n=I("ion-menu"),o&&o.c(),i=k(),r=I("ion-menu-controller"),D(n,"side",t[0])},m(e,a){w(e,n,a),o&&o.m(n,null),w(e,i,a),w(e,r,a),t[9](r)},p(e,[t]){e[2].length>0?o?o.p(e,t):(o=Mt(e),o.c(),o.m(n,null)):o&&(o.d(1),o=null),1&t&&D(n,"side",e[0])},i:e,o:e,d(e){e&&T(n),o&&o.d(),e&&T(i),e&&T(r),t[9](null)}}}function Bt(e,t,n){let i,{side:r="start"}=t;function o(e){i.close(),Ne(e)}let a,s=[{url:"/tabs/movies",label:"Tabs & modal/alert/etc",icon:"home"},{url:"/avatars",label:"Avatars",icon:"home"},{url:"/badges",label:"Badges",icon:"home"},{url:"/buttons",label:"Buttons",icon:"home"},{url:"/cards",label:"Cards",icon:"home"},{url:"/checkboxes",label:"Checkboxes",icon:"home"},{url:"/chips",label:"Chips",icon:"home"},{url:"/datetime",label:"Datetime",icon:"home"},{url:"/fabs",label:"Fabs",icon:"home"},{url:"/grid",label:"Grid",icon:"home"},{url:"/icons",label:"Icons",icon:"home"},{url:"/infinitescroll",label:"Infinitescroll",icon:"home"},{url:"/inputs",label:"Inputs",icon:"home"},{url:"/items",label:"Items",icon:"home"},{url:"/lists",label:"Lists",icon:"home"},{url:"/navhome",label:"Nav",icon:"home"},{url:"/notes",label:"Notes",icon:"home"},{url:"/pane",label:"Pane (non-ionic experimental)",icon:"home"},{url:"/progressbar",label:"Progressbar",icon:"home"},{url:"/radios",label:"Radios",icon:"home"},{url:"/range",label:"Range",icon:"home"},{url:"/refresher",label:"Refresher",icon:"home"},{url:"/reorder",label:"Reorder",icon:"home"},{url:"/searchbar",label:"Searchbar",icon:"home"},{url:"/segment",label:"Segment",icon:"home"},{url:"/select",label:"Select",icon:"home"},{url:"/skeleton",label:"Skeleton",icon:"home"},{url:"/slides",label:"Slides",icon:"home"},{url:"/spinner",label:"Spinner",icon:"home"},{url:"/timeline",label:"Timeline (non ionic)",icon:"home"},{url:"/text",label:"Text",icon:"home"},{url:"/thumbnails",label:"Thumbnails",icon:"home"},{url:"/toggle",label:"Toggle",icon:"home"},{url:"/toolbar",label:"Toolbar",icon:"home"}];Ot("/assets/json/ionicons.json").subscribe(e=>{e.json().then(e=>{a=e.icons,s.map(e=>{e.icon=a[Math.floor(Math.random()*a.length)]}),n(2,s=[...s])})},e=>{console.error("Error HTTP",e)});return e.$set=e=>{"side"in e&&n(0,r=e.side)},[r,i,s,o,()=>{const e=["secondary","primary","danger","warning","dark","medium","success","tertiary"];return e[Math.floor(Math.random()*e.length)]},a,e=>{o(e.url)},()=>{window.open("https://github.com/Tommertom/svelte-ionic-app","_blank")},()=>{window.open("https://forum.ionicframework.com/t/ionicsvelte-all-of-ionics-ui-in-one-svelte-app","_blank")},function(e){$[e?"unshift":"push"](()=>{n(1,i=e)})}]}class Ut extends Te{constructor(e){super(),we(this,e,Bt,Ft,s,{side:0})}}function Vt(e,t,n){const i=e.slice();return i[5]=t[n],i}function jt(e,t,n){const i=e.slice();return i[5]=t[n],i}function Wt(e){let t,n,i;var r=e[5].component;if(r)var o=new r({});return{c(){t=I("ion-tab"),o&&ve(o.$$.fragment),D(t,"tab",n=e[5].tab)},m(e,n){w(e,t,n),o&&ge(o,t,null),i=!0},p(e,a){if(r!==(r=e[5].component)){if(o){se();const e=o;le(e.$$.fragment,1,0,()=>{ye(e,1)}),ue()}r?(ve((o=new r({})).$$.fragment),ce(o.$$.fragment,1),ge(o,t,null)):o=null}(!i||1&a&&n!==(n=e[5].tab))&&D(t,"tab",n)},i(e){i||(o&&ce(o.$$.fragment,e),i=!0)},o(e){o&&le(o.$$.fragment,e),i=!1},d(e){e&&T(t),o&&ye(o)}}}function Ht(e){let t,n,i,r,o,a,s,u,c=e[5].label+"";return{c(){t=I("ion-tab-button"),n=I("ion-label"),i=S(c),r=k(),o=I("ion-icon"),s=k(),D(o,"name",a=e[5].icon),D(t,"tab",u=e[5].tab)},m(e,a){w(e,t,a),b(t,n),b(n,i),b(t,r),b(t,o),b(t,s)},p(e,n){1&n&&c!==(c=e[5].label+"")&&x(i,c),1&n&&a!==(a=e[5].icon)&&D(o,"name",a),1&n&&u!==(u=e[5].tab)&&D(t,"tab",u)},d(e){e&&T(t)}}}function Kt(e){let t,n,i,r,o,a,s,u=e[0],c=[];for(let t=0;t<u.length;t+=1)c[t]=Wt(jt(e,u,t));const l=e=>le(c[e],1,1,()=>{c[e]=null});let h=e[0],f=[];for(let t=0;t<h.length;t+=1)f[t]=Ht(Vt(e,h,t));return{c(){t=I("ion-router"),n=k(),i=I("ion-tabs");for(let e=0;e<c.length;e+=1)c[e].c();r=k(),o=I("ion-tab-bar");for(let e=0;e<f.length;e+=1)f[e].c();D(o,"slot","bottom"),D(o,"selected-tab",e[1]),s=A(i,"ionTabsDidChange",e[2])},m(e,s){w(e,t,s),w(e,n,s),w(e,i,s);for(let e=0;e<c.length;e+=1)c[e].m(i,null);b(i,r),b(i,o);for(let e=0;e<f.length;e+=1)f[e].m(o,null);a=!0},p(e,[t]){if(1&t){let n;for(u=e[0],n=0;n<u.length;n+=1){const o=jt(e,u,n);c[n]?(c[n].p(o,t),ce(c[n],1)):(c[n]=Wt(o),c[n].c(),ce(c[n],1),c[n].m(i,r))}for(se(),n=u.length;n<c.length;n+=1)l(n);ue()}if(1&t){let n;for(h=e[0],n=0;n<h.length;n+=1){const i=Vt(e,h,n);f[n]?f[n].p(i,t):(f[n]=Ht(i),f[n].c(),f[n].m(o,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=h.length}(!a||2&t)&&D(o,"selected-tab",e[1])},i(e){if(!a){for(let e=0;e<u.length;e+=1)ce(c[e]);a=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)le(c[e]);a=!1},d(e){e&&T(t),e&&T(n),e&&T(i),E(c,e),E(f,e),s()}}}function Gt(e,t,n){let{tabs:i}=t,{selected:r}=t,o=0;const a=()=>{const e=document.querySelector("ion-tabs");e.select?e.select(r):o<300&&setTimeout(()=>{o++,a()},1)};W(()=>{r&&a()});return e.$set=e=>{"tabs"in e&&n(0,i=e.tabs),"selected"in e&&n(1,r=e.selected)},[i,r,e=>{history.pushState(e.detail,e.detail.tab,"/tabs/"+e.detail.tab)}]}class zt extends Te{constructor(e){super(),we(this,e,Gt,Kt,s,{tabs:0,selected:1})}}function $t(e){const t=e-1;return t*t*t+1}function Qt(e){return e<.5?.5*Math.sin(13*Math.PI/2*2*e)*Math.pow(2,10*(2*e-1)):.5*Math.sin(-13*Math.PI/2*(2*e-1+1))*Math.pow(2,-10*(2*e-1))+1}function Yt(e,{delay:t=0,duration:n=400,easing:i=$t,x:r=0,y:o=0,opacity:a=0}){const s=getComputedStyle(e),u=+s.opacity,c="none"===s.transform?"":s.transform,l=u*(1-a);return{delay:t,duration:n,easing:i,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*r}px, ${(1-e)*o}px);\n\t\t\topacity: ${u-l*t}`}}function Jt(e,{delay:t=0,duration:n=400,easing:i=$t,start:r=0,opacity:o=0}){const a=getComputedStyle(e),s=+a.opacity,u="none"===a.transform?"":a.transform,c=1-r,l=s*(1-o);return{delay:t,duration:n,easing:i,css:(e,t)=>`\n\t\t\ttransform: ${u} scale(${1-c*t});\n\t\t\topacity: ${s-l*t}\n\t\t`}}!function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"}(Tt||(Tt={})),function(e){e.Rear="REAR",e.Front="FRONT"}(Et||(Et={})),function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"}(It||(It={})),function(e){e.Application="APPLICATION",e.Documents="DOCUMENTS",e.Data="DATA",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(St||(St={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(kt||(kt={})),function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(Ct||(Ct={})),function(e){e.SUCCESS="SUCCESS",e.WARNING="WARNING",e.ERROR="ERROR"}(_t||(_t={})),function(e){e.Dark="DARK",e.Light="LIGHT"}(At||(At={})),function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"}(Nt||(Nt={})),function(e){e.Default="DEFAULT",e.Destructive="DESTRUCTIVE",e.Cancel="CANCEL"}(Dt||(Dt={})),function(e){e.Camera="camera",e.Photos="photos",e.Geolocation="geolocation",e.Notifications="notifications",e.ClipboardRead="clipboard-read",e.ClipboardWrite="clipboard-write"}(xt||(xt={})),function(e){e.Smart="smart",e.Shared="shared",e.User="user"}(Lt||(Lt={})),function(e){e.Dark="DARK",e.Light="LIGHT"}(Rt||(Rt={}));var Xt=function(){function e(){var e=this;this.platform="web",this.isNative=!1,this.Plugins={},this.Plugins=new Proxy(this.Plugins,{get:function(t,n){if(void 0===t[n]){var i=e;return new Proxy({},{get:function(e,t){return void 0===e[t]?i.pluginMethodNoop.bind(i,e,t,n):e[t]}})}return t[n]}})}return e.prototype.pluginMethodNoop=function(e,t,n){return Promise.reject(n+" does not have web implementation.")},e.prototype.getPlatform=function(){return this.platform},e.prototype.isPluginAvailable=function(e){return this.Plugins.hasOwnProperty(e)},e.prototype.convertFileSrc=function(e){return e},e.prototype.handleError=function(e){console.error(e)},e}(),Zt=function(e){return e.Capacitor=e.Capacitor||new Xt}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).Plugins,en=new(function(){function e(){this.plugins={},this.loadedPlugins={}}return e.prototype.addPlugin=function(e){this.plugins[e.config.name]=e},e.prototype.getPlugin=function(e){return this.plugins[e]},e.prototype.loadPlugin=function(e){var t=this.getPlugin(e);t?t.load():console.error("Unable to load web plugin "+e+", no such plugin found.")},e.prototype.getPlugins=function(){var e=[];for(var t in this.plugins)e.push(this.plugins[t]);return e},e}()),tn=function(){function e(e,t){this.config=e,this.loaded=!1,this.listeners={},this.windowListeners={},t?t.addPlugin(this):en.addPlugin(this)}return e.prototype.addWindowListener=function(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0},e.prototype.removeWindowListener=function(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)},e.prototype.addListener=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);var i=this.windowListeners[e];return i&&!i.registered&&this.addWindowListener(i),{remove:function(){n.removeListener(e,t)}}},e.prototype.removeListener=function(e,t){var n=this.listeners[e];if(n){var i=n.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}},e.prototype.notifyListeners=function(e,t){var n=this.listeners[e];n&&n.forEach((function(e){return e(t)}))},e.prototype.hasListeners=function(e){return!!this.listeners[e].length},e.prototype.registerWindowListener=function(e,t){var n=this;this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:function(e){n.notifyListeners(t,e)}}},e.prototype.requestPermissions=function(){return Capacitor.isNative?Capacitor.nativePromise(this.config.name,"requestPermissions",{}):Promise.resolve({results:[]})},e.prototype.load=function(){this.loaded=!0},e}(),nn=function(e,t){e.hasOwnProperty(t.config.name)&&!function(e){return e.config.platforms&&e.config.platforms.indexOf(Capacitor.platform)>=0}(t)||(e[t.config.name]=t)},rn=function(e,t){return(rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function on(e,t){function n(){this.constructor=e}rn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var an=function(){return(an=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function sn(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((i=i.apply(e,t||[])).next())}))}function un(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function cn(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function ln(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function hn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ln(arguments[t]));return e}function fn(e){return this instanceof fn?(this.v=e,this):new fn(e)}var dn=Object.freeze({__proto__:null,__extends:on,get __assign(){return an},__rest:function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},__decorate:function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,i){t(n,i,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:sn,__generator:un,__exportStar:function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},__values:cn,__read:ln,__spread:hn,__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},__await:fn,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){o.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof fn?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(r[e](t))}catch(e){l(o[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:function(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:fn(e[i](t)),done:"return"===i}:r?r(t):t}:r}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=cn(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}}}),pn=(new(function(e){function t(){return e.call(this,{name:"Accessibility",platforms:["web"]})||this}return on(t,e),t.prototype.isScreenReaderEnabled=function(){throw new Error("Feature not available in the browser")},t.prototype.speak=function(e){if(!("speechSynthesis"in window))return Promise.reject("Browser does not support the Speech Synthesis API");var t=new SpeechSynthesisUtterance(e.value);return e.language&&(t.lang=e.language),window.speechSynthesis.speak(t),Promise.resolve()},t}(tn)),new(function(e){function t(){var t=e.call(this,{name:"App",platforms:["web"]})||this;return"undefined"!=typeof document&&document.addEventListener("visibilitychange",t.handleVisibilityChange.bind(t),!1),t}return on(t,e),t.prototype.exitApp=function(){throw new Error("Method not implemented.")},t.prototype.canOpenUrl=function(e){return Promise.resolve({value:!0})},t.prototype.openUrl=function(e){return Promise.resolve({completed:!0})},t.prototype.getLaunchUrl=function(){return Promise.resolve({url:""})},t.prototype.handleVisibilityChange=function(){var e={isActive:!0!==document.hidden};this.notifyListeners("appStateChange",e)},t}(tn)),new(function(e){function t(){return e.call(this,{name:"Browser",platforms:["web"]})||this}return on(t,e),t.prototype.open=function(e){return sn(this,void 0,void 0,(function(){return un(this,(function(t){return this._lastWindow=window.open(e.url,e.windowName||"_blank"),[2,Promise.resolve()]}))}))},t.prototype.prefetch=function(e){return sn(this,void 0,void 0,(function(){return un(this,(function(e){return[2,Promise.resolve()]}))}))},t.prototype.close=function(){return sn(this,void 0,void 0,(function(){return un(this,(function(e){return this._lastWindow&&this._lastWindow.close(),[2,Promise.resolve()]}))}))},t}(tn)),new(function(e){function t(){return e.call(this,{name:"Camera",platforms:["web"]})||this}return on(t,e),t.prototype.getPhoto=function(e){return sn(this,void 0,void 0,(function(){var t=this;return un(this,(function(n){return[2,new Promise((function(n,i){return sn(t,void 0,void 0,(function(){var t,r=this;return un(this,(function(o){switch(o.label){case 0:return t=document.createElement("pwa-camera-modal"),document.body.appendChild(t),[4,t.componentOnReady()];case 1:return o.sent(),t.addEventListener("onPhoto",(function(o){return sn(r,void 0,void 0,(function(){var r,a;return un(this,(function(s){switch(s.label){case 0:return null!==(r=o.detail)?[3,1]:(i("User cancelled photos app"),[3,4]);case 1:return r instanceof Error?(i(r.message),[3,4]):[3,2];case 2:return a=n,[4,this._getCameraPhoto(r,e)];case 3:a.apply(void 0,[s.sent()]),s.label=4;case 4:return t.dismiss(),document.body.removeChild(t),[2]}}))}))})),t.present(),[2]}}))}))}))]}))}))},t.prototype._getCameraPhoto=function(e,t){return new Promise((function(n,i){var r=new FileReader,o=e.type.split("/")[1];t.resultType===It.Uri?n({webPath:URL.createObjectURL(e),format:o}):(r.readAsDataURL(e),r.onloadend=function(){var e=r.result;t.resultType===It.DataUrl?n({dataUrl:e,format:o}):n({base64String:e.split(",")[1],format:o})},r.onerror=function(e){i(e)})}))},t}(tn)),new(function(e){function t(){return e.call(this,{name:"Clipboard",platforms:["web"]})||this}return on(t,e),t.prototype.write=function(e){return sn(this,void 0,void 0,(function(){return un(this,(function(t){switch(t.label){case 0:return navigator.clipboard?e.string||e.url?[4,navigator.clipboard.writeText(e.string||e.url)]:[3,2]:[2,Promise.reject("Clipboard API not available in this browser")];case 1:return t.sent(),[3,3];case 2:if(e.image)return[2,Promise.reject("Setting images not supported on the web")];t.label=3;case 3:return[2,Promise.resolve()]}}))}))},t.prototype.read=function(e){return sn(this,void 0,void 0,(function(){var t,n,i,r,o;return un(this,(function(a){switch(a.label){case 0:return navigator.clipboard?"string"!==e.type&&"url"!==e.type?[3,2]:[4,navigator.clipboard.readText()]:[2,Promise.reject("Clipboard API not available in this browser")];case 1:return t=a.sent(),[2,Promise.resolve({value:t})];case 2:return[4,navigator.clipboard.read()];case 3:for(n=a.sent(),i=0,r=n.items;i<r.length;i++)if("text/plain"===(o=r[i]).type)return[2,Promise.resolve({value:o.getAs("text/plain")})];a.label=4;case 4:return[2,Promise.reject("Unable to get data from clipboard")]}}))}))},t}(tn)),new(function(e){function t(){var t=e.call(this,{name:"Filesystem",platforms:["web"]})||this;return t.DEFAULT_DIRECTORY=St.Data,t.DB_VERSION=1,t.DB_NAME="Disc",t._writeCmds=["add","put","delete"],t}return on(t,e),t.prototype.initDb=function(){return sn(this,void 0,void 0,(function(){var e=this;return un(this,(function(n){if(void 0!==this._db)return[2,this._db];if(!("indexedDB"in window))throw new Error("This browser doesn't support IndexedDB");return[2,new Promise((function(n,i){var r=indexedDB.open(e.DB_NAME,e.DB_VERSION);r.onupgradeneeded=t.doUpgrade,r.onsuccess=function(){e._db=r.result,n(r.result)},r.onerror=function(){return i(r.error)},r.onblocked=function(){console.warn("db blocked")}}))]}))}))},t.doUpgrade=function(e){var t=e.target.result;switch(e.oldVersion){case 0:case 1:default:t.objectStoreNames.contains("FileStorage")&&t.deleteObjectStore("FileStorage"),t.createObjectStore("FileStorage",{keyPath:"path"}).createIndex("by_folder","folder")}},t.prototype.dbRequest=function(e,t){return sn(this,void 0,void 0,(function(){var n;return un(this,(function(i){return n=-1!==this._writeCmds.indexOf(e)?"readwrite":"readonly",[2,this.initDb().then((function(i){return new Promise((function(r,o){var a=i.transaction(["FileStorage"],n).objectStore("FileStorage"),s=a[e].apply(a,t);s.onsuccess=function(){return r(s.result)},s.onerror=function(){return o(s.error)}}))}))]}))}))},t.prototype.dbIndexRequest=function(e,t,n){return sn(this,void 0,void 0,(function(){var i;return un(this,(function(r){return i=-1!==this._writeCmds.indexOf(t)?"readwrite":"readonly",[2,this.initDb().then((function(r){return new Promise((function(o,a){var s=r.transaction(["FileStorage"],i).objectStore("FileStorage").index(e),u=s[t].apply(s,n);u.onsuccess=function(){return o(u.result)},u.onerror=function(){return a(u.error)}}))}))]}))}))},t.prototype.getPath=function(e,t){e=e||this.DEFAULT_DIRECTORY;var n=void 0!==t?t.replace(/^[/]+|[/]+$/g,""):"",i="/"+e;return""!==t&&(i+="/"+n),i},t.prototype.clear=function(){return sn(this,void 0,void 0,(function(){var e,t;return un(this,(function(n){switch(n.label){case 0:return[4,this.initDb()];case 1:return e=n.sent(),t=e.transaction(["FileStorage"],"readwrite"),t.objectStore("FileStorage").clear(),[2,{}]}}))}))},t.prototype.readFile=function(e){return sn(this,void 0,void 0,(function(){var t,n;return un(this,(function(i){switch(i.label){case 0:return t=this.getPath(e.directory,e.path),[4,this.dbRequest("get",[t])];case 1:if(void 0===(n=i.sent()))throw Error("File does not exist.");return[2,{data:n.content}]}}))}))},t.prototype.writeFile=function(e){return sn(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,u,c;return un(this,(function(l){switch(l.label){case 0:return t=this.getPath(e.directory,e.path),n=e.data,[4,this.dbRequest("get",[t])];case 1:if((i=l.sent())&&"directory"===i.type)throw"The supplied path is a directory.";return r=e.encoding,o=t.substr(0,t.lastIndexOf("/")),[4,this.dbRequest("get",[o])];case 2:return void 0!==l.sent()?[3,4]:-1===(a=o.indexOf("/",1))?[3,4]:(s=o.substr(a),[4,this.mkdir({path:s,directory:e.directory,recursive:!0})]);case 3:l.sent(),l.label=4;case 4:return u=Date.now(),c={path:t,folder:o,type:"file",size:n.length,ctime:u,mtime:u,content:!r&&n.indexOf(",")>=0?n.split(",")[1]:n},[4,this.dbRequest("put",[c])];case 5:return l.sent(),[2,{}]}}))}))},t.prototype.appendFile=function(e){return sn(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,u;return un(this,(function(c){switch(c.label){case 0:return t=this.getPath(e.directory,e.path),n=e.data,i=t.substr(0,t.lastIndexOf("/")),r=Date.now(),o=r,[4,this.dbRequest("get",[t])];case 1:if((a=c.sent())&&"directory"===a.type)throw"The supplied path is a directory.";return[4,this.dbRequest("get",[i])];case 2:return void 0!==c.sent()?[3,4]:(s=i.substr(i.indexOf("/",1)),[4,this.mkdir({path:s,directory:e.directory,recursive:!0})]);case 3:c.sent(),c.label=4;case 4:return void 0!==a&&(n=a.content+n,o=a.ctime),u={path:t,folder:i,type:"file",size:n.length,ctime:o,mtime:r,content:n},[4,this.dbRequest("put",[u])];case 5:return c.sent(),[2,{}]}}))}))},t.prototype.deleteFile=function(e){return sn(this,void 0,void 0,(function(){var t;return un(this,(function(n){switch(n.label){case 0:return t=this.getPath(e.directory,e.path),[4,this.dbRequest("get",[t])];case 1:if(void 0===n.sent())throw Error("File does not exist.");return[4,this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(t)])];case 2:if(0!==n.sent().length)throw Error("Folder is not empty.");return[4,this.dbRequest("delete",[t])];case 3:return n.sent(),[2,{}]}}))}))},t.prototype.mkdir=function(e){return sn(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,u,c,l,h;return un(this,(function(f){switch(f.label){case 0:return t=this.getPath(e.directory,e.path),n=e.createIntermediateDirectories,void 0!==e.createIntermediateDirectories&&console.warn("createIntermediateDirectories is deprecated, use recursive"),i=e.recursive,r=n||i,o=t.substr(0,t.lastIndexOf("/")),a=(t.match(/\//g)||[]).length,[4,this.dbRequest("get",[o])];case 1:return s=f.sent(),[4,this.dbRequest("get",[t])];case 2:if(u=f.sent(),1===a)throw Error("Cannot create Root directory");if(void 0!==u)throw Error("Current directory does already exist.");if(!r&&2!==a&&void 0===s)throw Error("Parent directory must exist");return r&&2!==a&&void 0===s?(c=o.substr(o.indexOf("/",1)),[4,this.mkdir({path:c,directory:e.directory,recursive:r})]):[3,4];case 3:f.sent(),f.label=4;case 4:return l=Date.now(),h={path:t,folder:o,type:"directory",size:0,ctime:l,mtime:l},[4,this.dbRequest("put",[h])];case 5:return f.sent(),[2,{}]}}))}))},t.prototype.rmdir=function(e){return sn(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,u,c,l;return un(this,(function(h){switch(h.label){case 0:return t=e.path,n=e.directory,i=e.recursive,r=this.getPath(n,t),[4,this.dbRequest("get",[r])];case 1:if(void 0===(o=h.sent()))throw Error("Folder does not exist.");if("directory"!==o.type)throw Error("Requested path is not a directory");return[4,this.readdir({path:t,directory:n})];case 2:if(0!==(a=h.sent()).files.length&&!i)throw Error("Folder is not empty");s=0,u=a.files,h.label=3;case 3:return s<u.length?(c=u[s],l=t+"/"+c,[4,this.stat({path:l,directory:n})]):[3,9];case 4:return"file"!==h.sent().type?[3,6]:[4,this.deleteFile({path:l,directory:n})];case 5:return h.sent(),[3,8];case 6:return[4,this.rmdir({path:l,directory:n,recursive:i})];case 7:h.sent(),h.label=8;case 8:return s++,[3,3];case 9:return[4,this.dbRequest("delete",[r])];case 10:return h.sent(),[2,{}]}}))}))},t.prototype.readdir=function(e){return sn(this,void 0,void 0,(function(){var t,n,i;return un(this,(function(r){switch(r.label){case 0:return t=this.getPath(e.directory,e.path),[4,this.dbRequest("get",[t])];case 1:if(n=r.sent(),""!==e.path&&void 0===n)throw Error("Folder does not exist.");return[4,this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(t)])];case 2:return i=r.sent(),[2,{files:i.map((function(e){return e.substring(t.length+1)}))}]}}))}))},t.prototype.getUri=function(e){return sn(this,void 0,void 0,(function(){var t,n;return un(this,(function(i){switch(i.label){case 0:return t=this.getPath(e.directory,e.path),[4,this.dbRequest("get",[t])];case 1:return void 0!==(n=i.sent())?[3,3]:[4,this.dbRequest("get",[t+"/"])];case 2:n=i.sent(),i.label=3;case 3:if(void 0===n)throw Error("Entry does not exist.");return[2,{uri:n.path}]}}))}))},t.prototype.stat=function(e){return sn(this,void 0,void 0,(function(){var t,n;return un(this,(function(i){switch(i.label){case 0:return t=this.getPath(e.directory,e.path),[4,this.dbRequest("get",[t])];case 1:return void 0!==(n=i.sent())?[3,3]:[4,this.dbRequest("get",[t+"/"])];case 2:n=i.sent(),i.label=3;case 3:if(void 0===n)throw Error("Entry does not exist.");return[2,{type:n.type,size:n.size,ctime:n.ctime,mtime:n.mtime,uri:n.path}]}}))}))},t.prototype.rename=function(e){return sn(this,void 0,void 0,(function(){return un(this,(function(t){return[2,this._copy(e,!0)]}))}))},t.prototype.copy=function(e){return sn(this,void 0,void 0,(function(){return un(this,(function(t){return[2,this._copy(e,!1)]}))}))},t.prototype._copy=function(e,t){return void 0===t&&(t=!1),sn(this,void 0,void 0,(function(){var n,i,r,o,a,s,u,c,l,h,f,d,p,m,v,g,y=this;return un(this,(function(b){switch(b.label){case 0:if(n=e.to,i=e.from,r=e.directory,o=e.toDirectory,!n||!i)throw Error("Both to and from must be provided");if(o||(o=r),a=this.getPath(r,i),s=this.getPath(o,n),a===s)return[2,{}];if(s.startsWith(a))throw Error("To path cannot contain the from path");b.label=1;case 1:return b.trys.push([1,3,,6]),[4,this.stat({path:n,directory:o})];case 2:return u=b.sent(),[3,6];case 3:return b.sent(),(c=n.split("/")).pop(),l=c.join("/"),c.length>0?[4,this.stat({path:l,directory:o})]:[3,5];case 4:if("directory"!==b.sent().type)throw new Error("Parent directory of the to path is a file");b.label=5;case 5:return[3,6];case 6:if(u&&"directory"===u.type)throw new Error("Cannot overwrite a directory with a file");return[4,this.stat({path:i,directory:r})];case 7:switch(h=b.sent(),f=function(e,t,n){return sn(y,void 0,void 0,(function(){var i,r;return un(this,(function(a){switch(a.label){case 0:return i=this.getPath(o,e),[4,this.dbRequest("get",[i])];case 1:return(r=a.sent()).ctime=t,r.mtime=n,[4,this.dbRequest("put",[r])];case 2:return a.sent(),[2]}}))}))},h.type){case"file":return[3,8];case"directory":return[3,15]}return[3,28];case 8:return[4,this.readFile({path:i,directory:r})];case 9:return d=b.sent(),t?[4,this.deleteFile({path:i,directory:r})]:[3,11];case 10:b.sent(),b.label=11;case 11:return[4,this.writeFile({path:n,directory:o,data:d.data})];case 12:return b.sent(),t?[4,f(n,h.ctime,h.mtime)]:[3,14];case 13:b.sent(),b.label=14;case 14:return[2,{}];case 15:if(u)throw Error("Cannot move a directory over an existing object");b.label=16;case 16:return b.trys.push([16,20,,21]),[4,this.mkdir({path:n,directory:o,recursive:!1})];case 17:return b.sent(),t?[4,f(n,h.ctime,h.mtime)]:[3,19];case 18:b.sent(),b.label=19;case 19:return[3,21];case 20:return b.sent(),[3,21];case 21:return[4,this.readdir({path:i,directory:r})];case 22:p=b.sent().files,m=0,v=p,b.label=23;case 23:return m<v.length?(g=v[m],[4,this._copy({from:i+"/"+g,to:n+"/"+g,directory:r,toDirectory:o},t)]):[3,26];case 24:b.sent(),b.label=25;case 25:return m++,[3,23];case 26:return t?[4,this.rmdir({path:i,directory:r})]:[3,28];case 27:b.sent(),b.label=28;case 28:return[2,{}]}}))}))},t._debug=!0,t}(tn)),function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){if(t&&"object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})),e});new(function(e){function t(){return e.call(this,{name:"Geolocation",platforms:["web"]})||this}return on(t,e),t.prototype.getCurrentPosition=function(e){var t=this;return new Promise((function(n,i){return t.requestPermissions().then((function(t){window.navigator.geolocation.getCurrentPosition((function(e){n(e)}),(function(e){i(e)}),pn({enableHighAccuracy:!0,timeout:1e4,maximumAge:0},e))}))}))},t.prototype.watchPosition=function(e,t){return""+window.navigator.geolocation.watchPosition((function(e){t(e)}),(function(e){t(null,e)}),pn({enableHighAccuracy:!0,timeout:1e4,maximumAge:0},e))},t.prototype.clearWatch=function(e){return window.navigator.geolocation.clearWatch(parseInt(e.id,10)),Promise.resolve()},t}(tn)),new(function(e){function t(){return e.call(this,{name:"Device",platforms:["web"]})||this}return on(t,e),t.prototype.getInfo=function(){return sn(this,void 0,void 0,(function(){var e,t,n;return un(this,(function(i){switch(i.label){case 0:e=navigator.userAgent,t=this.parseUa(e),n={},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,navigator.getBattery()];case 2:return n=i.sent(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2,Promise.resolve({model:t.model,platform:"web",appVersion:"",appBuild:"",operatingSystem:t.operatingSystem,osVersion:t.osVersion,manufacturer:navigator.vendor,isVirtual:!1,batteryLevel:n.level,isCharging:n.charging,uuid:this.getUid()})]}}))}))},t.prototype.getLanguageCode=function(){return sn(this,void 0,void 0,(function(){return un(this,(function(e){return[2,{value:navigator.language}]}))}))},t.prototype.parseUa=function(e){var t={},n=e.indexOf("(")+1,i=e.indexOf(") AppleWebKit");-1!==e.indexOf(") Gecko")&&(i=e.indexOf(") Gecko"));var r=e.substring(n,i);if(-1!==e.indexOf("Android"))t.model=r.replace("; wv","").split("; ").pop().split(" Build")[0],t.osVersion=r.split("; ")[1];else if(t.model=r.split("; ")[0],navigator.oscpu)t.osVersion=navigator.oscpu;else if(-1!==e.indexOf("Windows"))t.osVersion=r;else{var o=r.split("; ").pop().replace(" like Mac OS X","").split(" ");t.osVersion=o[o.length-1].replace(/_/g,".")}return/android/i.test(e)?t.operatingSystem="android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?t.operatingSystem="ios":/Win/.test(e)?t.operatingSystem="windows":/Mac/i.test(e)?t.operatingSystem="mac":t.operatingSystem="unknown",t},t.prototype.getUid=function(){var e=window.localStorage.getItem("_capuid");return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),window.localStorage.setItem("_capuid",e),e)},t}(tn)),new(function(e){function t(){var t=e.call(this,{name:"LocalNotifications",platforms:["web"]})||this;return t.pending=[],t}return on(t,e),t.prototype.sendPending=function(){var e=this,t=[],n=+new Date;this.pending.forEach((function(i){i.schedule&&i.schedule.at&&+i.schedule.at<=n&&(e.buildNotification(i),t.push(i))})),console.log("Sent pending, removing",t),this.pending=this.pending.filter((function(e){return!t.find((function(t){return t===e}))}))},t.prototype.sendNotification=function(e){var t=this,n=e;if(e.schedule&&e.schedule.at){var i=+e.schedule.at-+new Date;return this.pending.push(n),void setTimeout((function(){t.sendPending()}),i)}this.buildNotification(e)},t.prototype.buildNotification=function(e){var t=e;return new Notification(t.title,{body:t.body})},t.prototype.schedule=function(e){var t=this,n=[];return e.notifications.forEach((function(e){n.push(t.sendNotification(e))})),Promise.resolve({notifications:n.map((function(e){return{id:""}}))})},t.prototype.getPending=function(){return Promise.resolve({notifications:this.pending.map((function(e){return{id:""+e.id}}))})},t.prototype.registerActionTypes=function(e){throw new Error("Method not implemented.")},t.prototype.cancel=function(e){return console.log("Cancel these",e),this.pending=this.pending.filter((function(t){return!e.notifications.find((function(e){return e.id===""+t.id}))})),Promise.resolve()},t.prototype.areEnabled=function(){throw new Error("Method not implemented.")},t.prototype.requestPermissions=function(){return new Promise((function(e,t){Notification.requestPermission((function(n){"denied"!==n&&"default"!==n?e({results:[n]}):t(n)}))}))},t}(tn)),new(function(e){function t(){return e.call(this,{name:"Share",platforms:["web"]})||this}return on(t,e),t.prototype.share=function(e){return navigator.share?navigator.share({title:e.title,text:e.text,url:e.url}):Promise.reject("Web Share API not available")},t}(tn)),new(function(e){function t(){return e.call(this,{name:"Modals",platforms:["web"]})||this}return on(t,e),t.prototype.alert=function(e){return sn(this,void 0,void 0,(function(){return un(this,(function(t){return window.alert(e.message),[2,Promise.resolve()]}))}))},t.prototype.prompt=function(e){return sn(this,void 0,void 0,(function(){var t;return un(this,(function(n){return t=window.prompt(e.message,e.inputPlaceholder||""),[2,Promise.resolve({value:t,cancelled:null===t})]}))}))},t.prototype.confirm=function(e){return sn(this,void 0,void 0,(function(){var t;return un(this,(function(n){return t=window.confirm(e.message),[2,Promise.resolve({value:t})]}))}))},t.prototype.showActions=function(e){return sn(this,void 0,void 0,(function(){var t=this;return un(this,(function(n){return[2,new Promise((function(n,i){return sn(t,void 0,void 0,(function(){var t,i;return un(this,(function(r){switch(r.label){case 0:return(t=document.querySelector("ion-action-sheet-controller"))||(t=document.createElement("ion-action-sheet-controller"),document.body.appendChild(t)),[4,t.componentOnReady()];case 1:return r.sent(),i=e.options.map((function(e,t){return{text:e.title,role:e.style&&e.style.toLowerCase()||"",icon:e.icon||"",handler:function(){n({index:t})}}})),[4,t.create({title:e.title,buttons:i})];case 2:return[4,r.sent().present()];case 3:return r.sent(),[2]}}))}))}))]}))}))},t}(tn)),new(function(e){function t(){var t=e.call(this,{name:"Motion"})||this;return t.registerWindowListener("devicemotion","accel"),t.registerWindowListener("deviceorientation","orientation"),t}return on(t,e),t}(tn)),new(function(e){function t(){var t=e.call(this,{name:"Network",platforms:["web"]})||this;return t.listenerFunction=null,t}return on(t,e),t.prototype.getStatus=function(){return new Promise((function(e,t){if(window.navigator){var n=window.navigator.onLine,i=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,r=i?i.type||i.effectiveType:"wifi";e({connected:n,connectionType:n?r:"none"})}else t("Network info not available")}))},t.prototype.addListener=function(e,t){var n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,i=n?n.type||n.effectiveType:"wifi",r=t.bind(this,{connected:!0,connectionType:i}),o=t.bind(this,{connected:!1,connectionType:"none"});if(0===e.localeCompare("networkStatusChange"))return window.addEventListener("online",r),window.addEventListener("offline",o),{remove:function(){window.removeEventListener("online",r),window.removeEventListener("offline",o)}}},t}(tn)),new(function(e){function t(){return e.call(this,{name:"Permissions"})||this}return on(t,e),t.prototype.query=function(e){return sn(this,void 0,void 0,(function(){var t,n;return un(this,(function(i){switch(i.label){case 0:return(t=window.navigator).permissions?(n=e.name===xt.Photos?"camera":e.name,[4,t.permissions.query({name:n})]):[2,Promise.reject("This browser does not support the Permissions API")];case 1:return[2,{state:i.sent().state}]}}))}))},t}(tn)),new(function(e){function t(){return e.call(this,{name:"SplashScreen",platforms:["web"]})||this}return on(t,e),t.prototype.show=function(e,t){return Promise.resolve()},t.prototype.hide=function(e,t){return Promise.resolve()},t}(tn)),new(function(e){function t(){var t=e.call(this,{name:"Storage",platforms:["web"]})||this;return t.KEY_PREFIX="_cap_",t}return on(t,e),t.prototype.get=function(e){var t=this;return new Promise((function(n,i){n({value:window.localStorage.getItem(t.makeKey(e.key))})}))},t.prototype.set=function(e){var t=this;return new Promise((function(n,i){window.localStorage.setItem(t.makeKey(e.key),e.value),n()}))},t.prototype.remove=function(e){var t=this;return new Promise((function(n,i){window.localStorage.removeItem(t.makeKey(e.key)),n()}))},t.prototype.keys=function(){var e=this;return new Promise((function(t,n){t({keys:Object.keys(localStorage).filter((function(t){return e.isKey(t)})).map((function(t){return e.getKey(t)}))})}))},t.prototype.clear=function(){var e=this;return new Promise((function(t,n){Object.keys(localStorage).filter((function(t){return e.isKey(t)})).forEach((function(e){return window.localStorage.removeItem(e)})),t()}))},t.prototype.makeKey=function(e){return this.KEY_PREFIX+e},t.prototype.isKey=function(e){return 0===e.indexOf(this.KEY_PREFIX)},t.prototype.getKey=function(e){return e.substr(this.KEY_PREFIX.length)},t}(tn)),new(function(e){function t(){return e.call(this,{name:"Toast",platforms:["web"]})||this}return on(t,e),t.prototype.show=function(e){return sn(this,void 0,void 0,(function(){var t,n;return un(this,(function(i){return t=3e3,e.duration&&(t="long"===e.duration?5e3:3e3),(n=document.createElement("pwa-toast")).duration=t,n.message=e.text,document.body.appendChild(n),[2]}))}))},t}(tn));function mn(t){let n,i,r,o,a,s,u,c,l,h,f,d,p,m,v,g;return{c(){n=I("ion-header"),n.innerHTML="<ion-toolbar><ion-title>Ionic UI Companion</ion-title></ion-toolbar>",i=k(),r=I("ion-content"),o=I("br"),a=k(),s=I("br"),u=k(),c=I("br"),l=k(),h=I("div"),f=I("img"),m=k(),v=I("div"),v.textContent="Great success!",D(n,"translucent",""),f.src!==(d="assets/img/great-success.png")&&N(f,"src","assets/img/great-success.png"),N(f,"alt","Great success"),N(f,"class","svelte-1mafff2"),N(h,"class","ion-text-center")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),b(r,o),b(r,a),b(r,s),b(r,u),b(r,c),b(r,l),b(r,h),b(h,f),b(h,m),b(h,v)},p:e,i(e){p||ee(()=>{p=fe(f,Jt,{duration:1900,easing:Qt}),p.start()}),g||ee(()=>{g=fe(v,Jt,{delay:400,duration:1900,easing:Qt}),g.start()})},o:e,d(e){e&&T(n),e&&T(i),e&&T(r)}}}function vn(e){const t=document.querySelector("ion-split-pane");return t.disabled=!0,setTimeout(()=>{t.disabled=!1,Ne("/slides")},4e3),console.log("CAPACITOR PLUGINS",Zt),[]}!function(e){for(var t=0,n=en.getPlugins();t<n.length;t++){var i=n[t];nn(e,i)}}(Zt);class gn extends Te{constructor(e){super(),we(this,e,vn,mn,s,{})}}function yn(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Avatar</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<ion-list-header>Default</ion-list-header> \n  <ion-avatar class="ion-margin-start"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-avatar> \n\n  <ion-list-header>Chip Avatar</ion-list-header> \n  <ion-chip class="ion-margin-start"><ion-avatar><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-avatar> \n    <ion-label>Kit Bishop</ion-label></ion-chip> \n\n  <ion-list><ion-list-header>Item Avatars</ion-list-header> \n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-avatar> \n      <ion-label>Lorem ipsum</ion-label></ion-item> \n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-avatar> \n      <ion-label><h3>Lorem ipsum</h3> \n        <p>dolor sit amet</p></ion-label></ion-item> \n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-avatar> \n      <ion-label><h3>Lorem ipsum</h3> \n        <p>dolor sit amet</p> \n        <p>consectetur adipiscing elit. Duis ut urna neque.</p></ion-label></ion-item> \n    <ion-item><ion-avatar slot="end"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-avatar> \n      <ion-label>Lorem ipsum</ion-label></ion-item> \n    <ion-item><ion-avatar slot="end"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-avatar> \n      <ion-label><h3>Lorem ipsum</h3> \n        <p>dolor sit amet</p></ion-label></ion-item> \n    <ion-item><ion-avatar slot="end"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-avatar> \n      <ion-label><h3>Lorem ipsum</h3> \n        <p>dolor sit amet</p> \n        <p>consectetur adipiscing elit. Duis ut urna neque.</p></ion-label></ion-item></ion-list>',document.title="Ionic UI Companion App - Avatars",D(i,"translucent",""),D(o,"fullscreen","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class bn extends Te{constructor(e){super(),we(this,e,null,yn,s,{})}}function wn(t){let n,i,r;return{c(){n=I("ion-header"),n.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Badges</ion-title></ion-toolbar>',i=k(),r=I("ion-content"),r.innerHTML='<ion-list><ion-list-header>Badges</ion-list-header> \n    <ion-item><ion-label>Followers</ion-label> \n      <ion-badge slot="end">22k</ion-badge></ion-item> \n    <ion-item><ion-label>Likes</ion-label> \n      <ion-badge color="secondary" slot="end">118k</ion-badge></ion-item> \n    <ion-item><ion-label>Stars</ion-label> \n      <ion-badge color="tertiary" slot="end">34k</ion-badge></ion-item> \n    <ion-item><ion-label>Completed</ion-label> \n      <ion-badge color="success" slot="end">80</ion-badge></ion-item> \n    <ion-item><ion-label>Warnings</ion-label> \n      <ion-badge color="warning" slot="end">70</ion-badge></ion-item> \n    <ion-item><ion-label>Notifications</ion-label> \n      <ion-badge color="danger" slot="end">1000</ion-badge></ion-item> \n    <ion-item><ion-label>Unread</ion-label> \n      <ion-badge color="light" slot="end">24</ion-badge></ion-item> \n    <ion-item><ion-label>Drafts</ion-label> \n      <ion-badge color="medium" slot="end">14</ion-badge></ion-item> \n    <ion-item><ion-label>Deleted</ion-label> \n      <ion-badge color="dark" slot="end">4</ion-badge></ion-item></ion-list>',D(n,"translucent",""),D(r,"fullscreen","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r)}}}class Tn extends Te{constructor(e){super(),we(this,e,null,wn,s,{})}}function En(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar class="svelte-1tbmaor"><ion-buttons slot="start" class="svelte-1tbmaor"><ion-menu-button class="svelte-1tbmaor"></ion-menu-button></ion-buttons> \n    <ion-title class="svelte-1tbmaor">Button</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<section class="svelte-1tbmaor"><header class="svelte-1tbmaor">Small Size</header> \n    <ion-button size="small" class="svelte-1tbmaor">Default</ion-button> \n    <ion-button size="small" color="secondary" class="svelte-1tbmaor">Secondary</ion-button> \n    <ion-button size="small" color="tertiary" class="svelte-1tbmaor">Tertiary</ion-button></section> \n\n  <section class="svelte-1tbmaor"><header class="svelte-1tbmaor">Default Size</header> \n    <ion-button color="success" class="svelte-1tbmaor">Success</ion-button> \n    <ion-button color="warning" class="svelte-1tbmaor">Warning</ion-button> \n    <ion-button color="danger" class="svelte-1tbmaor">Danger</ion-button></section> \n\n  <section class="svelte-1tbmaor"><header class="svelte-1tbmaor">Large Size</header> \n    <ion-button size="large" color="light" class="svelte-1tbmaor">Light</ion-button> \n    <ion-button size="large" color="medium" class="svelte-1tbmaor">Medium</ion-button> \n    <ion-button size="large" color="dark" class="svelte-1tbmaor">Dark</ion-button></section> \n\n  <section class="svelte-1tbmaor"><header class="svelte-1tbmaor">Block Width</header> \n    <ion-button expand="block" class="svelte-1tbmaor">A block button</ion-button></section> \n\n  <section class="full-width svelte-1tbmaor"><header class="svelte-1tbmaor">Full Width</header> \n    <ion-button expand="full" color="secondary" class="svelte-1tbmaor">A full-width button</ion-button></section>',document.title="Ionic UI Companion App - Buttons",D(i,"translucent",""),D(i,"class","svelte-1tbmaor"),D(o,"fullscreen",""),D(o,"class","svelte-1tbmaor")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}function In(e,t,n){let{params:i}=t;return console.log("para",i),e.$set=e=>{"params"in e&&n(0,i=e.params)},[i]}class Sn extends Te{constructor(e){super(),we(this,e,In,En,s,{params:0})}}function kn(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Card</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<ion-card><ion-card-header><ion-card-subtitle>Card Subtitle</ion-card-subtitle> \n      <ion-card-title>Card Title</ion-card-title></ion-card-header> \n\n    <ion-card-content>\n      Keep close to Nature&#39;s heart... and break clear away, once in awhile, and\n      climb a mountain or spend a week in the woods. Wash your spirit clean.\n    </ion-card-content></ion-card> \n\n  <ion-card><ion-item><ion-icon name="pin" slot="start"></ion-icon> \n      <ion-label>ion-item in a card, icon left, button right</ion-label> \n      <ion-button fill="outline" slot="end">View</ion-button></ion-item> \n\n    <ion-card-content>\n      This is content, without any paragraph or header tags, within an\n      ion-card-content element.\n    </ion-card-content></ion-card> \n\n  <ion-card><ion-item href="/tabs/music" class="activated"><ion-icon name="wifi" slot="start"></ion-icon> \n      <ion-label>Card Link Item 1 .activated</ion-label></ion-item> \n\n    <ion-item href="/buttons"><ion-icon name="wine" slot="start"></ion-icon> \n      <ion-label>Card Link Item 2</ion-label></ion-item> \n\n    <ion-item class="activated"><ion-icon name="warning" slot="start"></ion-icon> \n      <ion-label>Card Button Item 1 .activated</ion-label></ion-item> \n\n    <ion-item><ion-icon name="walk" slot="start"></ion-icon> \n      <ion-label>Card Button Item 2</ion-label></ion-item></ion-card> \n\n  <ion-card><img src="./assets/img/madison.jpg" alt="madison"> \n    <ion-card-header><ion-card-subtitle>Destination</ion-card-subtitle> \n      <ion-card-title>Madison, WI</ion-card-title></ion-card-header> \n    <ion-card-content>\n      Founded in 1829 on an isthmus between Lake Monona and Lake Mendota,\n      Madison was named the capital of the Wisconsin Territory in 1836.\n    </ion-card-content></ion-card>',document.title="Ionic UI Companion App - Cards",D(i,"translucent",""),D(o,"fullscreen","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class Cn extends Te{constructor(e){super(),we(this,e,null,kn,s,{})}}function _n(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v,g,y,E,S,C,_,N,x,L,R,O,P,M,q,F,B,U,V,j,W,H,K,G,z,$,Q,Y,J,X,Z,ee,te,ne,ie,re,oe,ae,se,ue,ce,le,he,fe,de,pe,me,ve;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Checkbox</ion-title></ion-toolbar>',r=k(),a=I("ion-content"),s=I("ion-list"),u=I("ion-list-header"),u.textContent="Characters",c=k(),l=I("ion-item"),h=I("ion-label"),h.textContent="Jon Snow",f=k(),d=I("ion-checkbox"),p=k(),m=I("ion-item"),v=I("ion-checkbox"),g=k(),y=I("ion-label"),y.textContent="Daenerys Targaryen",E=k(),S=I("ion-item"),S.innerHTML='<ion-checkbox disabled="" slot="start"></ion-checkbox> \n      <ion-label>Arya Stark</ion-label>',C=k(),_=I("ion-item"),N=I("ion-checkbox"),x=k(),L=I("ion-label"),L.textContent="Tyrion Lannister",R=k(),O=I("ion-item"),P=I("ion-checkbox"),M=k(),q=I("ion-label"),q.textContent="Sansa Stark",F=k(),B=I("ion-item"),U=I("ion-checkbox"),V=k(),j=I("ion-label"),j.textContent="Khal Drogo",W=k(),H=I("ion-item"),K=I("ion-checkbox"),G=k(),z=I("ion-label"),z.textContent="Cersei Lannister",$=k(),Q=I("ion-item"),Y=I("ion-checkbox"),J=k(),X=I("ion-label"),X.textContent="Stannis Baratheon",Z=k(),ee=I("ion-item"),ee.innerHTML='<ion-checkbox color="primary" disabled="" slot="start"></ion-checkbox> \n      <ion-label>Petyr Baelish</ion-label>',te=k(),ne=I("ion-item"),ie=I("ion-checkbox"),re=k(),oe=I("ion-label"),oe.textContent="Hodor",ae=k(),se=I("ion-item"),ue=I("ion-checkbox"),ce=k(),le=I("ion-label"),le.textContent="Catelyn Stark",he=k(),fe=I("ion-item"),de=I("ion-checkbox"),pe=k(),me=I("ion-label"),me.textContent="Bronn",document.title="Ionic UI Companion App - Checkboxes",D(i,"translucent",""),D(d,"value","jon"),D(d,"color","primary"),D(d,"checked",""),D(d,"slot","start"),D(v,"value","daenerys"),D(v,"color","dark"),D(v,"checked",""),D(v,"slot","start"),D(N,"value","tyrion"),D(N,"color","secondary"),D(N,"slot","start"),D(P,"value","sansa"),D(P,"color","danger"),D(P,"checked",""),D(P,"slot","start"),D(U,"value","khal"),D(U,"color","primary"),D(U,"slot","start"),D(K,"value","cersei"),D(K,"color","tertiary"),D(K,"checked",""),D(K,"slot","start"),D(Y,"color","medium"),D(Y,"value","stannis"),D(Y,"checked",""),D(Y,"slot","start"),D(ie,"color","dark"),D(ie,"value","hodor"),D(ie,"checked",""),D(ie,"slot","start"),D(ue,"color","secondary"),D(ue,"value","catelyn"),D(ue,"checked",""),D(ue,"slot","start"),D(de,"value","bronn"),D(de,"color","primary"),D(de,"slot","start"),D(a,"fullscreen",""),ve=[A(d,"ionChange",t[0]),A(v,"ionChange",t[0]),A(N,"ionChange",t[0]),A(P,"ionChange",t[0]),A(U,"ionChange",t[0]),A(K,"ionChange",t[0]),A(Y,"ionChange",t[0]),A(ie,"ionChange",t[0]),A(ue,"ionChange",t[0]),A(de,"ionChange",t[0])]},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,a,t),b(a,s),b(s,u),b(s,c),b(s,l),b(l,h),b(l,f),b(l,d),b(s,p),b(s,m),b(m,v),b(m,g),b(m,y),b(s,E),b(s,S),b(s,C),b(s,_),b(_,N),b(_,x),b(_,L),b(s,R),b(s,O),b(O,P),b(O,M),b(O,q),b(s,F),b(s,B),b(B,U),b(B,V),b(B,j),b(s,W),b(s,H),b(H,K),b(H,G),b(H,z),b(s,$),b(s,Q),b(Q,Y),b(Q,J),b(Q,X),b(s,Z),b(s,ee),b(s,te),b(s,ne),b(ne,ie),b(ne,re),b(ne,oe),b(s,ae),b(s,se),b(se,ue),b(se,ce),b(se,le),b(s,he),b(s,fe),b(fe,de),b(fe,pe),b(fe,me)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(a),o(ve)}}}function An(e){let t={};return[e=>{e.detail.value&&(t[e.detail.value]=e.detail.checked,console.log(JSON.stringify(t,null,2)))}]}class Nn extends Te{constructor(e){super(),we(this,e,An,_n,s,{})}}function Dn(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Chip</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<ion-list-header>Basic</ion-list-header> \n  <p class="svelte-18npdxj"><ion-chip><ion-label>Default</ion-label></ion-chip> \n    <ion-chip><ion-icon name="checkmark-circle"></ion-icon> \n      <ion-label>Icon</ion-label></ion-chip> \n    <ion-chip><ion-avatar><img alt="avatar" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjYzVkYmZmIiBkPSJNMCAwaDUxMnY1MTJIMHoiLz48cGF0aCBkPSJNMjU2IDMwNGM2MS42IDAgMTEyLTUwLjQgMTEyLTExMlMzMTcuNiA4MCAyNTYgODBzLTExMiA1MC40LTExMiAxMTIgNTAuNCAxMTIgMTEyIDExMnptMCA0MGMtNzQuMiAwLTIyNCAzNy44LTIyNCAxMTJ2NTZoNDQ4di01NmMwLTc0LjItMTQ5LjgtMTEyLTIyNC0xMTJ6IiBmaWxsPSIjODJhZWZmIi8+PC9zdmc+"></ion-avatar> \n      <ion-label>Avatar</ion-label></ion-chip></p> \n\n  <ion-list-header>Colors</ion-list-header> \n  <p class="svelte-18npdxj"><ion-chip color="primary"><ion-label>Primary</ion-label></ion-chip> \n    <ion-chip color="secondary"><ion-label>Secondary</ion-label></ion-chip> \n    <ion-chip color="tertiary"><ion-label>Tertiary</ion-label></ion-chip> \n    <ion-chip color="success"><ion-label>Success</ion-label></ion-chip> \n    <ion-chip color="warning"><ion-label>Warning</ion-label></ion-chip> \n    <ion-chip color="danger"><ion-label>Danger</ion-label></ion-chip></p> \n\n  <ion-list-header>Outline</ion-list-header> \n  <p class="svelte-18npdxj"><ion-chip outline="" color="primary"><ion-label>Primary</ion-label></ion-chip> \n    <ion-chip outline="" color="secondary"><ion-label>Secondary</ion-label></ion-chip> \n    <ion-chip outline="" color="tertiary"><ion-label>Tertiary</ion-label></ion-chip> \n    <ion-chip outline="" color="success"><ion-label>Success</ion-label></ion-chip> \n    <ion-chip outline="" color="warning"><ion-label>Warning</ion-label></ion-chip> \n    <ion-chip outline="" color="danger"><ion-label>Danger</ion-label></ion-chip></p> \n\n  <ion-list-header>Icons</ion-list-header> \n  <p class="svelte-18npdxj"><ion-chip outline="" color="primary"><ion-icon name="pin"></ion-icon> \n      <ion-label>Madison</ion-label> \n      <ion-icon name="close-circle"></ion-icon></ion-chip> \n    <ion-chip outline="" color="secondary"><ion-icon name="wine"></ion-icon> \n      <ion-label>Nightlife</ion-label> \n      <ion-icon name="close-circle"></ion-icon></ion-chip> \n    <ion-chip outline="" color="tertiary"><ion-icon name="restaurant"></ion-icon> \n      <ion-label>Dining</ion-label> \n      <ion-icon name="close-circle"></ion-icon></ion-chip> \n    <ion-chip outline="" color="dark"><ion-icon name="videocam"></ion-icon> \n      <ion-label>Entertainment</ion-label> \n      <ion-icon name="close-circle"></ion-icon></ion-chip></p>',document.title="Ionic UI Companion App - Chips",D(i,"translucent",""),D(o,"fullscreen","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class xn extends Te{constructor(e){super(),we(this,e,null,Dn,s,{})}}function Ln(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v,g,y,E,C,_,N,x,L,R,O,P,M,q,F,B,U,V,j,W,H;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>DateTime</ion-title></ion-toolbar>',r=S("\r\n,\r\n"),a=I("ion-content"),s=I("ion-list"),u=I("ion-item"),u.innerHTML='<ion-input placeholder="Title"></ion-input>',c=k(),l=I("ion-item"),l.innerHTML='<ion-input placeholder="Location"></ion-input>',h=k(),f=I("ion-item-divider"),d=k(),p=I("ion-item"),m=I("ion-label"),m.textContent="Start Date",v=k(),g=I("ion-datetime"),y=k(),E=I("ion-item"),C=I("ion-label"),C.textContent="Start Time",_=k(),N=I("ion-datetime"),x=k(),L=I("ion-item"),R=I("ion-label"),R.textContent="Ends",O=k(),P=I("ion-datetime"),M=k(),q=I("ion-item"),q.innerHTML='<ion-label>Repeat</ion-label> \n      <ion-datetime placeholder="Never" disabled=""></ion-datetime>',F=k(),B=I("ion-item"),B.innerHTML='<ion-label>Travel Time</ion-label> \n      <ion-datetime placeholder="None" disabled=""></ion-datetime>',U=k(),V=I("ion-item-divider"),j=k(),W=I("ion-item"),W.innerHTML='<ion-label>Alert</ion-label> \n      <ion-datetime placeholder="None" disabled=""></ion-datetime>',document.title="Ionic UI Companion App - Datetime",D(i,"translucent",""),D(g,"value","1990-02-19"),D(g,"placeholder","Select Date"),D(N,"display-format","h:mm A"),D(N,"picker-format","h:mm A"),D(N,"value","1990-02-19T07:43Z"),D(P,"value","1990-02-20"),D(P,"placeholder","Select Date"),D(a,"fullscreen",""),H=[A(g,"ionChange",t[0]),A(N,"ionChange",t[0]),A(P,"ionChange",t[0])]},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,a,t),b(a,s),b(s,u),b(s,c),b(s,l),b(s,h),b(s,f),b(s,d),b(s,p),b(p,m),b(p,v),b(p,g),b(s,y),b(s,E),b(E,C),b(E,_),b(E,N),b(s,x),b(s,L),b(L,R),b(L,O),b(L,P),b(s,M),b(s,q),b(s,F),b(s,B),b(s,U),b(s,V),b(s,j),b(s,W)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(a),o(H)}}}function Rn(e){return[e=>{console.log("Change of value",e.detail)}]}class On extends Te{constructor(e){super(),we(this,e,Rn,Ln,s,{})}}function Pn(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Fab</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<ion-fab horizontal="end" vertical="top" slot="fixed" edge=""><ion-fab-button><ion-icon name="add"></ion-icon></ion-fab-button> \n    <ion-fab-list><ion-fab-button color="light"><ion-icon name="logo-facebook"></ion-icon></ion-fab-button> \n      <ion-fab-button color="light"><ion-icon name="logo-twitter"></ion-icon></ion-fab-button> \n      <ion-fab-button color="light"><ion-icon name="logo-vimeo"></ion-icon></ion-fab-button></ion-fab-list></ion-fab> \n\n  <ion-fab horizontal="end" vertical="center" slot="fixed"><ion-fab-button color="danger"><ion-icon name="add"></ion-icon></ion-fab-button></ion-fab> \n\n  <ion-fab horizontal="end" vertical="bottom" slot="fixed"><ion-fab-button color="light"><ion-icon name="arrow-dropleft"></ion-icon></ion-fab-button> \n    <ion-fab-list side="start"><ion-fab-button color="light"><ion-icon name="logo-facebook"></ion-icon></ion-fab-button> \n      <ion-fab-button color="light"><ion-icon name="logo-twitter"></ion-icon></ion-fab-button> \n      <ion-fab-button color="light"><ion-icon name="logo-vimeo"></ion-icon></ion-fab-button></ion-fab-list></ion-fab> \n\n  <ion-fab horizontal="start" vertical="bottom" slot="fixed"><ion-fab-button color="dark"><ion-icon name="arrow-dropup"></ion-icon></ion-fab-button> \n    <ion-fab-list side="top"><ion-fab-button color="light"><ion-icon name="logo-facebook"></ion-icon></ion-fab-button> \n      <ion-fab-button color="light"><ion-icon name="logo-twitter"></ion-icon></ion-fab-button> \n      <ion-fab-button color="light"><ion-icon name="logo-vimeo"></ion-icon></ion-fab-button> \n      <ion-fab-button color="light"><ion-icon name="logo-google"></ion-icon></ion-fab-button></ion-fab-list></ion-fab> \n\n  <ion-fab horizontal="start" vertical="top" slot="fixed"><ion-fab-button color="secondary"><ion-icon name="arrow-dropright"></ion-icon></ion-fab-button> \n    <ion-fab-list side="end"><ion-fab-button color="light"><ion-icon name="logo-facebook"></ion-icon></ion-fab-button> \n      <ion-fab-button color="light"><ion-icon name="logo-twitter"></ion-icon></ion-fab-button> \n      <ion-fab-button color="light"><ion-icon name="logo-vimeo"></ion-icon></ion-fab-button> \n      <ion-fab-button color="light"><ion-icon name="logo-google"></ion-icon></ion-fab-button></ion-fab-list></ion-fab> \n\n  <ion-fab horizontal="center" vertical="center" slot="fixed"><ion-fab-button color="light"><ion-icon name="share"></ion-icon></ion-fab-button> \n    <ion-fab-list side="top"><ion-fab-button color="primary"><ion-icon name="logo-vimeo"></ion-icon></ion-fab-button></ion-fab-list> \n    <ion-fab-list side="end"><ion-fab-button color="dark"><ion-icon name="logo-twitter"></ion-icon></ion-fab-button></ion-fab-list> \n    <ion-fab-list side="bottom"><ion-fab-button color="secondary"><ion-icon name="logo-facebook"></ion-icon></ion-fab-button></ion-fab-list> \n    <ion-fab-list side="start"><ion-fab-button color="light"><ion-icon name="logo-google"></ion-icon></ion-fab-button></ion-fab-list></ion-fab>',document.title="Ionic UI Companion App - Fabs",D(i,"translucent",""),D(o,"fullscreen",""),D(o,"class","ion-padding")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class Mn extends Te{constructor(e){super(),we(this,e,null,Pn,s,{})}}function qn(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar class="svelte-19sgbjp"><ion-buttons slot="start" class="svelte-19sgbjp"><ion-menu-button class="svelte-19sgbjp"></ion-menu-button></ion-buttons> \n    <ion-title class="svelte-19sgbjp">Grid</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<ion-grid class="svelte-19sgbjp"><ion-row class="svelte-19sgbjp"><ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">1 of 2</div></ion-col> \n      <ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">2 of 2</div></ion-col></ion-row> \n    <ion-row class="svelte-19sgbjp"><ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">1 of 3</div></ion-col> \n      <ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">2 of 3</div></ion-col> \n      <ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">3 of 3</div></ion-col></ion-row> \n    <ion-row class="svelte-19sgbjp"><ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">1 of 3</div></ion-col> \n      <ion-col col-6="" class="svelte-19sgbjp"><div class="svelte-19sgbjp">2 of 3</div></ion-col> \n      <ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">3 of 3</div></ion-col></ion-row> \n    <ion-row class="svelte-19sgbjp"><ion-col col-6="" class="svelte-19sgbjp"><div class="svelte-19sgbjp">1 of 3</div></ion-col> \n      <ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">2 of 3</div></ion-col> \n      <ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">3 of 3</div></ion-col></ion-row> \n    <ion-row class="svelte-19sgbjp"><ion-col offset-4="" class="svelte-19sgbjp"><div class="svelte-19sgbjp">1 of 2</div></ion-col> \n      <ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">2 of 2</div></ion-col></ion-row> \n    <ion-row class="svelte-19sgbjp"><ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">1 of 2</div></ion-col> \n      <ion-col offset-4="" class="svelte-19sgbjp"><div class="svelte-19sgbjp">2 of 2</div></ion-col></ion-row> \n    <ion-row class="svelte-19sgbjp"><ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">1 of 4</div></ion-col> \n      <ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">2 of 4</div></ion-col> \n      <ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">3 of 4</div></ion-col> \n      <ion-col class="svelte-19sgbjp"><div class="svelte-19sgbjp">4 of 4</div></ion-col></ion-row></ion-grid>',document.title="Ionic UI Companion App - Grid",D(i,"translucent",""),D(i,"class","svelte-19sgbjp"),D(o,"fullscreen",""),D(o,"class","svelte-19sgbjp")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class Fn extends Te{constructor(e){super(),we(this,e,null,qn,s,{})}}function Bn(e,t,n=[]){class i extends HTMLElement{constructor(){super(),this.target=this.attachShadow({mode:"open"}),this.data={}}connectedCallback(){n.forEach(e=>{void 0!==this[e]&&(this.data[e]=this[e])}),this.instance=new t({target:this.target,data:this.data}),n.forEach(e=>{this.instance.observe(e,t=>{this.setAttribute(e,t)})})}detachedCallback(){this.instance.destroy(),this.instance=null}attributeChangedCallback(e,t,n){const i=isNaN(n)?n:+n;this.data[e]=i,this.instance&&this.instance.set({[e]:i})}}return Object.defineProperty(i,"observedAttributes",{get:()=>n}),n.forEach(e=>{Object.defineProperty(i.prototype,e,{get(){return this.instance?this.instance.get(e):this.data[e]},set(t){this.data[e]=t,this.instance&&this.instance.set({[e]:t})}})}),customElements.define(e,i),i}const Un=e=>{let t=document.querySelector(e);return t||(t=document.createElement(e),document.body.appendChild(t)),t},Vn=e=>t=>{return Un(e).create(t).then(e=>(e.present(),e))},jn=(e,t)=>{(function(e){return document.createElement(e).constructor!==HTMLElement})(e)||Bn(e,t,[])},Wn=()=>document.querySelector("ion-nav"),Hn=(e,t,n)=>{const i=Un("ion-modal-controller");return jn(e,t),i.create({component:e,componentProps:n}).then(e=>(e.present(),e.onWillDismiss()))},Kn=(e,t,n,i)=>{return jn(t,n),Un("ion-popover-controller").create({component:t,event:e,componentProps:i}).then(e=>(e.present(),e.onWillDismiss()))},Gn=Vn("ion-loading-controller"),zn=Vn("ion-picker-controller"),$n=Vn("ion-alert-controller"),Qn=Vn("ion-toast-controller"),Yn=Vn("ion-action-sheet-controller");function Jn(e,t,n){const i=e.slice();return i[11]=t[n],i}function Xn(e){let t,n,i,r,o,a;function s(...t){return e[9](e[11],...t)}return{c(){t=I("ion-col"),n=I("ion-icon"),o=k(),D(n,"name",i=e[11]),D(n,"color",r=e[4]()),D(n,"class","svelte-eqj74b"),a=A(t,"click",s)},m(e,i){w(e,t,i),b(t,n),b(t,o)},p(t,r){e=t,1&r&&i!==(i=e[11])&&D(n,"name",i)},d(e){e&&T(t),a()}}}function Zn(t){let n,i,r,o,a,s,u,c,l,h=t[0],f=[];for(let e=0;e<h.length;e+=1)f[e]=Xn(Jn(t,h,e));return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Icons</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),a=I("ion-grid"),s=I("ion-row");for(let e=0;e<f.length;e+=1)f[e].c();u=k(),c=I("ion-infinite-scroll"),c.innerHTML='<ion-infinite-scroll-content loading-spinner="bubbles" loading-text="Loading more data..."></ion-infinite-scroll-content>',document.title="Ionic UI Companion App - Icons",D(i,"translucent",""),D(c,"threshold","100px"),D(o,"fullscreen",""),D(o,"class","ion-padding"),l=A(c,"ionInfinite",t[2])},m(e,l){w(e,n,l),w(e,i,l),w(e,r,l),w(e,o,l),b(o,a),b(a,s);for(let e=0;e<f.length;e+=1)f[e].m(s,null);b(o,u),b(o,c),t[10](c)},p(e,[t]){if(25&t){let n;for(h=e[0],n=0;n<h.length;n+=1){const i=Jn(e,h,n);f[n]?f[n].p(i,t):(f[n]=Xn(i),f[n].c(),f[n].m(s,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=h.length}},i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o),E(f,e),t[10](null),l()}}}function ei(e,t,n){let i,r=0,o=[],a=[];const{Clipboard:s}=Zt;function u(e){n(0,a=[]),n(0,a=o.slice(0,e+r)),r+=e}Ot("/assets/json/ionicons.json").subscribe(e=>{e.json().then(e=>{o=e.icons,console.log("List of icons",o),u(120)})},e=>{console.error("Error HTTP",e)});const c=e=>{console.log("Icon clicked",e),s.write({string:`<ion-icon name="${e}"></ion-icon>`}),Qn({color:"dark",duration:3e3,message:`<ion-icon style="font-size:350%" name="${e}"></ion-icon> - ${e}`,showCloseButton:!0})};return[a,i,async()=>{console.log("L",r,o.length),r<o.length?(console.log("Loading data..."),await function(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}(500),i.complete(),u(175),console.log("Done")):(console.log("No More Data"),n(1,i.disabled=!0,i))},c,()=>{const e=["secondary","primary","danger","warning","dark","medium","success","tertiary"];return e[Math.floor(Math.random()*e.length)]},r,o,s,u,e=>{c(e)},function(e){$[e?"unshift":"push"](()=>{n(1,i=e)})}]}class ti extends Te{constructor(e){super(),we(this,e,ei,Zn,s,{})}}const ni=[{name:"Aline Grover",created:"November 28, 2012"},{name:"Nevada Anders",created:"January 18, 2014"},{name:"Nicholas Morissette",created:"November 11, 2014"},{name:"Rusty Umland",created:"January 8, 2019"},{name:"Amada Cerulli",created:"July 22, 2009"},{name:"Harriette Garcia",created:"July 29, 2018"},{name:"Erminia Marotz",created:"September 29, 2016"},{name:"Shanelle Parodi",created:"May 26, 2018"},{name:"Roger Leite",created:"August 6, 2015"},{name:"Latina Faulcon",created:"February 5, 2014"},{name:"Jerrie Hoekstra",created:"June 2, 2016"},{name:"Domonique Byam",created:"December 30, 2010"},{name:"Monnie Bonar",created:"December 20, 2018"},{name:"Chu Kahle",created:"November 17, 2017"},{name:"Allan Passman",created:"November 12, 2015"},{name:"Conrad Caliendo",created:"February 10, 2016"},{name:"Elma Chenier",created:"August 13, 2011"},{name:"Wendi Hirano",created:"July 27, 2018"},{name:"Loren Wordlaw",created:"December 20, 2014"},{name:"Hubert Frum",created:"January 21, 2013"},{name:"Rueben Basil",created:"December 2, 2013"},{name:"Krystyna Hardiman",created:"February 11, 2016"},{name:"Micki Murch",created:"December 17, 2009"},{name:"Allene Knight",created:"November 3, 2010"},{name:"Davis Lunsford",created:"October 17, 2011"},{name:"Elin Conte",created:"June 23, 2015"},{name:"Yasuko Hites",created:"August 25, 2017"},{name:"Gerri Pinon",created:"May 21, 2014"},{name:"Caryl Hawker",created:"April 13, 2018"},{name:"Savannah Hoard",created:"October 31, 2009"},{name:"Carolyn Knutsen",created:"July 16, 2015"},{name:"Shantay Mckissack",created:"July 9, 2010"},{name:"Vertie Pinales",created:"November 20, 2010"},{name:"Gidget Stuck",created:"August 17, 2017"},{name:"Drew Crownover",created:"August 30, 2017"},{name:"Vashti Krajewski",created:"January 25, 2018"},{name:"Candice Dike",created:"November 19, 2018"},{name:"Dorthey Buhler",created:"October 22, 2012"},{name:"Hailey Deluna",created:"September 13, 2012"},{name:"Richard Aaron",created:"April 27, 2016"}],{document:ii}=pe;function ri(t){let n,i,r,o,a,s,u,c;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Accounts</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),a=I("ion-list"),s=k(),u=I("ion-infinite-scroll"),u.innerHTML='<ion-infinite-scroll-content loading-spinner="bubbles" loading-text="Loading more data..."></ion-infinite-scroll-content>',ii.title="Ionic UI Companion App - Infinitescroll",D(i,"translucent",""),D(u,"threshold","100px"),D(o,"fullscreen",""),c=A(u,"ionInfinite",t[2])},m(e,c){w(e,n,c),w(e,i,c),w(e,r,c),w(e,o,c),b(o,a),t[5](a),b(o,s),b(o,u),t[6](u)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o),t[5](null),t[6](null),c()}}}function oi(e,t,n){let i,r,o=0;W(()=>{a(10)});function a(e){console.log("length is",o);const t=o;for(var n=0;n<e;n++){const e=document.createElement("ion-item");e.innerHTML=`\n          <ion-avatar slot="start">\n            <img src="https://www.gravatar.com/avatar/${n+t}?d=monsterid&f=y">\n          </ion-avatar>\n          <ion-label>\n            <h2>${ni[n+t].name}</h2>\n            <p>Created ${ni[n+t].created}</p>\n          </ion-label>\n        `,i&&i.appendChild(e),o++}}return[i,r,async()=>{o<ni.length?(console.log("Loading data..."),await function(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}(500),r.complete(),a(5),console.log("Done")):(console.log("No More Data"),n(1,r.disabled=!0,r))},o,a,function(e){$[e?"unshift":"push"](()=>{n(0,i=e)})},function(e){$[e?"unshift":"push"](()=>{n(1,r=e)})}]}class ai extends Te{constructor(e){super(),we(this,e,oi,ri,s,{})}}function si(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v,g,y,E,S,C,_,x,L,R,O,P,M,q,F,B,U,V,j,W,H,K,G,z,$,Q,Y,J,X,Z,ee;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Create Account</ion-title></ion-toolbar>',r=k(),a=I("ion-content"),s=I("form"),u=I("ion-list"),c=I("ion-item"),l=I("ion-label"),l.innerHTML='\n          First Name\n          <ion-text color="danger">*</ion-text>',h=k(),f=I("ion-input"),d=k(),p=I("ion-item"),m=I("ion-label"),m.innerHTML='\n          Last Name\n          <ion-text color="danger">*</ion-text>',v=k(),g=I("ion-input"),y=k(),E=I("ion-item"),S=I("ion-label"),S.textContent="Title",C=k(),_=I("ion-input"),x=k(),L=I("ion-item"),R=I("ion-label"),R.textContent="Address",O=k(),P=I("ion-input"),M=k(),q=I("ion-input"),F=k(),B=I("ion-input"),U=k(),V=I("ion-input"),j=k(),W=I("ion-input"),H=k(),K=I("ion-item"),G=I("ion-label"),G.textContent="Notes",z=k(),$=I("ion-textarea"),Q=k(),Y=I("div"),J=I("ion-button"),J.textContent="Create account",X=k(),Z=I("ion-alert-controller"),document.title="Ionic UI Companion App - Inputs",D(i,"translucent",""),D(l,"position","stacked"),D(f,"required",""),D(f,"type","text"),D(m,"position","stacked"),D(g,"required",""),D(g,"type","text"),D(S,"position","floating"),D(R,"position","stacked"),D(P,"placeholder","Address Line 1"),D(q,"placeholder","Address Line 2"),D(B,"placeholder","City"),D(V,"placeholder","State"),D(W,"placeholder","Zip Code"),D(G,"position","stacked"),D(u,"lines","full"),D(u,"class","ion-no-margin ion-no-padding"),D(J,"expand","block"),D(J,"class","ion-no-margin"),N(Y,"class","ion-padding"),D(a,"fullscreen",""),ee=[A(f,"ionChange",t[2]),A(g,"ionChange",t[3]),A(_,"ionChange",t[4]),A(P,"ionChange",t[4]),A(q,"ionChange",t[4]),A(B,"ionChange",t[4]),A(V,"ionChange",t[4]),A(W,"ionChange",t[4]),A($,"ionChange",t[4]),A(J,"click",t[1])]},m(e,o){w(e,n,o),w(e,i,o),w(e,r,o),w(e,a,o),b(a,s),b(s,u),b(u,c),b(c,l),b(c,h),b(c,f),b(u,d),b(u,p),b(p,m),b(p,v),b(p,g),b(u,y),b(u,E),b(E,S),b(E,C),b(E,_),b(u,x),b(u,L),b(L,R),b(L,O),b(L,P),b(L,M),b(L,q),b(L,F),b(L,B),b(L,U),b(L,V),b(L,j),b(L,W),b(u,H),b(u,K),b(K,G),b(K,z),b(K,$),b(s,Q),b(s,Y),b(Y,J),w(e,X,o),w(e,Z,o),t[7](Z)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(a),e&&T(X),e&&T(Z),t[7](null),o(ee)}}}function ui(e,t,n){let i,r,o;return[i,function(e){console.log("Processing form",e),i.create({header:"Account Created",message:`Created account for: <b>${r} ${o}</b>`,buttons:[{text:"OK"}]}).then(e=>e.present())},function(e){r=e.target.value},function(e){o=e.target.value},e=>{console.log("Change of value",e.detail)},r,o,function(e){$[e?"unshift":"push"](()=>{n(0,i=e)})}]}class ci extends Te{constructor(e){super(),we(this,e,ui,si,s,{})}}function li(t){let n,i,r,o,a,s,u,c,l,h,f,d,p,m,v,g,y,E;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Item</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),a=I("ion-list"),a.innerHTML='<ion-list-header>Items with Labels</ion-list-header> \n    <ion-item class="grey-item"><ion-label>Label</ion-label></ion-item> \n\n    <ion-item><ion-icon slot="end" name="logo-ionic"></ion-icon> \n      <ion-label>Label with Icon</ion-label></ion-item>',s=k(),u=I("ion-list"),u.innerHTML='<ion-list-header>Color Items</ion-list-header> \n    <ion-item color="primary"><ion-label>Primary</ion-label></ion-item> \n\n    <ion-item color="secondary"><ion-label>Secondary</ion-label></ion-item> \n\n    <ion-item color="tertiary"><ion-label>Tertiary</ion-label></ion-item> \n\n    <ion-item color="success"><ion-label>Success</ion-label></ion-item> \n\n    <ion-item color="warning"><ion-label>Warning</ion-label></ion-item> \n\n    <ion-item color="danger"><ion-label>Danger</ion-label></ion-item>',c=k(),l=I("ion-list"),l.innerHTML='<ion-list-header>Group with Divider</ion-list-header> \n\n    <ion-item-group><ion-item-divider><ion-label>A</ion-label></ion-item-divider> \n\n      <ion-item><ion-label>Adam</ion-label></ion-item> \n\n      <ion-item lines="none"><ion-label>Alan</ion-label></ion-item> \n\n      <ion-item-divider><ion-label>B</ion-label></ion-item-divider> \n\n      <ion-item lines="none"><ion-label>Brianna</ion-label></ion-item> \n\n      <ion-item-divider><ion-label>C</ion-label></ion-item-divider> \n\n      <ion-item lines="none"><ion-label>Carla</ion-label></ion-item></ion-item-group>',h=k(),f=I("ion-list"),d=I("ion-list-header"),d.textContent="Sliding Item",p=k(),m=I("ion-item-sliding"),m.innerHTML='<ion-item class="blue-item svelte-1wazago"><ion-label>New Message</ion-label></ion-item> \n\n      <ion-item-options side="start"><ion-item-option color="primary">Mark Unread</ion-item-option></ion-item-options> \n\n      <ion-item-options side="end"><ion-item-option color="danger">Delete</ion-item-option></ion-item-options>',v=k(),g=I("ion-item-sliding"),g.innerHTML='<ion-item><ion-label>New Message</ion-label></ion-item> \n\n      <ion-item-options side="start"><ion-item-option color="primary">Mark Unread</ion-item-option></ion-item-options> \n\n      <ion-item-options side="end"><ion-item-option color="danger">Delete</ion-item-option></ion-item-options>',y=k(),E=I("ion-list"),E.innerHTML='<ion-list-header>Notes</ion-list-header> \n    <ion-item><ion-label>Primary Note</ion-label> \n      <ion-note slot="end" color="primary">99</ion-note></ion-item> \n\n    <ion-item><ion-label>Secondary Note</ion-label> \n      <ion-note slot="end" color="secondary">99</ion-note></ion-item> \n\n    <ion-item><ion-label>Tertiary Note</ion-label> \n      <ion-note slot="end" color="tertiary">99</ion-note></ion-item> \n\n    <ion-item><ion-label>Success Note</ion-label> \n      <ion-note slot="end" color="success">99</ion-note></ion-item> \n\n    <ion-item><ion-label>Warning Note</ion-label> \n      <ion-note slot="end" color="warning">99</ion-note></ion-item> \n\n    <ion-item><ion-label>Danger Note</ion-label> \n      <ion-note slot="end" color="danger">99</ion-note></ion-item>',document.title="Ionic UI Companion App - Items",D(i,"translucent",""),D(o,"fullscreen",""),D(o,"class","ion-padding")},m(e,T){w(e,n,T),w(e,i,T),w(e,r,T),w(e,o,T),b(o,a),b(o,s),b(o,u),b(o,c),b(o,l),b(o,h),b(o,f),b(f,d),b(f,p),b(f,m),t[3](m),b(f,v),b(f,g),t[4](g),b(o,y),b(o,E)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o),t[3](null),t[4](null)}}}function hi(e,t,n){let i,r;const o=()=>{r&&i&&setTimeout(()=>{i.open("start"),r.open("end"),setTimeout(()=>{i.close(),r.close(),o()},2e3)},2e3)};return o(),[i,r,o,function(e){$[e?"unshift":"push"](()=>{n(0,i=e)})},function(e){$[e?"unshift":"push"](()=>{n(1,r=e)})}]}class fi extends Te{constructor(e){super(),we(this,e,hi,li,s,{})}}function di(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>List</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<ion-list><ion-list-header>Recent Conversations</ion-list-header> \n\n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar-finn.png"></ion-avatar> \n      <ion-label><h2>Finn</h2> \n        <h3>I&#39;m a big deal</h3> \n        <p>Listen, I&#39;ve had a pretty messed up day...</p></ion-label></ion-item> \n\n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar-han.png"></ion-avatar> \n      <ion-label><h2>Han</h2> \n        <h3>Look, kid...</h3> \n        <p>I&#39;ve got enough on my plate as it is, and I...</p></ion-label></ion-item> \n\n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar-rey.png"></ion-avatar> \n      <ion-label><h2>Rey</h2> \n        <h3>I can handle myself</h3> \n        <p>You will remove these restraints and leave...</p></ion-label></ion-item> \n\n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar-luke.png"></ion-avatar> \n      <ion-label><h2>Luke</h2> \n        <h3>Your thoughts betray you</h3> \n        <p>I feel the good in you, the conflict...</p></ion-label></ion-item></ion-list> \n\n  <ion-list><ion-list-header>Online</ion-list-header> \n\n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar-poe.png"></ion-avatar> \n      <ion-label><h2>Poe</h2> \n        <h3>New Ride</h3> \n        <p>I just upgraded my X-Wing. Next time...</p></ion-label></ion-item> \n\n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar-ben.png"></ion-avatar> \n      <ion-label><h2>Ben</h2> \n        <h3>Move Along</h3> \n        <p>These aren&#39;t the droids you&#39;re looking for...</p></ion-label></ion-item> \n\n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar-leia.png"></ion-avatar> \n      <ion-label><h2>Leia</h2> \n        <h3>You&#39;re My Only Hope</h3> \n        <p>I&#39;ve placed information vital to the survival...</p></ion-label></ion-item> \n\n    <ion-item><ion-avatar slot="start"><img alt="avatar" src="./assets/img/ionic/avatar-yoda.png"></ion-avatar> \n      <ion-label><h2>Yoda</h2> \n        <h3>Size matters not</h3> \n        <p>Do or do not. There is no try...</p></ion-label></ion-item></ion-list>',document.title="Ionic UI Companion App - Lists",D(i,"translucent",""),D(o,"fullscreen","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class pi extends Te{constructor(e){super(),we(this,e,null,di,s,{})}}function mi(t){let n,i,r;return{c(){n=I("ion-button"),i=I("ion-icon"),D(i,"name",t[1]),D(i,"color",t[0]),r=A(n,"click",t[2])},m(e,t){w(e,n,t),b(n,i)},p(e,[t]){2&t&&D(i,"name",e[1]),1&t&&D(i,"color",e[0])},i:e,o:e,d(e){e&&T(n),r()}}}function vi(e,t,n){const i=document.querySelector("ion-nav");let{color:r}=t,{disabled:o=!1}=t,{icon:a}=t,{text:s}=t;const u=document.querySelector("html").className.includes("md");a||(a="arrow-back"),!s&&u&&(s="Back"),r||(r="primary");return e.$set=e=>{"color"in e&&n(0,r=e.color),"disabled"in e&&n(4,o=e.disabled),"icon"in e&&n(1,a=e.icon),"text"in e&&n(3,s=e.text)},[r,a,()=>{o||(i?i.pop():window.history.back())},s,o]}class gi extends Te{constructor(e){super(),we(this,e,vi,mi,s,{color:0,disabled:4,icon:1,text:3})}}const{document:yi}=pe;function bi(t){let n,i,r,o,a,s,u,c,l,h,f,d,p;const m=new gi({});return{c(){n=k(),i=I("ion-header"),r=I("ion-toolbar"),o=I("ion-buttons"),ve(m.$$.fragment),a=k(),s=I("ion-title"),s.textContent=`${t[0].title}`,u=k(),c=I("ion-content"),l=I("ion-icon"),f=k(),d=I("p"),d.textContent=`${t[0].description}`,yi.title="Ionic UI Companion App - NavDetail",D(o,"slot","start"),D(i,"translucent",""),D(l,"name",h="logo-"+t[0].icon),L(l,"color",t[0].color),D(l,"size","large"),D(c,"fullscreen",""),D(c,"class","ion-padding")},m(e,t){w(e,n,t),w(e,i,t),b(i,r),b(r,o),ge(m,o,null),b(r,a),b(r,s),w(e,u,t),w(e,c,t),b(c,l),b(c,f),b(c,d),p=!0},p:e,i(e){p||(ce(m.$$.fragment,e),p=!0)},o(e){le(m.$$.fragment,e),p=!1},d(e){e&&T(n),e&&T(i),ye(m),e&&T(u),e&&T(c)}}}function wi(e){document.querySelector("ion-nav");return[document.querySelector("nav-detail").tech]}class Ti extends Te{constructor(e){super(),we(this,e,wi,bi,s,{})}}const Ei=[{title:"Angular",icon:"angular",description:"A powerful Javascript framework for building single page apps. Angular is open source, and maintained by Google.",color:"#E63135"},{title:"CSS3",icon:"css3",description:"The latest version of cascading stylesheets - the styling language of the web!",color:"#0CA9EA"},{title:"HTML5",icon:"html5",description:"The latest version of the web's markup language.",color:"#F46529"},{title:"JavaScript",icon:"javascript",description:"One of the most popular programming languages on the Web!",color:"#FFD439"},{title:"Sass",icon:"sass",description:"Syntactically Awesome Stylesheets - a mature, stable, and powerful professional grade CSS extension.",color:"#CE6296"},{title:"NodeJS",icon:"nodejs",description:"An open-source, cross-platform runtime environment for developing server-side Web applications.",color:"#78BD43"},{title:"Python",icon:"python",description:"A clear and powerful object-oriented programming language!",color:"#3575AC"},{title:"Markdown",icon:"markdown",description:"A super simple way to add formatting like headers, bold, bulleted lists, and so on to plain text.",color:"#412159"},{title:"Tux",icon:"tux",description:"The official mascot of the Linux kernel!",color:"#000"}],{document:Ii}=pe;function Si(e,t,n){const i=e.slice();return i[3]=t[n],i}function ki(e){let t,n,i,r,o,a,s,u,c,l=e[3].title+"";function h(...t){return e[2](e[3],...t)}return{c(){t=I("ion-item"),n=I("ion-icon"),r=k(),o=I("ion-label"),a=I("h3"),s=S(l),u=k(),D(n,"slot","start"),D(n,"name",i="logo-"+e[3].icon),D(t,"button",""),c=A(t,"click",h)},m(e,i){w(e,t,i),b(t,n),b(t,r),b(t,o),b(o,a),b(a,s),b(t,u)},p(t,n){e=t},d(e){e&&T(t),c()}}}function Ci(t){let n,i,r,o,a,s=Ei,u=[];for(let e=0;e<s.length;e+=1)u[e]=ki(Si(t,s,e));return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Nav</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),a=I("ion-list");for(let e=0;e<u.length;e+=1)u[e].c();Ii.title="Ionic UI Companion App - NavList",D(i,"translucent",""),D(o,"fullscreen","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t),b(o,a);for(let e=0;e<u.length;e+=1)u[e].m(a,null)},p(e,[t]){if(1&t){let n;for(s=Ei,n=0;n<s.length;n+=1){const i=Si(e,s,n);u[n]?u[n].p(i,t):(u[n]=ki(i),u[n].c(),u[n].m(a,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=s.length}},i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o),E(u,e)}}}function _i(e){jn("nav-detail",Ti);const t=Wn();function n(e){const n=Ei.find(t=>t.title===e);t.push("nav-detail",{tech:n})}return[n,t,e=>{n(e.title)}]}class Ai extends Te{constructor(e){super(),we(this,e,_i,Ci,s,{})}}function Ni(t){let n,i;return{c(){n=I("ion-nav"),D(n,"root",t[2]),D(n,"animated",t[0]),D(n,"animation",t[1]),D(n,"rootparams",t[3]),D(n,"swipegesture",t[4]),i=[A(n,"ionNavDidChange",t[8]),A(n,"ionNavWillChange",t[9])]},m(e,t){w(e,n,t)},p(e,[t]){4&t&&D(n,"root",e[2]),1&t&&D(n,"animated",e[0]),2&t&&D(n,"animation",e[1]),8&t&&D(n,"rootparams",e[3]),16&t&&D(n,"swipegesture",e[4])},i:e,o:e,d(e){e&&T(n),o(i)}}}function Di(e,t,n){const i=function(e){return document.createElement(e).constructor!==HTMLElement},r=(e,t)=>{i(e)||Bn(e,t,[])};let{component:o}=t,{animated:a}=t,{animation:s}=t,{root:u}=t,{rootParams:c}=t,{swipeGesture:l}=t;return r(u,o),e.$set=e=>{"component"in e&&n(5,o=e.component),"animated"in e&&n(0,a=e.animated),"animation"in e&&n(1,s=e.animation),"root"in e&&n(2,u=e.root),"rootParams"in e&&n(3,c=e.rootParams),"swipeGesture"in e&&n(4,l=e.swipeGesture)},[a,s,u,c,l,o,i,r,function(t){G(e,t)},function(t){G(e,t)}]}class xi extends Te{constructor(e){super(),we(this,e,Di,Ni,s,{component:5,animated:0,animation:1,root:2,rootParams:3,swipeGesture:4})}}function Li(t){let n,i;const r=new xi({props:{component:Ai,root:"nav-list"}});return{c(){n=k(),ve(r.$$.fragment),document.title="Ionic UI Companion App - Navhome"},m(e,t){w(e,n,t),ge(r,e,t),i=!0},p:e,i(e){i||(ce(r.$$.fragment,e),i=!0)},o(e){le(r.$$.fragment,e),i=!1},d(e){e&&T(n),ye(r,e)}}}class Ri extends Te{constructor(e){super(),we(this,e,null,Li,s,{})}}function Oi(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Note</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<ion-list><ion-list-header>Basic</ion-list-header> \n    <ion-grid class="svelte-1olto7r"><ion-row class="svelte-1olto7r"><ion-col><ion-note>Default</ion-note></ion-col> \n        <ion-col><ion-note color="primary">Primary</ion-note></ion-col> \n        <ion-col><ion-note color="secondary">Secondary</ion-note></ion-col> \n        <ion-col><ion-note color="tertiary">Tertiary</ion-note></ion-col></ion-row> \n      <ion-row class="svelte-1olto7r"><ion-col><ion-note color="success">Success</ion-note></ion-col> \n        <ion-col><ion-note color="warning">warning</ion-note></ion-col> \n        <ion-col><ion-note color="danger">Danger</ion-note></ion-col> \n        <ion-col><ion-note color="dark">Dark</ion-note></ion-col></ion-row></ion-grid> \n\n    <ion-list-header>List Notes</ion-list-header> \n    <ion-item><ion-label>Default</ion-label> \n      <ion-note slot="end">11</ion-note></ion-item> \n\n    <ion-item><ion-label>Primary</ion-label> \n      <ion-note slot="end" color="primary">22</ion-note></ion-item> \n\n    <ion-item><ion-label>Secondary</ion-label> \n      <ion-note slot="end" color="secondary">33</ion-note></ion-item> \n\n    <ion-item><ion-label>Tertiary</ion-label> \n      <ion-note slot="end" color="tertiary">44</ion-note></ion-item> \n\n    <ion-item><ion-label>Success</ion-label> \n      <ion-note slot="start" color="success">55</ion-note></ion-item> \n\n    <ion-item><ion-label>Warning</ion-label> \n      <ion-note slot="start" color="warning">66</ion-note></ion-item> \n\n    <ion-item><ion-label>Danger</ion-label> \n      <ion-note slot="start" color="danger">77</ion-note></ion-item> \n\n    <ion-item><ion-label>Dark</ion-label> \n      <ion-note slot="start" color="dark">88</ion-note></ion-item></ion-list>',document.title="Ionic UI Companion App - Notes",D(i,"translucent",""),D(o,"fullscreen","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class Pi extends Te{constructor(e){super(),we(this,e,null,Oi,s,{})}}function Mi(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Progress Bar</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<ion-list><ion-list-header><ion-label>Default</ion-label></ion-list-header> \n    <ion-progress-bar></ion-progress-bar></ion-list> \n\n  <ion-list><ion-list-header><ion-label>Default at 50%</ion-label></ion-list-header> \n    <ion-progress-bar value="0.5"></ion-progress-bar></ion-list> \n\n  <ion-list><ion-list-header><ion-label>Colorized</ion-label></ion-list-header> \n    <ion-progress-bar color="primary" value="0.5"></ion-progress-bar> \n    <ion-progress-bar color="secondary" value="0.5"></ion-progress-bar> \n\n    <ion-list-header><ion-label>Indeterminate</ion-label></ion-list-header> \n    <ion-progress-bar type="indeterminate"></ion-progress-bar> \n\n    <ion-list-header><ion-label>Indeterminate (reversed)</ion-label></ion-list-header> \n    <ion-progress-bar type="indeterminate" reversed="true"></ion-progress-bar> \n\n    <ion-list-header><ion-label>Buffer</ion-label></ion-list-header> \n    <ion-progress-bar value="0.25" buffer="0.5"></ion-progress-bar></ion-list>',document.title="Ionic UI Companion App - Progressbar",D(i,"translucent",""),D(o,"class","outer-content")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class qi extends Te{constructor(e){super(),we(this,e,null,Mi,s,{})}}function Fi(t){let n,i,r,a,s,u,c,l,h;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Radio</ion-title></ion-toolbar>',r=k(),a=I("ion-content"),s=I("ion-list"),u=I("ion-radio-group"),u.innerHTML='<ion-list-header><ion-label>Fruit</ion-label></ion-list-header> \n      <ion-item><ion-label>Apple</ion-label> \n        <ion-radio slot="start" color="success" value="apple"></ion-radio></ion-item> \n\n      <ion-item><ion-label>Grape</ion-label> \n        <ion-radio slot="start" color="tertiary" value="grape" checked=""></ion-radio></ion-item> \n\n      <ion-item><ion-label>Cherry</ion-label> \n        <ion-radio slot="start" color="danger" value="cherry"></ion-radio></ion-item>',c=k(),l=I("ion-radio-group"),l.innerHTML='<ion-list-header><ion-label>Pizza Topping</ion-label></ion-list-header> \n      <ion-item><ion-label>Beef</ion-label> \n        <ion-radio slot="end" color="primary"></ion-radio></ion-item> \n\n      <ion-item><ion-label>Anchovies</ion-label> \n        <ion-radio slot="end" color="secondary" checked=""></ion-radio></ion-item> \n\n      <ion-item><ion-label>Sausage</ion-label> \n        <ion-radio slot="end" color="tertiary" name="sausage"></ion-radio></ion-item> \n\n      <ion-item><ion-label>Bellpepper</ion-label> \n        <ion-radio slot="end" color="success" value="tomato"></ion-radio></ion-item> \n\n      <ion-item><ion-label>Tomato</ion-label> \n        <ion-radio slot="end" color="warning" value="carrot"></ion-radio></ion-item> \n\n      <ion-item><ion-label>Pepperoni</ion-label> \n        <ion-radio slot="end" color="danger" checked=""></ion-radio></ion-item>',document.title="Ionic UI Companion App - Radios",D(i,"translucent",""),D(l,"allow-empty-selection",""),D(a,"fullscreen",""),h=[A(u,"ionChange",t[0]),A(l,"ionChange",t[0])]},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,a,t),b(a,s),b(s,u),b(s,c),b(s,l)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(a),o(h)}}}function Bi(e){return[e=>{console.log("Radio change",e.detail)}]}class Ui extends Te{constructor(e){super(),we(this,e,Bi,Fi,s,{})}}function Vi(t){let n,i,r,o,a,s,u,c,l,h,f,d,p,m,v;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Range</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),a=I("ion-list"),s=I("ion-list-header"),s.textContent="Adjust Display",u=k(),c=I("ion-item"),c.innerHTML='<ion-range value="20"><ion-icon slot="start" size="small" name="sunny"></ion-icon> \n        <ion-icon slot="end" name="sunny"></ion-icon></ion-range>',l=k(),h=I("ion-item"),h.innerHTML='<ion-range min="-200" max="200" pin="" color="secondary"><ion-icon slot="start" size="small" name="contrast"></ion-icon> \n        <ion-icon slot="end" name="contrast"></ion-icon></ion-range>',f=k(),d=I("ion-item"),p=I("ion-range"),p.innerHTML='<ion-icon slot="start" size="small" name="brush"></ion-icon> \n        <ion-icon slot="end" name="brush"></ion-icon>',m=k(),v=I("ion-item"),v.innerHTML='<ion-range min="1000" max="2000" step="100" value="1400" snaps="" color="danger"><ion-icon slot="start" size="small" color="danger" name="thermometer"></ion-icon> \n        <ion-icon slot="end" color="danger" name="thermometer"></ion-icon></ion-range>',document.title="Ionic UI Companion App - Range",D(i,"translucent",""),D(p,"dual-knobs",""),D(p,"pin",""),D(p,"color","dark"),D(o,"fullscreen","")},m(e,g){w(e,n,g),w(e,i,g),w(e,r,g),w(e,o,g),b(o,a),b(a,s),b(a,u),b(a,c),b(a,l),b(a,h),b(a,f),b(a,d),b(d,p),t[1](p),b(a,m),b(a,v)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o),t[1](null)}}}function ji(e,t,n){let i;return W(()=>{n(0,i.value={lower:33,upper:60},i)}),[i,function(e){$[e?"unshift":"push"](()=>{n(0,i=e)})}]}class Wi extends Te{constructor(e){super(),we(this,e,ji,Vi,s,{})}}const{document:Hi}=pe;function Ki(t){let n,i,r,o,a,s,u,c;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar class="svelte-1jggy5p"><ion-buttons slot="start" class="svelte-1jggy5p"><ion-menu-button class="svelte-1jggy5p"></ion-menu-button></ion-buttons> \n    <ion-title class="svelte-1jggy5p">Pull to refresh</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),a=I("ion-refresher"),a.innerHTML='<ion-refresher-content class="svelte-1jggy5p"></ion-refresher-content>',s=k(),u=I("ion-list"),Hi.title="Ionic UI Companion App - Refresher",D(i,"translucent",""),D(i,"class","svelte-1jggy5p"),D(a,"slot","fixed"),D(a,"class","svelte-1jggy5p"),D(u,"class","svelte-1jggy5p"),D(o,"class","svelte-1jggy5p"),c=A(a,"ionRefresh",t[2])},m(e,c){w(e,n,c),w(e,i,c),w(e,r,c),w(e,o,c),b(o,a),t[8](a),b(o,s),b(o,u),t[9](u)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o),t[8](null),t[9](null),c()}}}function Gi(e,t,n){const i=["Burt Bear","Charlie Cheetah","Donald Duck","Eva Eagle","Ellie Elephant","Gino Giraffe","Isabella Iguana","Karl Kitten","Lionel Lion","Molly Mouse","Paul Puppy","Rachel Rabbit","Ted Turtle"];let r,o;function a(){return i[Math.floor(Math.random()*i.length)]}function s(e=1,t){for(let n=0;n<e;n++)r.appendChild(c(t,n))}function u(e=1,t){for(let n=0;n<e;n++)r.insertBefore(c(t,n),r.firstChild)}function c(e=!1,t=1){let n=document.createElement("ion-item");const i=t;return n.innerHTML=`\n        <div slot="start" class="${e?"unread":"read"}"></div>\n        <ion-avatar slot="start">\n            <img src="https://www.gravatar.com/avatar/${i}?d=monsterid&f=y">\n          </ion-avatar>\n        <ion-label class="ion-text-wrap">\n          <h2>${a()}</h2>\n          <h3>Lorem ipsum dolor sit amet, consectetur adipiscing elit</h3>\n        </ion-label>\n      `,n}return W(()=>{s(5)}),[r,o,()=>{console.log("Refresh action"),setTimeout(()=>{u(5,!0),o.complete()},2e3)},i,a,s,u,c,function(e){$[e?"unshift":"push"](()=>{n(1,o=e)})},function(e){$[e?"unshift":"push"](()=>{n(0,r=e)})}]}class zi extends Te{constructor(e){super(),we(this,e,Gi,Ki,s,{})}}function $i(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v,g,y;return{c(){n=k(),i=I("ion-header"),r=I("ion-toolbar"),a=I("ion-buttons"),a.innerHTML="<ion-menu-button></ion-menu-button>",s=k(),u=I("ion-title"),u.textContent="Reorder",c=k(),l=I("ion-buttons"),h=I("ion-button"),h.textContent="Toggle",f=k(),d=I("ion-content"),p=I("ion-list"),m=I("ion-list-header"),m.textContent="Reorder Icon",v=k(),g=I("ion-reorder-group"),g.innerHTML='<ion-item><ion-label>Item 1</ion-label> \n        <ion-reorder slot="end"></ion-reorder></ion-item> \n\n      <ion-item><ion-label>Item 2</ion-label> \n        <ion-reorder slot="end"></ion-reorder></ion-item> \n\n      <ion-item><ion-label>Item 3</ion-label> \n        <ion-reorder slot="end"></ion-reorder></ion-item> \n\n      <ion-item><ion-label>Item 4</ion-label> \n        <ion-reorder slot="end"></ion-reorder></ion-item> \n\n      <ion-list-header>Custom Reorder Icon</ion-list-header> \n      <ion-item><ion-label>Item 5</ion-label> \n        <ion-reorder slot="start"><ion-icon name="repeat"></ion-icon></ion-reorder></ion-item> \n\n      <ion-item><ion-label>Item 6</ion-label> \n        <ion-reorder slot="start"><ion-icon name="repeat"></ion-icon></ion-reorder></ion-item> \n\n      <ion-item><ion-label>Item 7</ion-label> \n        <ion-reorder slot="start"><ion-icon name="repeat"></ion-icon></ion-reorder></ion-item> \n\n      <ion-list-header>Reorder Item</ion-list-header> \n      <ion-reorder><ion-item><ion-label>Item 8</ion-label></ion-item></ion-reorder> \n\n      <ion-reorder><ion-item><ion-label>Item 9</ion-label></ion-item></ion-reorder> \n\n      <ion-reorder><ion-item><ion-label>Item 10</ion-label></ion-item></ion-reorder>',document.title="Ionic UI Companion App - Reorder",D(a,"slot","start"),D(l,"slot","primary"),D(i,"translucent",""),D(d,"fullscreen",""),y=[A(h,"click",t[1]),A(g,"ionItemReorder",t[2])]},m(e,o){w(e,n,o),w(e,i,o),b(i,r),b(r,a),b(r,s),b(r,u),b(r,c),b(r,l),b(l,h),w(e,f,o),w(e,d,o),b(d,p),b(p,m),b(p,v),b(p,g),t[4](g)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(f),e&&T(d),t[4](null),o(y)}}}function Qi(e,t,n){let i;const r=[1,2,3,4,5,6,7,8,9,10];return[i,()=>{n(0,i.disabled=!i.disabled,i)},({detail:e})=>{console.log("Reorder detail",e),console.log(`Moving item from ${e.from} to ${e.to}`);const t=r.splice(e.from,1)[0];r.splice(e.to,0,t),console.log("New list of items ",r),e.complete()},r,function(e){$[e?"unshift":"push"](()=>{n(0,i=e)})}]}class Yi extends Te{constructor(e){super(),we(this,e,Qi,$i,s,{})}}function Ji(t){let n,i,r,o,a,s,u,c,l,h;return{c(){n=k(),i=I("ion-header"),r=I("ion-toolbar"),r.innerHTML='<ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Searchbar</ion-title>',o=k(),a=I("ion-toolbar"),s=I("ion-searchbar"),u=k(),c=I("ion-content"),l=I("ion-list"),l.innerHTML="<ion-item>Amsterdam</ion-item> \n    <ion-item>Bogota</ion-item> \n    <ion-item>Buenos Aires</ion-item> \n    <ion-item>Cairo</ion-item> \n    <ion-item>Dhaka</ion-item> \n    <ion-item>Edinburgh</ion-item> \n    <ion-item>Geneva</ion-item> \n    <ion-item>Genoa</ion-item> \n    <ion-item>Glasgow</ion-item> \n    <ion-item>Hanoi</ion-item> \n    <ion-item>Hong Kong</ion-item> \n    <ion-item>Islamabad</ion-item> \n    <ion-item>Istanbul</ion-item> \n    <ion-item>Jakarta</ion-item> \n    <ion-item>Kiel</ion-item> \n    <ion-item>Kyoto</ion-item> \n    <ion-item>Le Havre</ion-item> \n    <ion-item>Lebanon</ion-item> \n    <ion-item>Lhasa</ion-item> \n    <ion-item>Lima</ion-item> \n    <ion-item>London</ion-item> \n    <ion-item>Los Angeles</ion-item> \n    <ion-item>Madrid</ion-item> \n    <ion-item>Manila</ion-item> \n    <ion-item>New York</ion-item> \n    <ion-item>Olympia</ion-item> \n    <ion-item>Oslo</ion-item> \n    <ion-item>Panama City</ion-item> \n    <ion-item>Peking</ion-item> \n    <ion-item>Philadelphia</ion-item> \n    <ion-item>San Francisco</ion-item> \n    <ion-item>Seoul</ion-item> \n    <ion-item>Taipeh</ion-item> \n    <ion-item>Tel Aviv</ion-item> \n    <ion-item>Tokio</ion-item> \n    <ion-item>Uelzen</ion-item> \n    <ion-item>Washington</ion-item>",document.title="Ionic UI Companion App - Searchbar",D(i,"translucent",""),D(c,"fullscreen",""),h=A(s,"ionInput",t[1])},m(e,h){w(e,n,h),w(e,i,h),b(i,r),b(i,o),b(i,a),b(a,s),w(e,u,h),w(e,c,h),b(c,l),t[3](l)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(u),e&&T(c),t[3](null),h()}}}function Xi(e,t,n){let i,r;return W(()=>{r=Array.from(i.children)}),[i,function(e){const t=e.target.value.toLowerCase();requestAnimationFrame(()=>{r.forEach(e=>{const n=e.textContent.toLowerCase().indexOf(t)>-1;console.log("Should show",e.textContent,n),e.style.display=n?"block":"none"})})},r,function(e){$[e?"unshift":"push"](()=>{n(0,i=e)})}]}class Zi extends Te{constructor(e){super(),we(this,e,Xi,Ji,s,{})}}function er(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Segment</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<ion-list-header>Default</ion-list-header> \n  <ion-segment class="svelte-dmkzps"><ion-segment-button checked=""><ion-label>Call</ion-label></ion-segment-button> \n    <ion-segment-button><ion-label>Favorite</ion-label></ion-segment-button> \n    <ion-segment-button><ion-label>Map</ion-label></ion-segment-button></ion-segment> \n  <ion-segment color="secondary" class="svelte-dmkzps"><ion-segment-button><ion-icon name="call"></ion-icon></ion-segment-button> \n    <ion-segment-button checked=""><ion-icon name="heart"></ion-icon></ion-segment-button> \n    <ion-segment-button><ion-icon name="pin"></ion-icon></ion-segment-button></ion-segment> \n  <ion-segment color="tertiary" class="svelte-dmkzps"><ion-segment-button><ion-label>Call</ion-label> \n      <ion-icon name="call"></ion-icon></ion-segment-button> \n    <ion-segment-button checked=""><ion-label>Favorite</ion-label> \n      <ion-icon name="heart"></ion-icon></ion-segment-button> \n    <ion-segment-button><ion-label>Map</ion-label> \n      <ion-icon name="pin"></ion-icon></ion-segment-button></ion-segment> \n  <ion-segment color="success" class="svelte-dmkzps"><ion-segment-button checked="" layout="icon-bottom"><ion-icon name="call"></ion-icon> \n      <ion-label>Call</ion-label></ion-segment-button> \n    <ion-segment-button layout="icon-bottom"><ion-icon name="heart"></ion-icon> \n      <ion-label>Favorite</ion-label></ion-segment-button> \n    <ion-segment-button layout="icon-bottom"><ion-icon name="pin"></ion-icon> \n      <ion-label>Map</ion-label></ion-segment-button></ion-segment> \n\n  <ion-list-header>Scrollable</ion-list-header> \n  <ion-segment color="warning" scrollable="" class="svelte-dmkzps"><ion-segment-button checked="" layout="icon-start"><ion-label>Call</ion-label> \n      <ion-icon name="call"></ion-icon></ion-segment-button> \n    <ion-segment-button layout="icon-start"><ion-label>Favorite</ion-label> \n      <ion-icon name="heart"></ion-icon></ion-segment-button> \n    <ion-segment-button layout="icon-start"><ion-label>Map</ion-label> \n      <ion-icon name="pin"></ion-icon></ion-segment-button></ion-segment> \n  <ion-segment color="danger" scrollable="" class="svelte-dmkzps"><ion-segment-button checked="" layout="icon-end"><ion-icon name="call"></ion-icon> \n      <ion-label>Call</ion-label></ion-segment-button> \n    <ion-segment-button layout="icon-end"><ion-icon name="heart"></ion-icon> \n      <ion-label>Favorite</ion-label></ion-segment-button> \n    <ion-segment-button layout="icon-end"><ion-icon name="pin"></ion-icon> \n      <ion-label>Map</ion-label></ion-segment-button></ion-segment>',document.title="Ionic UI Companion App - Segment",D(i,"translucent",""),D(o,"fullscreen","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class tr extends Te{constructor(e){super(),we(this,e,null,er,s,{})}}function nr(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v,g,y,E,S,C,_,N,x,L,R,O,P,M,q,F,B,U,V,j,W,H,K,G,z,$,Q;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Select</ion-title></ion-toolbar>',r=k(),a=I("ion-content"),s=I("ion-list"),u=I("ion-item"),c=I("ion-label"),c.textContent="Pet",l=k(),h=I("ion-select"),h.innerHTML='<ion-select-option value="cat">Cat</ion-select-option> \n        <ion-select-option value="dog">Dog</ion-select-option>',f=k(),d=I("ion-item"),p=I("ion-label"),p.textContent="Gaming",m=k(),v=I("ion-select"),v.innerHTML='<ion-select-option value="nes">NES</ion-select-option> \n        <ion-select-option value="n64">Nintendo64</ion-select-option> \n        <ion-select-option value="ps">PlayStation</ion-select-option> \n        <ion-select-option value="genesis">Sega Genesis</ion-select-option> \n        <ion-select-option value="saturn">Sega Saturn</ion-select-option> \n        <ion-select-option value="snes">SNES</ion-select-option>',g=k(),y=I("ion-item"),E=I("ion-label"),E.textContent="Notifications",S=k(),C=I("ion-select"),C.innerHTML='<ion-select-option value="enable">Enable</ion-select-option> \n        <ion-select-option value="mute">Mute</ion-select-option> \n        <ion-select-option value="mute_week">Mute for a week</ion-select-option> \n        <ion-select-option value="mute_year">Mute for a year</ion-select-option>',_=k(),N=I("ion-item"),x=I("ion-label"),x.textContent="Operating System",L=k(),R=I("ion-select"),R.innerHTML='<ion-select-option value="dos">DOS</ion-select-option> \n        <ion-select-option value="lunix">Linux</ion-select-option> \n        <ion-select-option value="mac7">Mac OS 7</ion-select-option> \n        <ion-select-option value="mac8">Mac OS 8</ion-select-option> \n        <ion-select-option value="win3.1">Windows 3.1</ion-select-option> \n        <ion-select-option value="win95">Windows 95</ion-select-option> \n        <ion-select-option value="win98">Windows 98</ion-select-option>',O=k(),P=I("ion-item"),M=I("ion-label"),M.textContent="Music",q=k(),F=I("ion-select"),F.innerHTML='<ion-select-option>Alice in Chains</ion-select-option> \n        <ion-select-option>Green Day</ion-select-option> \n        <ion-select-option selected="">Nirvana</ion-select-option> \n        <ion-select-option>Pearl Jam</ion-select-option> \n        <ion-select-option>Smashing Pumpkins</ion-select-option> \n        <ion-select-option>Soundgarden</ion-select-option> \n        <ion-select-option>Stone Temple Pilots</ion-select-option>',B=k(),U=I("ion-item"),V=I("ion-label"),V.textContent="Month",j=k(),W=I("ion-select"),W.innerHTML='<ion-select-option value="01">January</ion-select-option> \n        <ion-select-option value="02">February</ion-select-option> \n        <ion-select-option value="03">March</ion-select-option> \n        <ion-select-option value="04">April</ion-select-option> \n        <ion-select-option value="05">May</ion-select-option> \n        <ion-select-option value="06">June</ion-select-option> \n        <ion-select-option value="07">July</ion-select-option> \n        <ion-select-option value="08">August</ion-select-option> \n        <ion-select-option value="09">September</ion-select-option> \n        <ion-select-option value="10">October</ion-select-option> \n        <ion-select-option value="11">November</ion-select-option> \n        <ion-select-option value="12" selected="">December</ion-select-option>',H=k(),K=I("ion-item"),G=I("ion-label"),G.textContent="Year",z=k(),$=I("ion-select"),$.innerHTML='<ion-select-option>1989</ion-select-option> \n        <ion-select-option>1990</ion-select-option> \n        <ion-select-option>1991</ion-select-option> \n        <ion-select-option>1992</ion-select-option> \n        <ion-select-option>1993</ion-select-option> \n        <ion-select-option selected="">1994</ion-select-option> \n        <ion-select-option>1995</ion-select-option> \n        <ion-select-option>1996</ion-select-option> \n        <ion-select-option>1997</ion-select-option> \n        <ion-select-option>1998</ion-select-option> \n        <ion-select-option>1999</ion-select-option>',document.title="Ionic UI Companion App - Select",D(i,"translucent",""),D(v,"interface","popover"),D(C,"value","notifications"),D(C,"interface","action-sheet"),D(R,"ok-text","Okay"),D(R,"cancel-text","Nah"),D(a,"fullscreen",""),Q=[A(h,"ionChange",t[0]),A(v,"ionChange",t[0]),A(C,"ionChange",t[0]),A(R,"ionChange",t[0]),A(F,"ionChange",t[0]),A(W,"ionChange",t[0]),A($,"ionChange",t[0])]},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,a,t),b(a,s),b(s,u),b(u,c),b(u,l),b(u,h),b(s,f),b(s,d),b(d,p),b(d,m),b(d,v),b(s,g),b(s,y),b(y,E),b(y,S),b(y,C),b(s,_),b(s,N),b(N,x),b(N,L),b(N,R),b(s,O),b(s,P),b(P,M),b(P,q),b(P,F),b(s,B),b(s,U),b(U,V),b(U,j),b(U,W),b(s,H),b(s,K),b(K,G),b(K,z),b(K,$)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(a),o(Q)}}}function ir(e){return[e=>{console.log("Select change ",e.detail)}]}class rr extends Te{constructor(e){super(),we(this,e,ir,nr,s,{})}}function or(t){let n,i,r,o,a,s,u,c,l,h,f,d,p,m,v;return{c(){n=k(),i=I("ion-header"),r=I("ion-toolbar"),o=I("ion-buttons"),o.innerHTML="<ion-menu-button></ion-menu-button>",a=k(),s=I("ion-title"),s.textContent="Skeleton Text",u=k(),c=I("ion-buttons"),l=I("ion-button"),l.textContent="Toggle",h=k(),f=I("ion-content"),d=I("ion-list"),d.innerHTML='<ion-list-header>Albums</ion-list-header> \n    <ion-item><ion-thumbnail slot="start"><img alt="img" src="./assets/img/ionic/thebeatles.jpeg"></ion-thumbnail> \n      <ion-label><h3>Abbey Road</h3> \n        <p>The Beatles</p> \n        <p>1969</p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><img alt="img" src="./assets/img/ionic/pinkfloyd.jpeg"></ion-thumbnail> \n      <ion-label><h3>The Dark Side of the Moon</h3> \n        <p>Pink Floyd</p> \n        <p>1973</p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><img alt="img" src="./assets/img/ionic/boniver.jpeg"></ion-thumbnail> \n      <ion-label><h3>For Emma, Forever Ago</h3> \n        <p>Bon Iver</p> \n        <p>2008</p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><img alt="img" src="./assets/img/ionic/ironwine.jpeg"></ion-thumbnail> \n      <ion-label><h3>Beast Epic</h3> \n        <p>Iron &amp; Wine</p> \n        <p>2017</p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><img alt="img" src="./assets/img/ionic/porterrobinson.jpeg"></ion-thumbnail> \n      <ion-label><h3>Worlds</h3> \n        <p>Porter Robinson</p> \n        <p>2014</p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><img alt="img" src="./assets/img/ionic/childishgambino.jpeg"></ion-thumbnail> \n      <ion-label><h3>Worlds</h3> \n        <p>Awaken, My Love!</p> \n        <p>2016</p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><img alt="img" src="./assets/img/ionic/chancetherapper.jpeg"></ion-thumbnail> \n      <ion-label><h3>Coloring Book</h3> \n        <p>Chance the Rapper</p> \n        <p>2016</p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><img alt="img" src="./assets/img/ionic/kimbra.jpeg"></ion-thumbnail> \n      <ion-label><h3>Primal Heart</h3> \n        <p>Kimbra</p> \n        <p>2018</p></ion-label></ion-item>',p=k(),m=I("ion-list"),m.innerHTML='<ion-list-header><ion-skeleton-text animated="" style="width: 80px"></ion-skeleton-text></ion-list-header> \n    <ion-item><ion-thumbnail slot="start"><ion-skeleton-text></ion-skeleton-text></ion-thumbnail> \n      <ion-label><h3><ion-skeleton-text animated="" style="width: 80%"></ion-skeleton-text></h3> \n        <p><ion-skeleton-text animated="" style="width: 60%"></ion-skeleton-text></p> \n        <p><ion-skeleton-text animated="" style="width: 30%"></ion-skeleton-text></p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><ion-skeleton-text></ion-skeleton-text></ion-thumbnail> \n      <ion-label><h3><ion-skeleton-text animated="" style="width: 80%"></ion-skeleton-text></h3> \n        <p><ion-skeleton-text animated="" style="width: 60%"></ion-skeleton-text></p> \n        <p><ion-skeleton-text animated="" style="width: 30%"></ion-skeleton-text></p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><ion-skeleton-text></ion-skeleton-text></ion-thumbnail> \n      <ion-label><h3><ion-skeleton-text animated="" style="width: 80%"></ion-skeleton-text></h3> \n        <p><ion-skeleton-text animated="" style="width: 60%"></ion-skeleton-text></p> \n        <p><ion-skeleton-text animated="" style="width: 30%"></ion-skeleton-text></p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><ion-skeleton-text></ion-skeleton-text></ion-thumbnail> \n      <ion-label><h3><ion-skeleton-text animated="" style="width: 80%"></ion-skeleton-text></h3> \n        <p><ion-skeleton-text animated="" style="width: 60%"></ion-skeleton-text></p> \n        <p><ion-skeleton-text animated="" style="width: 30%"></ion-skeleton-text></p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><ion-skeleton-text></ion-skeleton-text></ion-thumbnail> \n      <ion-label><h3><ion-skeleton-text animated="" style="width: 80%"></ion-skeleton-text></h3> \n        <p><ion-skeleton-text animated="" style="width: 60%"></ion-skeleton-text></p> \n        <p><ion-skeleton-text animated="" style="width: 30%"></ion-skeleton-text></p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><ion-skeleton-text></ion-skeleton-text></ion-thumbnail> \n      <ion-label><h3><ion-skeleton-text animated="" style="width: 80%"></ion-skeleton-text></h3> \n        <p><ion-skeleton-text animated="" style="width: 60%"></ion-skeleton-text></p> \n        <p><ion-skeleton-text animated="" style="width: 30%"></ion-skeleton-text></p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><ion-skeleton-text></ion-skeleton-text></ion-thumbnail> \n      <ion-label><h3><ion-skeleton-text animated="" style="width: 80%"></ion-skeleton-text></h3> \n        <p><ion-skeleton-text animated="" style="width: 60%"></ion-skeleton-text></p> \n        <p><ion-skeleton-text animated="" style="width: 30%"></ion-skeleton-text></p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><ion-skeleton-text></ion-skeleton-text></ion-thumbnail> \n      <ion-label><h3><ion-skeleton-text animated="" style="width: 80%"></ion-skeleton-text></h3> \n        <p><ion-skeleton-text animated="" style="width: 60%"></ion-skeleton-text></p> \n        <p><ion-skeleton-text animated="" style="width: 30%"></ion-skeleton-text></p></ion-label></ion-item>',document.title="Ionic UI Companion App - Skeleton",D(o,"slot","start"),D(c,"slot","primary"),D(i,"translucent",""),D(d,"class","svelte-alxiuf"),R(d,"show",t[0]),R(d,"hide",!t[0]),D(m,"class","svelte-alxiuf"),R(m,"show",!t[0]),R(m,"hide",t[0]),v=A(l,"click",t[1])},m(e,t){w(e,n,t),w(e,i,t),b(i,r),b(r,o),b(r,a),b(r,s),b(r,u),b(r,c),b(c,l),w(e,h,t),w(e,f,t),b(f,d),b(f,p),b(f,m)},p(e,[t]){1&t&&R(d,"show",e[0]),1&t&&R(d,"hide",!e[0]),1&t&&R(m,"show",!e[0]),1&t&&R(m,"hide",e[0])},i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(h),e&&T(f),v()}}}function ar(e,t,n){let{toggle:i=!1}=t;return e.$set=e=>{"toggle"in e&&n(0,i=e.toggle)},[i,()=>{n(0,i=!i)}]}class sr extends Te{constructor(e){super(),we(this,e,ar,or,s,{toggle:0})}}const{document:ur}=pe;function cr(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v,g,y,E,C,_,x,L,R,O,P,M,q,F,B,U;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar class="svelte-if84q"><ion-buttons slot="start" class="svelte-if84q"><ion-menu-button class="svelte-if84q"></ion-menu-button></ion-buttons> \n    <ion-title class="svelte-if84q">Slides</ion-title></ion-toolbar>',r=k(),a=I("ion-content"),s=I("ion-slides"),u=I("ion-slide"),u.innerHTML='<img src="./assets/img/slides/slide-1.png" alt="pict" class="svelte-if84q"> \n      <h2 class="svelte-if84q">Welcome!</h2>\n      The\n      <b class="svelte-if84q">Ionic UI App</b>\n      is a practical preview of the ionic framework, and a demonstration of\n      proper use (ahum!!) in svelte or even other languages.\n      <br class="svelte-if84q"> \n      <br class="svelte-if84q"> \n      <br class="svelte-if84q">',c=k(),l=I("ion-slide"),l.innerHTML='<img src="./assets/img/slides/svelte.png" alt="pict" class="svelte-if84q"> \n      <h2 class="svelte-if84q">Handy tool!</h2>\n      By clicking the button bottom right you can instantly view the source code\n      of the element you are viewing, to copy/paste and direct link to API docs.\n      <br class="svelte-if84q"> \n      <br class="svelte-if84q"> \n      <br class="svelte-if84q">',h=k(),f=I("ion-slide"),f.innerHTML='<img src="./assets/img/slides/slide-2.png" alt="pict" class="svelte-if84q"> \n      <h2 class="svelte-if84q">What is Ionic?</h2> \n\n      <b class="svelte-if84q">Ionic Framework</b>\n      is an open source SDK that enables developers to build high quality mobile\n      apps with web technologies.\n      <br class="svelte-if84q"> \n      <br class="svelte-if84q"> \n      <br class="svelte-if84q">',d=k(),p=I("ion-slide"),m=I("img"),g=k(),y=I("h2"),y.textContent="Ready to Play?",E=S("\r\n      Check out\r\n      "),C=I("ion-icon"),_=S("\r\n      to look at UI examples.\r\n      "),x=I("br"),L=k(),R=I("ion-button"),R.innerHTML='\n        Continue to tabs demo\n        <ion-icon slot="end" name="arrow-forward" class="svelte-if84q"></ion-icon>',O=k(),P=I("br"),M=k(),q=I("br"),F=k(),B=I("br"),ur.title="Ionic UI Companion App - Slides",D(i,"translucent",""),D(i,"class","svelte-if84q"),D(u,"class","svelte-if84q"),D(l,"class","svelte-if84q"),D(f,"class","svelte-if84q"),m.src!==(v="./assets/img/slides/slide-4.png")&&N(m,"src","./assets/img/slides/slide-4.png"),N(m,"alt","pict"),N(m,"class","svelte-if84q"),N(y,"class","svelte-if84q"),D(C,"name","menu"),D(C,"class","svelte-if84q"),N(x,"class","svelte-if84q"),D(R,"fill","clear"),D(R,"class","svelte-if84q"),N(P,"class","svelte-if84q"),N(q,"class","svelte-if84q"),N(B,"class","svelte-if84q"),D(p,"class","svelte-if84q"),D(s,"pager","true"),D(s,"class","svelte-if84q"),D(a,"fullscreen",""),D(a,"padding",""),D(a,"scroll-y","false"),D(a,"class","svelte-if84q"),U=[A(R,"click",t[0]),A(s,"ionSlideReachEnd",t[1])]},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,a,t),b(a,s),b(s,u),b(s,c),b(s,l),b(s,h),b(s,f),b(s,d),b(s,p),b(p,m),b(p,g),b(p,y),b(p,E),b(p,C),b(p,_),b(p,x),b(p,L),b(p,R),b(p,O),b(p,P),b(p,M),b(p,q),b(p,F),b(p,B)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(a),o(U)}}}function lr(e){return[()=>{Ne("/tabs/movies")},()=>{console.log("flipMenuOnOff"),setTimeout(()=>{document.querySelector("ion-menu-controller").open(),setTimeout(()=>{document.querySelector("ion-menu-controller").close()},1e3)},2e3)}]}class hr extends Te{constructor(e){super(),we(this,e,lr,cr,s,{})}}function fr(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Spinner</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<ion-list><ion-item><ion-label>Default</ion-label> \n      <ion-spinner></ion-spinner></ion-item> \n\n    <ion-item><ion-label>Lines</ion-label> \n      <ion-spinner name="lines"></ion-spinner></ion-item> \n\n    <ion-item><ion-label>Lines Small</ion-label> \n      <ion-spinner name="lines-small"></ion-spinner></ion-item> \n\n    <ion-item><ion-label>Dots</ion-label> \n      <ion-spinner name="dots"></ion-spinner></ion-item> \n\n    <ion-item><ion-label>Bubbles</ion-label> \n      <ion-spinner name="bubbles"></ion-spinner></ion-item> \n\n    <ion-item><ion-label>Circles</ion-label> \n      <ion-spinner name="circles"></ion-spinner></ion-item> \n\n    <ion-item><ion-label>Crescent</ion-label> \n      <ion-spinner name="crescent"></ion-spinner></ion-item> \n\n    <ion-item><ion-label>Paused</ion-label> \n      <ion-spinner paused=""></ion-spinner></ion-item> \n\n    <ion-item><ion-label>Primary</ion-label> \n      <ion-spinner color="primary"></ion-spinner></ion-item> \n\n    <ion-item><ion-label>Secondary</ion-label> \n      <ion-spinner color="secondary"></ion-spinner></ion-item> \n\n    <ion-item><ion-label>Tertiary</ion-label> \n      <ion-spinner color="tertiary"></ion-spinner></ion-item></ion-list>',document.title="Ionic UI Companion App - Spinner",D(i,"translucent","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class dr extends Te{constructor(e){super(),we(this,e,null,fr,s,{})}}function pr(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Music</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML="<h1>Music</h1>\n  Music\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n  <br>\n  Contrary to popular belief, Lorem Ipsum is not simply random text. It has\n  roots in a piece of classical Latin literature from 45 BC, making it over 2000\n  years old. Richard McClintock, a Latin professor at Hampden-Sydney College in\n  Virginia, looked up one of the more obscure Latin words, consectetur, from a\n  Lorem Ipsum passage, and going through the cites of the word in classical\n  literature, discovered the undoubtable source. Lorem Ipsum comes from sections\n  1.10.32 and 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot; (The Extremes of Good\n  and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory\n  of ethics, very popular during the Renaissance. The first line of Lorem Ipsum,\n  &quot;Lorem ipsum dolor sit amet..&quot;, comes from a line in section 1.10.32.\n",document.title="Ionic UI Companion App - Tabs Music",D(i,"translucent",""),D(o,"fullscreen",""),D(o,"class","ion-padding")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}class mr extends Te{constructor(e){super(),we(this,e,null,pr,s,{})}}const{document:vr}=pe;function gr(t){let n,i,r,o,a,s,u,c,l,h;return{c(){n=k(),i=I("ion-header"),r=I("ion-toolbar"),o=I("ion-title"),o.textContent="Modal Content",a=k(),s=I("ion-buttons"),u=I("ion-button"),u.textContent="Close",c=k(),l=I("ion-content"),l.innerHTML='<ion-list><ion-item><ion-avatar slot="start"><ion-img src="https://www.gravatar.com/avatar/1?d=monsterid&amp;f=y"></ion-img></ion-avatar> \n      <ion-label><h2>Gollum</h2> \n        <p>Sneaky little hobbitses!</p></ion-label></ion-item> \n    <ion-item><ion-avatar slot="start"><ion-img src="https://www.gravatar.com/avatar/2?d=monsterid&amp;f=y"></ion-img></ion-avatar> \n      <ion-label><h2>Frodo</h2> \n        <p>Go back, Sam! I&#39;m going to Mordor alone!</p></ion-label></ion-item> \n    <ion-item><ion-avatar slot="start"><ion-img src="https://www.gravatar.com/avatar/3?d=monsterid&amp;f=y"></ion-img></ion-avatar> \n      <ion-label><h2>Samwise</h2> \n        <p>What we need is a few good taters.</p></ion-label></ion-item></ion-list>',vr.title="Ionic UI Companion App - Modal Extra",D(s,"slot","end"),D(i,"translucent",""),D(l,"fullscreen",""),h=A(u,"click",t[0])},m(e,t){w(e,n,t),w(e,i,t),b(i,r),b(r,o),b(r,a),b(r,s),b(s,u),w(e,c,t),w(e,l,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(c),e&&T(l),h()}}}function yr(e){let t=document.querySelector("ion-modal");console.log(t.componentProps);return[()=>{t.dismiss({data:Date.now()})}]}class br extends Te{constructor(e){super(),we(this,e,yr,gr,s,{})}}const{document:wr}=pe;function Tr(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v;return{c(){n=k(),i=I("ion-list"),r=I("ion-list-header"),r.textContent="Ionic",a=k(),s=I("ion-item"),s.textContent="Learn Ionic",u=k(),c=I("ion-item"),c.textContent="Documentation",l=k(),h=I("ion-item"),h.textContent="Showcase",f=k(),d=I("ion-item"),d.textContent="GitHub Repo",p=k(),m=I("ion-button"),m.textContent="Close",wr.title="Ionic UI Companion App - Popover extra",D(s,"button",""),D(c,"button",""),D(h,"button",""),D(d,"button",""),D(m,"expand","block"),v=[A(s,"click",t[2]),A(c,"click",t[3]),A(h,"click",t[4]),A(d,"click",t[5]),A(m,"click",t[6])]},m(e,t){w(e,n,t),w(e,i,t),b(i,r),b(i,a),b(i,s),b(i,u),b(i,c),b(i,l),b(i,h),b(i,f),b(i,d),w(e,p,t),w(e,m,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(p),e&&T(m),o(v)}}}function Er(e){let t=document.querySelector("ion-popover-controller");const n=e=>{t.dismiss(e)};return[n,t,()=>{n("Learn Ionic")},()=>{n("Documentation")},()=>{n("Showcase")},()=>{n("Github")},()=>{n(void 0)}]}class Ir extends Te{constructor(e){super(),we(this,e,Er,Tr,s,{})}}function Sr(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v,g,y,E,S,C,_,N,x,L,R;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Movies</ion-title></ion-toolbar>',r=k(),a=I("ion-content"),s=I("ion-button"),s.textContent="Action Sheet",u=k(),c=I("ion-button"),c.textContent="Show Simple Alert",l=k(),h=I("ion-button"),h.textContent="Show Radio Alert",f=k(),d=I("ion-button"),d.textContent="Show Checkbox Alert",p=k(),m=I("ion-button"),m.textContent="Show Input Alert",v=k(),g=I("ion-button"),g.textContent="Show Modal",y=k(),E=I("ion-button"),E.textContent="Show Popover",S=k(),C=I("ion-button"),C.textContent="Show Loading",_=k(),N=I("ion-button"),N.textContent="Show Picker",x=k(),L=I("ion-button"),L.textContent="Show Toast",document.title="Ionic UI Companion App - Tabs Movies",D(i,"translucent",""),D(s,"expand","block"),D(c,"expand","block"),D(h,"expand","block"),D(d,"expand","block"),D(m,"expand","block"),D(g,"expand","block"),D(E,"expand","block"),D(C,"expand","block"),D(N,"expand","block"),D(L,"expand","block"),D(a,"fullscreen",""),D(a,"class","ion-padding"),R=[A(s,"click",t[9]),A(c,"click",t[6]),A(h,"click",t[7]),A(d,"click",t[8]),A(m,"click",t[2]),A(g,"click",t[0]),A(E,"click",t[1]),A(C,"click",t[3]),A(N,"click",t[5]),A(L,"click",t[4])]},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,a,t),b(a,s),b(a,u),b(a,c),b(a,l),b(a,h),b(a,f),b(a,d),b(a,p),b(a,m),b(a,v),b(a,g),b(a,y),b(a,E),b(a,S),b(a,C),b(a,_),b(a,N),b(a,x),b(a,L)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(a),o(R)}}}function kr(e){return[()=>{Hn("modal-extra",br,{firstName:"Douglas",lastName:"Adams",middleInitial:"N"}).then(console.log)},e=>{Kn(e,"popover-extra",Ir,{firstName:"Douglas",lastName:"Adams",middleInitial:"N"}).then(console.log)},()=>{$n({header:"Prompt!",inputs:[{placeholder:"Placeholder 1"},{name:"name2",id:"name2-id",value:"hello",placeholder:"Placeholder 2"},{name:"name3",value:"http://ionicframework.com",type:"url",placeholder:"Favorite site ever"},{name:"name4",type:"date",min:"2017-03-01",max:"2018-01-12"},{name:"name5",type:"date"},{name:"name6",type:"number",min:-5,max:10},{name:"name7",type:"number"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:e=>{console.log("Confirm Ok",e)}}]})},()=>{Gn({message:"Please wait......",duration:3e4}).then(e=>{setTimeout(()=>{e.dismiss()},2e3)})},()=>{Qn({color:"dark",duration:2e3,message:"Paired successfully",showCloseButton:!0})},()=>{zn({columns:[{name:"col-0",options:[{text:"Dog",value:0},{text:"Cat",value:1},{text:"Bird",value:2},{text:"Lizard",value:3},{text:"Chinchilla",value:4}]}],buttons:[{text:"Cancel",role:"cancel"},{text:"Confirm",handler:e=>{console.log("Got Value ",e)}}]})},()=>{$n({header:"Prompt!",subHeader:"Subtitle",message:"This is an alert message.",buttons:["OK"]})},()=>{$n({header:"Radio",subHeader:"Subtitle",message:"This is an alert message.",inputs:[{type:"radio",label:"Radio 1",value:"value1",checked:!0},{type:"radio",label:"Radio 2",value:"value2"},{type:"radio",label:"Radio 3",value:"value3"},{type:"radio",label:"Radio 4",value:"value4"},{type:"radio",label:"Radio 5",value:"value5"},{type:"radio",label:"Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 Radio 6 ",value:"value6"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:e=>{console.log("Confirm Ok",e)}}]})},()=>{$n({header:"Radio",subHeader:"Subtitle",message:"This is an alert message.",inputs:[{type:"checkbox",label:"Checkbox 1",value:"value1",checked:!0},{type:"checkbox",label:"Checkbox 2",value:"value2"},{type:"checkbox",label:"Checkbox 3",value:"value3"},{type:"checkbox",label:"Checkbox 4",value:"value4"},{type:"checkbox",label:"Checkbox 5",value:"value5"},{type:"checkbox",label:"Checkbox 6",value:"value6"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:e=>{console.log("Confirm Ok",e)}}]})},()=>{Yn({header:"Albums",buttons:[{text:"Delete",role:"destructive",handler:()=>{console.log("Delete clicked")}},{text:"Share",handler:()=>{console.log("Share clicked")}},{text:"Play",handler:()=>{console.log("Play clicked")}},{text:"Favorite",handler:()=>{console.log("Favorite clicked")}},{text:"Cancel",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})}]}class Cr extends Te{constructor(e){super(),we(this,e,kr,Sr,s,{})}}function _r(e){let t,n,i,r;const o=e[1].default,a=c(o,e,e[0],null);return{c(){t=I("main"),a&&a.c()},m(e,n){w(e,t,n),a&&a.m(t,null),r=!0},p(e,[t]){a&&a.p&&1&t&&a.p(l(o,e,e[0],null),h(o,e[0],t,null))},i(e){r||(ce(a,e),ee(()=>{i&&i.end(1),n||(n=fe(t,Yt,{x:200,duration:250})),n.start()}),r=!0)},o(e){le(a,e),n&&n.invalidate(),i=de(t,Yt,{x:200,duration:250}),r=!1},d(e){e&&T(t),a&&a.d(e),e&&i&&i.end()}}}function Ar(e,t,n){let{$$slots:i={},$$scope:r}=t;return e.$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,i]}class Nr extends Te{constructor(e){super(),we(this,e,Ar,_r,s,{})}}function Dr(e){let t,n,i,r,o,a,s,u,c,l,h,f,d,p,m=e[0].title+"",v=e[0].description+"";const g=new gi({});return{c(){t=I("ion-header"),n=I("ion-toolbar"),i=I("ion-buttons"),ve(g.$$.fragment),r=k(),o=I("ion-title"),a=S(m),s=k(),u=I("ion-content"),c=I("ion-icon"),h=k(),f=I("p"),d=S(v),D(i,"slot","start"),D(t,"translucent",""),D(c,"name",l="logo-"+e[0].icon),L(c,"color",e[0].color),D(c,"size","large"),D(u,"fullscreen",""),D(u,"class","ion-padding")},m(e,l){w(e,t,l),b(t,n),b(n,i),ge(g,i,null),b(n,r),b(n,o),b(o,a),w(e,s,l),w(e,u,l),b(u,c),b(u,h),b(u,f),b(f,d),p=!0},p(e,t){(!p||1&t)&&m!==(m=e[0].title+"")&&x(a,m),(!p||1&t&&l!==(l="logo-"+e[0].icon))&&D(c,"name",l),(!p||1&t)&&L(c,"color",e[0].color),(!p||1&t)&&v!==(v=e[0].description+"")&&x(d,v)},i(e){p||(ce(g.$$.fragment,e),p=!0)},o(e){le(g.$$.fragment,e),p=!1},d(e){e&&T(t),ye(g),e&&T(s),e&&T(u)}}}function xr(e){let t,n;const i=new Nr({props:{$$slots:{default:[Dr]},$$scope:{ctx:e}}});return{c(){t=k(),ve(i.$$.fragment),document.title="Ionic UI Companion App - AltDetail"},m(e,r){w(e,t,r),ge(i,e,r),n=!0},p(e,[t]){const n={};5&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i(e){n||(ce(i.$$.fragment,e),n=!0)},o(e){le(i.$$.fragment,e),n=!1},d(e){e&&T(t),ye(i,e)}}}function Lr(e,t,n){let{techName:i}=t,r={title:"Python",icon:"python",description:"A clear and powerful object-oriented programming language!",color:"#3575AC"};return r=Ei.find(e=>"Tux"===e.title),console.log("techs",Ei,r,i),e.$set=e=>{"techName"in e&&n(1,i=e.techName)},[r,i]}class Rr extends Te{constructor(e){super(),we(this,e,Lr,xr,s,{techName:1})}}function Or(t){let n,i,r,o,a,s;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Games</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),a=I("ion-button"),a.textContent="Open a detail nav with back button.",document.title="Ionic UI Companion App - Tabs-Games",D(i,"translucent",""),D(a,"expand","full"),D(a,"color","secondary"),D(o,"fullscreen",""),s=A(a,"click",Pr)},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t),b(o,a)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o),s()}}}function Pr(){Ei.find(e=>"Tux"===e.title);Ne("/navdetails/Tux")}function Mr(e){let t;return W(()=>{t=Wn(),console.log("NAV",t)}),[]}class qr extends Te{constructor(e){super(),we(this,e,Mr,Or,s,{})}}function Fr(e){let t;const n=new zt({props:{tabs:e[1],selected:e[0].id}});return{c(){ve(n.$$.fragment)},m(e,i){ge(n,e,i),t=!0},p(e,[t]){const i={};1&t&&(i.selected=e[0].id),n.$set(i)},i(e){t||(ce(n.$$.fragment,e),t=!0)},o(e){le(n.$$.fragment,e),t=!1},d(e){ye(n,e)}}}function Br(e,t,n){let{params:i={id:"music"}}=t;console.log("para",i);const r=[{label:"Magic",icon:"videocam",tab:"movies",component:Cr},{label:"Text",icon:"musical-note",tab:"music",component:mr},{label:"Nothing",icon:"logo-game-controller-b",tab:"games",component:qr}];return e.$set=e=>{"params"in e&&n(0,i=e.params)},[i,r]}class Ur extends Te{constructor(e){super(),we(this,e,Br,Fr,s,{params:0})}}function Vr(t){let n,i,r;return{c(){n=I("ion-header"),n.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Text</ion-title></ion-toolbar>',i=k(),r=I("ion-content"),r.innerHTML='<ion-text color="primary"><h1 class="svelte-l33yj5">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h1></ion-text> \n\n  <ion-text color="secondary"><h2>Nam rutrum justo massa, maximus elementum leo dignissim ac.</h2></ion-text> \n\n  <ion-text color="tertiary"><h3>Vestibulum eleifend lorem nec neque interdum varius.</h3></ion-text> \n\n  <ion-text color="success"><h4>Sed in neque at nibh congue tincidunt.</h4></ion-text> \n\n  <ion-text color="warning"><h5>\n      Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere\n      cubilia Curae;\n    </h5></ion-text> \n\n  <ion-text color="danger"><h6>Suspendisse potenti.</h6></ion-text> \n\n  <p>\n    Donec magna odio,\n    <ion-text color="primary">semper</ion-text>\n    ac nibh et, vestibulum eleifend felis. Donec\n    <ion-text color="secondary">pulvinar</ion-text>\n    ex non quam vulputate malesuada in a magna. Praesent massa arcu,\n    <ion-text color="tertiary">vehicula</ion-text>\n    id pharetra et, cursus at lectus.\n  </p>',D(n,"translucent",""),D(r,"fullscreen",""),D(r,"class","ion-padding")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r)}}}class jr extends Te{constructor(e){super(),we(this,e,null,Vr,s,{})}}function Wr(t){let n,i,r;return{c(){n=I("ion-header"),n.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Thumbails</ion-title></ion-toolbar>',i=k(),r=I("ion-content"),r.innerHTML='<ion-list-header>Default</ion-list-header> \n  <ion-thumbnail class="ion-margin-start"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-thumbnail> \n\n  <ion-list-header>Chip Avatar</ion-list-header> \n  <ion-chip class="ion-margin-start"><ion-thumbnail><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-thumbnail> \n    <ion-label>Kit Bishop</ion-label></ion-chip> \n\n  <ion-list><ion-list-header>Item Avatars</ion-list-header> \n    <ion-item><ion-thumbnail slot="start"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-thumbnail> \n      <ion-label>Lorem ipsum</ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-thumbnail> \n      <ion-label><h3>Lorem ipsum</h3> \n        <p>dolor sit amet</p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="start"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-thumbnail> \n      <ion-label><h3>Lorem ipsum</h3> \n        <p>dolor sit amet</p> \n        <p>consectetur adipiscing elit. Duis ut urna neque.</p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="end"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-thumbnail> \n      <ion-label>Lorem ipsum</ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="end"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-thumbnail> \n      <ion-label><h3>Lorem ipsum</h3> \n        <p>dolor sit amet</p></ion-label></ion-item> \n    <ion-item><ion-thumbnail slot="end"><img alt="avatar" src="./assets/img/ionic/avatar.svg"></ion-thumbnail> \n      <ion-label><h3>Lorem ipsum</h3> \n        <p>dolor sit amet</p> \n        <p>consectetur adipiscing elit. Duis ut urna neque.</p></ion-label></ion-item></ion-list>',D(n,"translucent",""),D(r,"fullscreen","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r)}}}class Hr extends Te{constructor(e){super(),we(this,e,null,Wr,s,{})}}function Kr(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v,g,y,E,S,C,_,N,x,L,R,O,P,M,q,F,B,U,V,j,W,H,K,G,z,$,Q,Y,J,X,Z,ee,te,ne,ie,re;return{c(){n=I("ion-header"),n.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Toggle</ion-title></ion-toolbar>',i=k(),r=I("ion-content"),a=I("ion-list"),s=I("ion-item"),u=I("ion-label"),u.textContent="Blueberry",c=k(),l=I("ion-toggle"),h=k(),f=I("ion-item"),d=I("ion-label"),d.textContent="Apple",p=k(),m=I("ion-toggle"),v=k(),g=I("ion-item"),y=I("ion-label"),y.textContent="Grape",E=k(),S=I("ion-toggle"),C=k(),_=I("ion-item"),N=I("ion-label"),N.textContent="Kiwi",x=k(),L=I("ion-toggle"),R=k(),O=I("ion-item"),P=I("ion-label"),P.textContent="Orange",M=k(),q=I("ion-toggle"),F=k(),B=I("ion-item"),U=I("ion-label"),U.textContent="Cherry",V=k(),j=I("ion-toggle"),W=k(),H=I("ion-item"),K=I("ion-label"),K.textContent="Banana",G=k(),z=I("ion-toggle"),$=k(),Q=I("ion-item"),Y=I("ion-label"),Y.textContent="Cantaloupe",J=k(),X=I("ion-toggle"),Z=k(),ee=I("ion-item"),te=I("ion-label"),te.textContent="Blackberry",ne=k(),ie=I("ion-toggle"),D(n,"translucent",""),D(l,"slot","start"),D(l,"name","blueberry"),D(l,"checked",""),D(m,"slot","start"),D(m,"name","apple"),D(m,"color","secondary"),D(m,"checked",""),D(S,"slot","start"),D(S,"name","grape"),D(S,"color","tertiary"),D(S,"checked",""),D(L,"slot","start"),D(L,"name","kiwi"),D(L,"color","success"),D(L,"checked",""),D(q,"slot","start"),D(q,"name","banana"),D(q,"color","warning"),D(q,"checked",""),D(j,"slot","start"),D(j,"name","cherry"),D(j,"color","danger"),D(j,"checked",""),D(z,"slot","start"),D(z,"name","banana"),D(z,"color","light"),D(z,"checked",""),D(X,"slot","start"),D(X,"name","cantaloupe"),D(X,"color","medium"),D(X,"checked",""),D(ie,"slot","start"),D(ie,"name","blackberry"),D(ie,"color","dark"),D(ie,"checked",""),D(r,"fullscreen",""),re=[A(l,"ionChange",t[0]),A(m,"ionChange",t[0]),A(S,"ionChange",t[0]),A(L,"ionChange",t[0]),A(q,"ionChange",t[0]),A(j,"ionChange",t[0]),A(z,"ionChange",t[0]),A(X,"ionChange",t[0]),A(ie,"ionChange",t[0])]},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),b(r,a),b(a,s),b(s,u),b(s,c),b(s,l),b(a,h),b(a,f),b(f,d),b(f,p),b(f,m),b(a,v),b(a,g),b(g,y),b(g,E),b(g,S),b(a,C),b(a,_),b(_,N),b(_,x),b(_,L),b(a,R),b(a,O),b(O,P),b(O,M),b(O,q),b(a,F),b(a,B),b(B,U),b(B,V),b(B,j),b(a,W),b(a,H),b(H,K),b(H,G),b(H,z),b(a,$),b(a,Q),b(Q,Y),b(Q,J),b(Q,X),b(a,Z),b(a,ee),b(ee,te),b(ee,ne),b(ee,ie)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),o(re)}}}function Gr(e){return[e=>{console.log("Toggle action",e.detail,e.srcElement.name)}]}class zr extends Te{constructor(e){super(),we(this,e,Gr,Kr,s,{})}}function $r(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v,g,y,E,S,C,_,N,x,L,R,O,P,M,q,F,B,U,V,j,W,H,K,G,z,$,Q,Y,J,X,Z,ee,te;return{c(){n=I("ion-header"),i=I("ion-toolbar"),r=I("ion-buttons"),r.innerHTML="<ion-menu-button></ion-menu-button>",a=k(),s=I("ion-buttons"),u=I("ion-button"),u.innerHTML='<ion-icon slot="icon-only" name="logo-ionic"></ion-icon>',c=k(),l=I("ion-title"),l.textContent="Header",h=k(),f=I("ion-buttons"),d=I("ion-button"),d.innerHTML='<ion-icon slot="icon-only" name="star"></ion-icon>',p=k(),m=I("ion-content"),v=I("ion-toolbar"),v.innerHTML="<ion-title>Default</ion-title>",g=k(),y=I("ion-toolbar"),y.innerHTML="<ion-title>Primary</ion-title>",E=k(),S=I("ion-toolbar"),S.innerHTML="<ion-title>Secondary</ion-title>",C=k(),_=I("ion-toolbar"),_.innerHTML="<ion-title>Tertiary</ion-title>",N=k(),x=I("ion-toolbar"),x.innerHTML="<ion-title>Success</ion-title>",L=k(),R=I("ion-toolbar"),R.innerHTML="<ion-title>Warning</ion-title>",O=k(),P=I("ion-toolbar"),P.innerHTML="<ion-title>Danger</ion-title>",M=k(),q=I("ion-toolbar"),F=I("ion-buttons"),B=I("ion-button"),B.textContent="Messages (1)",U=k(),V=I("ion-title"),V.textContent="Buttons",j=k(),W=I("ion-buttons"),H=I("ion-button"),H.textContent="Log Out",K=k(),G=I("ion-footer"),z=I("ion-toolbar"),$=I("ion-buttons"),Q=I("ion-button"),Q.innerHTML='<ion-icon slot="icon-only" name="finger-print"></ion-icon>',Y=k(),J=I("ion-title"),J.textContent="Footer",X=k(),Z=I("ion-buttons"),ee=I("ion-button"),ee.innerHTML='<ion-icon slot="icon-only" name="more"></ion-icon>',D(r,"slot","start"),D(s,"slot","secondary"),D(f,"slot","primary"),D(n,"translucent",""),D(y,"color","primary"),D(S,"color","secondary"),D(_,"color","tertiary"),D(x,"color","success"),D(R,"color","warning"),D(P,"color","danger"),D(F,"slot","secondary"),D(W,"slot","primary"),D(m,"fullscreen",""),D($,"slot","secondary"),D(Z,"slot","primary"),te=[A(u,"click",t[0]),A(d,"click",t[0]),A(B,"click",t[0]),A(H,"click",t[0]),A(Q,"click",t[0]),A(ee,"click",t[0])]},m(e,t){w(e,n,t),b(n,i),b(i,r),b(i,a),b(i,s),b(s,u),b(i,c),b(i,l),b(i,h),b(i,f),b(f,d),w(e,p,t),w(e,m,t),b(m,v),b(m,g),b(m,y),b(m,E),b(m,S),b(m,C),b(m,_),b(m,N),b(m,x),b(m,L),b(m,R),b(m,O),b(m,P),b(m,M),b(m,q),b(q,F),b(F,B),b(q,U),b(q,V),b(q,j),b(q,W),b(W,H),w(e,K,t),w(e,G,t),b(G,z),b(z,$),b($,Q),b(z,Y),b(z,J),b(z,X),b(z,Z),b(Z,ee)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(p),e&&T(m),e&&T(K),e&&T(G),o(te)}}}function Qr(e){return[e=>{console.log("You clicked me!!",e)}]}class Yr extends Te{constructor(e){super(),we(this,e,Qr,$r,s,{})}}function Jr(t){let n,i,r,o,a,s;return{c(){n=I("link"),i=I("link"),r=k(),o=I("ion-header"),o.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Timeline - experimental</ion-title></ion-toolbar>',a=k(),s=I("ion-content"),s.innerHTML='<div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-1</h4> \n    <div class="row"><div class="col-md-12"><div class="main-timeline svelte-1k5t9df"><a href="#" class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><i class="fa fa-globe svelte-1k5t9df"></i></div> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Designer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n                Cupiditate ducimus officiis quod! Aperiam eveniet nam nostrum\n                odit quasi ullam voluptatum.\n              </p></div></a> \n          <a href="#" class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><i class="fa fa-rocket svelte-1k5t9df"></i></div> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n                Cupiditate ducimus officiis quod! Aperiam eveniet nam nostrum\n                odit quasi ullam voluptatum.\n              </p></div></a> \n          <a href="#" class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><i class="fa fa-briefcase svelte-1k5t9df"></i></div> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Designer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n                Cupiditate ducimus officiis quod! Aperiam eveniet nam nostrum\n                odit quasi ullam voluptatum.\n              </p></div></a> \n          <a href="#" class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><i class="fa fa-mobile svelte-1k5t9df"></i></div> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n                Cupiditate ducimus officiis quod! Aperiam eveniet nam nostrum\n                odit quasi ullam voluptatum.\n              </p></div></a></div></div></div></div> \n  <hr> \n\n  <div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-2</h4> \n    <div class="row"><div class="col-md-12"><div class="main-timeline2 svelte-1k5t9df"><div class="timeline svelte-1k5t9df"><span class="icon fa fa-globe svelte-1k5t9df"></span> \n            <a href="#" class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Designer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\n                malesuada tellus lorem, et condimentum neque commodo quis.\n              </p></a></div> \n          <div class="timeline svelte-1k5t9df"><span class="icon fa fa-rocket svelte-1k5t9df"></span> \n            <a href="#" class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\n                malesuada tellus lorem, et condimentum neque commodo quis.\n              </p></a></div> \n          <div class="timeline svelte-1k5t9df"><span class="icon fa fa-briefcase svelte-1k5t9df"></span> \n            <a href="#" class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Designer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\n                malesuada tellus lorem, et condimentum neque commodo quis.\n              </p></a></div> \n          <div class="timeline svelte-1k5t9df"><span class="icon fa fa-mobile svelte-1k5t9df"></span> \n            <a href="#" class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\n                malesuada tellus lorem, et condimentum neque commodo quis.\n              </p></a></div></div></div></div></div> \n  <hr> \n\n  <div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-3</h4> \n    <div class="row"><div class="col-md-12"><div class="main-timeline3 svelte-1k5t9df"><div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2018</span> \n              <h3 class="title svelte-1k5t9df">Web Designer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\n                malesuada tellus lorem, et condimentum neque commodo quis.\n              </p></a></div> \n          <div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2017</span> \n              <h3 class="title svelte-1k5t9df">Web Developer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\n                malesuada tellus lorem, et condimentum neque commodo quis.\n              </p></a></div> \n          <div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2016</span> \n              <h3 class="title svelte-1k5t9df">Web Designer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\n                malesuada tellus lorem, et condimentum neque commodo quis.\n              </p></a></div> \n          <div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2015</span> \n              <h3 class="title svelte-1k5t9df">Web Developer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\n                malesuada tellus lorem, et condimentum neque commodo quis.\n              </p></a></div></div></div></div></div> \n  <hr> \n\n  <div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-4</h4> \n    <div class="row"><div class="col-md-12"><div class="main-timeline4 svelte-1k5t9df"><div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2018</span> \n              <div class="inner-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Designer</h3> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras\n                  ex odio, rhoncus sit amet tincidunt eu, suscipit a orci. In\n                  suscipit quam eget dui auctor.\n                </p></div></a></div> \n          <div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2017</span> \n              <div class="inner-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras\n                  ex odio, rhoncus sit amet tincidunt eu, suscipit a orci. In\n                  suscipit quam eget dui auctor.\n                </p></div></a></div> \n          <div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2016</span> \n              <div class="inner-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Designer</h3> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras\n                  ex odio, rhoncus sit amet tincidunt eu, suscipit a orci. In\n                  suscipit quam eget dui auctor.\n                </p></div></a></div> \n          <div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2015</span> \n              <div class="inner-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras\n                  ex odio, rhoncus sit amet tincidunt eu, suscipit a orci. In\n                  suscipit quam eget dui auctor.\n                </p></div></a></div></div></div></div></div> \n  <hr> \n\n  <div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-5</h4> \n    <div class="row"><div class="col-md-12"><div class="main-timeline5 svelte-1k5t9df"><div class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><span class="year svelte-1k5t9df">2018</span></div> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Desginer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec\n                lacinia mi ultrices, luctus nunc ut, commodo enim. Vivamus sem\n                erat.\n              </p></div></div> \n          <div class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><span class="year svelte-1k5t9df">2017</span></div> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec\n                lacinia mi ultrices, luctus nunc ut, commodo enim. Vivamus sem\n                erat.\n              </p></div></div> \n          <div class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><span class="year svelte-1k5t9df">2016</span></div> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Desginer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec\n                lacinia mi ultrices, luctus nunc ut, commodo enim. Vivamus sem\n                erat.\n              </p></div></div> \n          <div class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><span class="year svelte-1k5t9df">2015</span></div> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec\n                lacinia mi ultrices, luctus nunc ut, commodo enim. Vivamus sem\n                erat.\n              </p></div></div></div></div></div></div> \n  <hr> \n\n  <div class="demo svelte-1k5t9df"><div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-6</h4> \n      <div class="row"><div class="col-md-12"><div class="main-timeline6 svelte-1k5t9df"><div class="timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2018</span> \n                <div class="content-inner svelte-1k5t9df"><span class="icon svelte-1k5t9df"><i class="fa fa-globe svelte-1k5t9df"></i></span> \n                  <h3 class="title svelte-1k5t9df">Web Designer</h3> \n                  <p class="description svelte-1k5t9df">\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Integer malesuada tellus lorem, et condimentum neque commodo\n                    quis. Quisque eu ornare risus, vitae fermentum eros. Etiam\n                    venenatis ac.\n                  </p></div></div></div> \n            <div class="timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2017</span> \n                <div class="content-inner svelte-1k5t9df"><span class="icon svelte-1k5t9df"><i class="fa fa-rocket svelte-1k5t9df"></i></span> \n                  <h3 class="title svelte-1k5t9df">Web Developer</h3> \n                  <p class="description svelte-1k5t9df">\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Integer malesuada tellus lorem, et condimentum neque commodo\n                    quis. Quisque eu ornare risus, vitae fermentum eros. Etiam\n                    venenatis ac.\n                  </p></div></div></div> \n            <div class="timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2016</span> \n                <div class="content-inner svelte-1k5t9df"><span class="icon svelte-1k5t9df"><i class="fa fa-briefcase svelte-1k5t9df"></i></span> \n                  <h3 class="title svelte-1k5t9df">Web Designer</h3> \n                  <p class="description svelte-1k5t9df">\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Integer malesuada tellus lorem, et condimentum neque commodo\n                    quis. Quisque eu ornare risus, vitae fermentum eros. Etiam\n                    venenatis ac.\n                  </p></div></div></div> \n            <div class="timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2015</span> \n                <div class="content-inner svelte-1k5t9df"><span class="icon svelte-1k5t9df"><i class="fa fa-mobile svelte-1k5t9df"></i></span> \n                  <h3 class="title svelte-1k5t9df">Web Developer</h3> \n                  <p class="description svelte-1k5t9df">\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Integer malesuada tellus lorem, et condimentum neque commodo\n                    quis. Quisque eu ornare risus, vitae fermentum eros. Etiam\n                    venenatis ac.\n                  </p></div></div></div></div></div></div></div></div> \n\n  <div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-7</h4> \n    <div class="row"><div class="col-md-12"><div class="main-timeline7 svelte-1k5t9df"><div class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><i class="fa fa-globe svelte-1k5t9df"></i></div> \n            <span class="year svelte-1k5t9df">2018</span> \n            <div class="timeline-content svelte-1k5t9df"><h5 class="title svelte-1k5t9df">Web Desginer</h5> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                Vestibulum mattis felis vitae risus pulvinar tincidunt. Nam ac\n                venenatis enim. Aenean hendrerit justo sed.\n              </p></div></div> \n          <div class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><i class="fa fa-rocket svelte-1k5t9df"></i></div> \n            <span class="year svelte-1k5t9df">2017</span> \n            <div class="timeline-content svelte-1k5t9df"><h5 class="title svelte-1k5t9df">Web Developer</h5> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                Vestibulum mattis felis vitae risus pulvinar tincidunt. Nam ac\n                venenatis enim. Aenean hendrerit justo sed.\n              </p></div></div> \n          <div class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><i class="fa fa-briefcase svelte-1k5t9df"></i></div> \n            <span class="year svelte-1k5t9df">2016</span> \n            <div class="timeline-content svelte-1k5t9df"><h5 class="title svelte-1k5t9df">Web Desginer</h5> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                Vestibulum mattis felis vitae risus pulvinar tincidunt. Nam ac\n                venenatis enim. Aenean hendrerit justo sed.\n              </p></div></div> \n          <div class="timeline svelte-1k5t9df"><div class="timeline-icon svelte-1k5t9df"><i class="fa fa-mobile svelte-1k5t9df"></i></div> \n            <span class="year svelte-1k5t9df">2015</span> \n            <div class="timeline-content svelte-1k5t9df"><h5 class="title svelte-1k5t9df">Web Developer</h5> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                Vestibulum mattis felis vitae risus pulvinar tincidunt. Nam ac\n                venenatis enim. Aenean hendrerit justo sed.\n              </p></div></div></div></div></div></div> \n  <hr> \n\n  <div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-8</h4> \n    <div class="row"><div class="col-md-12"><div class="main-timeline8 svelte-1k5t9df"><div class="timeline svelte-1k5t9df"><span class="timeline-icon svelte-1k5t9df"></span> \n            <span class="year svelte-1k5t9df">2017</span> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Desginer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus\n                mattis justo id pulvinar suscipit. Pellentesque rutrum vehicula\n                erat sed dictum. Integer quis turpis magna. Suspendisse\n                tincidunt elit at erat tincidunt, vel vulputate arcu dapibus.\n                Etiam accumsan ornare posuere. Nullam est.\n              </p></div></div> \n          <div class="timeline svelte-1k5t9df"><span class="timeline-icon svelte-1k5t9df"></span> \n            <span class="year svelte-1k5t9df">2016</span> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus\n                mattis justo id pulvinar suscipit. Pellentesque rutrum vehicula\n                erat sed dictum. Integer quis turpis magna. Suspendisse\n                tincidunt elit at erat tincidunt, vel vulputate arcu dapibus.\n                Etiam accumsan ornare posuere. Nullam est.\n              </p></div></div> \n          <div class="timeline svelte-1k5t9df"><span class="timeline-icon svelte-1k5t9df"></span> \n            <span class="year svelte-1k5t9df">2015</span> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Desginer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus\n                mattis justo id pulvinar suscipit. Pellentesque rutrum vehicula\n                erat sed dictum. Integer quis turpis magna. Suspendisse\n                tincidunt elit at erat tincidunt, vel vulputate arcu dapibus.\n                Etiam accumsan ornare posuere. Nullam est.\n              </p></div></div> \n          <div class="timeline svelte-1k5t9df"><span class="timeline-icon svelte-1k5t9df"></span> \n            <span class="year svelte-1k5t9df">2014</span> \n            <div class="timeline-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus\n                mattis justo id pulvinar suscipit. Pellentesque rutrum vehicula\n                erat sed dictum. Integer quis turpis magna. Suspendisse\n                tincidunt elit at erat tincidunt, vel vulputate arcu dapibus.\n                Etiam accumsan ornare posuere. Nullam est.\n              </p></div></div></div></div></div></div> \n  <hr> \n\n  <div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-9</h4> \n    <div class="row"><div class="col-md-12"><div class="main-timeline9 svelte-1k5t9df"><div class="timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><div class="circle svelte-1k5t9df"><span class="svelte-1k5t9df"><i class="fa fa-globe svelte-1k5t9df"></i></span></div> \n              <div class="content svelte-1k5t9df"><span class="year svelte-1k5t9df">2014 - 2015</span> \n                <h4 class="title svelte-1k5t9df">Web Desginer</h4> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce\n                  non lectus justo. Nam ultricies laoreet massa sed maximus.\n                  Curabitur tristique sagittis scelerisque. Vivamus posuere nisi\n                  quis tortor interdum, in finibus risus convallis. Suspendisse\n                  efficitur lacus a nulla commodo, sit amet vestibulum nibh.\n                </p> \n                <div class="icon svelte-1k5t9df"><span class="svelte-1k5t9df"></span></div></div></div></div> \n          <div class="timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><div class="circle svelte-1k5t9df"><span class="svelte-1k5t9df"><i class="fa fa-rocket svelte-1k5t9df"></i></span></div> \n              <div class="content svelte-1k5t9df"><span class="year svelte-1k5t9df">2015 - 2016</span> \n                <h4 class="title svelte-1k5t9df">Web Developer</h4> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce\n                  non lectus justo. Nam ultricies laoreet massa sed maximus.\n                  Curabitur tristique sagittis scelerisque. Vivamus posuere nisi\n                  quis tortor interdum, in finibus risus convallis. Suspendisse\n                  efficitur lacus a nulla commodo, sit amet vestibulum nibh.\n                </p> \n                <div class="icon svelte-1k5t9df"><span class="svelte-1k5t9df"></span></div></div></div></div> \n          <div class="timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><div class="circle svelte-1k5t9df"><span class="svelte-1k5t9df"><i class="fa fa-briefcase svelte-1k5t9df"></i></span></div> \n              <div class="content svelte-1k5t9df"><span class="year svelte-1k5t9df">2016 - 2017</span> \n                <h4 class="title svelte-1k5t9df">Web Desginer</h4> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce\n                  non lectus justo. Nam ultricies laoreet massa sed maximus.\n                  Curabitur tristique sagittis scelerisque. Vivamus posuere nisi\n                  quis tortor interdum, in finibus risus convallis. Suspendisse\n                  efficitur lacus a nulla commodo, sit amet vestibulum nibh.\n                </p> \n                <div class="icon svelte-1k5t9df"><span class="svelte-1k5t9df"></span></div></div></div></div> \n          <div class="timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><div class="circle svelte-1k5t9df"><span class="svelte-1k5t9df"><i class="fa fa-mobile svelte-1k5t9df"></i></span></div> \n              <div class="content svelte-1k5t9df"><span class="year svelte-1k5t9df">2017 - 2018</span> \n                <h4 class="title svelte-1k5t9df">Web Developer</h4> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce\n                  non lectus justo. Nam ultricies laoreet massa sed maximus.\n                  Curabitur tristique sagittis scelerisque. Vivamus posuere nisi\n                  quis tortor interdum, in finibus risus convallis. Suspendisse\n                  efficitur lacus a nulla commodo, sit amet vestibulum nibh.\n                </p> \n                <div class="icon svelte-1k5t9df"><span class="svelte-1k5t9df"></span></div></div></div></div></div></div></div></div> \n  <hr> \n\n  <div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-10</h4> \n    <div class="row"><div class="main-timeline10 svelte-1k5t9df"><div class="col-md-3 col-sm-6 timeline svelte-1k5t9df"><div class="timeline-inner svelte-1k5t9df"><div class="year svelte-1k5t9df">2015</div> \n            <div class="timeline-content svelte-1k5t9df"><div class="post svelte-1k5t9df">Web Desginer</div> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec\n                eget ullamcorper odio. Phasellus congue varius placerat. Quisque\n                vel purus convallis.\n              </p></div> \n            <div class="timeline-icon svelte-1k5t9df"><i class="fa fa-globe svelte-1k5t9df"></i></div></div></div> \n        <div class="col-md-3 col-sm-6 timeline svelte-1k5t9df"><div class="timeline-inner svelte-1k5t9df"><div class="year svelte-1k5t9df">2016</div> \n            <div class="timeline-content svelte-1k5t9df"><div class="post svelte-1k5t9df">Web Developer</div> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec\n                eget ullamcorper odio. Phasellus congue varius placerat. Quisque\n                vel purus convallis.\n              </p></div> \n            <div class="timeline-icon svelte-1k5t9df"><i class="fa fa-rocket svelte-1k5t9df"></i></div></div></div> \n        <div class="col-md-3 col-sm-6 timeline svelte-1k5t9df"><div class="timeline-inner svelte-1k5t9df"><div class="year svelte-1k5t9df">2018</div> \n            <div class="timeline-content svelte-1k5t9df"><div class="post svelte-1k5t9df">Web Desginer</div> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec\n                eget ullamcorper odio. Phasellus congue varius placerat. Quisque\n                vel purus convallis.\n              </p></div> \n            <div class="timeline-icon svelte-1k5t9df"><i class="fa fa-briefcase svelte-1k5t9df"></i></div></div></div> \n        <div class="col-md-3 col-sm-6 timeline svelte-1k5t9df"><div class="timeline-inner svelte-1k5t9df"><div class="year svelte-1k5t9df">2017</div> \n            <div class="timeline-content svelte-1k5t9df"><div class="post svelte-1k5t9df">Web Developer</div> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec\n                eget ullamcorper odio. Phasellus congue varius placerat. Quisque\n                vel purus convallis.\n              </p></div> \n            <div class="timeline-icon svelte-1k5t9df"><i class="fa fa-camera svelte-1k5t9df"></i></div></div></div></div></div></div> \n  <hr> \n\n  <div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-11</h4> \n    <div class="row"><div class="col-md-12"><div class="main-timeline11 svelte-1k5t9df"><div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2018</span> \n              <div class="inner-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Designer</h3> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                  Integer malesuada tellus lorem, et condimentum neque commodo\n                  quis. Quisque eu ornare risus, vitae fermentum eros. Etiam\n                  venenatis ac.\n                </p></div></a></div> \n          <div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2017</span> \n              <div class="inner-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                  Integer malesuada tellus lorem, et condimentum neque commodo\n                  quis. Quisque eu ornare risus, vitae fermentum eros. Etiam\n                  venenatis ac.\n                </p></div></a></div> \n          <div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2016</span> \n              <div class="inner-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Designer</h3> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                  Integer malesuada tellus lorem, et condimentum neque commodo\n                  quis. Quisque eu ornare risus, vitae fermentum eros. Etiam\n                  venenatis ac.\n                </p></div></a></div> \n          <div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2015</span> \n              <div class="inner-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Developer</h3> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                  Integer malesuada tellus lorem, et condimentum neque commodo\n                  quis. Quisque eu ornare risus, vitae fermentum eros. Etiam\n                  venenatis ac.\n                </p></div></a></div> \n          <div class="timeline svelte-1k5t9df"><a href="#" class="timeline-content svelte-1k5t9df"><span class="year svelte-1k5t9df">2014</span> \n              <div class="inner-content svelte-1k5t9df"><h3 class="title svelte-1k5t9df">Web Designer</h3> \n                <p class="description svelte-1k5t9df">\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                  Integer malesuada tellus lorem, et condimentum neque commodo\n                  quis. Quisque eu ornare risus, vitae fermentum eros. Etiam\n                  venenatis ac.\n                </p></div></a></div></div></div></div></div> \n  <hr> \n\n  <div class="container"><h4 class="svelte-1k5t9df">Timeline Style : Demo-12</h4> \n    <div class="row"><div class="col-md-12"><div class="main-timeline12 svelte-1k5t9df"><div class="col-md-2 col-sm-4 timeline svelte-1k5t9df"><span class="timeline-icon svelte-1k5t9df"><i class="fa fa-key svelte-1k5t9df"></i></span> \n            <div class="border svelte-1k5t9df"></div> \n            <div class="timeline-content svelte-1k5t9df"><h4 class="title svelte-1k5t9df">Williamson</h4> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur.\n              </p></div></div> \n          <div class="col-md-2 col-sm-4 timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><h4 class="title svelte-1k5t9df">Kristiana</h4> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur.\n              </p></div> \n            <div class="border svelte-1k5t9df"></div> \n            <span class="timeline-icon svelte-1k5t9df"><i class="fa fa-key svelte-1k5t9df"></i></span></div> \n          <div class="col-md-2 col-sm-4 timeline svelte-1k5t9df"><span class="timeline-icon svelte-1k5t9df"><i class="fa fa-key svelte-1k5t9df"></i></span> \n            <div class="border svelte-1k5t9df"></div> \n            <div class="timeline-content svelte-1k5t9df"><h4 class="title svelte-1k5t9df">Steve thomas</h4> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur.\n              </p></div></div> \n          <div class="col-md-2 col-sm-4 timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><h4 class="title svelte-1k5t9df">Miranda joy</h4> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur.\n              </p></div> \n            <div class="border svelte-1k5t9df"></div> \n            <span class="timeline-icon svelte-1k5t9df"><i class="fa fa-key svelte-1k5t9df"></i></span></div> \n          <div class="col-md-2 col-sm-4 timeline svelte-1k5t9df"><span class="timeline-icon svelte-1k5t9df"><i class="fa fa-key svelte-1k5t9df"></i></span> \n            <div class="border svelte-1k5t9df"></div> \n            <div class="timeline-content svelte-1k5t9df"><h4 class="title svelte-1k5t9df">Williamson</h4> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur.\n              </p></div></div> \n          <div class="col-md-2 col-sm-4 timeline svelte-1k5t9df"><div class="timeline-content svelte-1k5t9df"><h4 class="title svelte-1k5t9df">Kristiana</h4> \n              <p class="description svelte-1k5t9df">\n                Lorem ipsum dolor sit amet, consectetur.\n              </p></div> \n            <div class="border svelte-1k5t9df"></div> \n            <span class="timeline-icon svelte-1k5t9df"><i class="fa fa-key svelte-1k5t9df"></i></span></div></div></div></div></div>',document.title="Ionic UI Companion App - Timeline ",N(n,"href","//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"),N(n,"rel","stylesheet"),N(n,"id","bootstrap-css"),N(i,"rel","stylesheet"),N(i,"href","https://use.fontawesome.com/releases/v5.2.0/css/all.css"),N(i,"integrity","sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"),N(i,"crossorigin","anonymous"),D(o,"translucent","")},m(e,t){b(document.head,n),b(document.head,i),w(e,r,t),w(e,o,t),w(e,a,t),w(e,s,t)},p:e,i:e,o:e,d(e){T(n),T(i),e&&T(r),e&&T(o),e&&T(a),e&&T(s)}}}class Xr extends Te{constructor(e){super(),we(this,e,null,Jr,s,{})}}class Zr{constructor(e,t={}){this.el=e,this.settings={initialShow:!1,initialBreak:"middle",parentElement:null,backdrop:!1,backdropClose:!1,animationType:"ease",animationDuration:300,darkMode:!1,bottomClose:!1,freeMode:!1,buttonClose:!0,topperOverflow:!0,topperOverflowOffset:0,showDraggable:!0,clickBottomOpen:!0,breaks:{top:{enabled:!0,offset:0},middle:{enabled:!0,offset:0},bottom:{enabled:!0,offset:0}},onDidDismiss:()=>{},onWillDismiss:()=>{},onDidPresent:()=>{},onWillPresent:()=>{},onDragStart:()=>{},onDrag:()=>{}},this.screen_height=window.screen.height,this.steps=[],this.breaks={top:50,middle:Math.round(this.screen_height-.35*this.screen_height),bottom:this.screen_height-80},this.brs=[],this.swipeNextPoint=(e,t,n)=>{if(this.currentBreak===this.breaks.top){if(e>t){if(this.settings.breaks.middle.enabled)return this.breaks.middle;if(this.settings.breaks.bottom.enabled)return this.breaks.bottom}return this.breaks.top}if(this.currentBreak===this.breaks.middle)return e<-t&&this.settings.breaks.top.enabled?this.breaks.top:e>t&&this.settings.breaks.bottom.enabled?this.breaks.bottom:this.breaks.middle;if(this.currentBreak===this.breaks.bottom){if(e<-t){if(this.settings.breaks.middle.enabled)return this.breaks.middle;if(this.settings.breaks.top.enabled)return this.breaks.top}return this.breaks.bottom}return n},this.settings=Object.assign(Object.assign({},this.settings),t),this.el=document.querySelector(this.el),this.el.style.display="none",this.settings.parentElement?this.settings.parentElement=document.querySelector(this.settings.parentElement):this.settings.parentElement=this.el.parentElement,["top","middle","bottom"].forEach(e=>{this.settings.breaks[this.settings.initialBreak].enabled||this.settings.breaks[e].enabled&&(this.settings.initialBreak=e),this.settings.breaks[e]&&this.settings.breaks[e].enabled&&this.settings.breaks[e].offset&&(this.breaks[e]-=this.settings.breaks[e].offset)}),this.currentBreak=this.breaks[this.settings.initialBreak],this.settings.initialShow&&this.present()}drawElements(){this.parentEl=this.settings.parentElement,this.wrapperEl=document.createElement("div"),this.wrapperEl.className=`cupertino-pane-wrapper ${this.el.className}`,this.wrapperEl.style.position="absolute",this.wrapperEl.style.top="0",this.wrapperEl.style.left="0",this.paneEl=document.createElement("div"),this.paneEl.className="pane",this.paneEl.style.position="fixed",this.paneEl.style.zIndex="11",this.paneEl.style.width="100%",this.paneEl.style.height="100%",this.paneEl.style.background="#ffffff",this.paneEl.style.borderTopLeftRadius="20px",this.paneEl.style.borderTopRightRadius="20px",this.paneEl.style.boxShadow="0 4px 16px rgba(0,0,0,.12)",this.paneEl.style.overflow="hidden",this.paneEl.style.transform=`translateY(${this.settings.initialShow?this.breaks[this.settings.initialBreak]:this.screen_height}px)`,this.draggableEl=document.createElement("div"),this.draggableEl.className="draggable",this.draggableEl.style.padding="5px",this.moveEl=document.createElement("div"),this.moveEl.className="move",this.moveEl.style.margin="0 auto",this.moveEl.style.height="5px",this.moveEl.style.background="#c0c0c0",this.moveEl.style.width="36px",this.moveEl.style.borderRadius="4px",this.contentEl=this.el,this.contentEl.style.display="",this.contentEl.style.transition=`opacity ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,this.contentEl.style.overflowX="hidden",this.backdropEl=document.createElement("div"),this.backdropEl.className="backdrop",this.backdropEl.style.overflow="hidden",this.backdropEl.style.position="fixed",this.backdropEl.style.width="100%",this.backdropEl.style.bottom="0",this.backdropEl.style.right="0",this.backdropEl.style.left="0",this.backdropEl.style.top="0",this.backdropEl.style.backgroundColor="rgba(0,0,0,.4)",this.backdropEl.style.zIndex="10",this.closeEl=document.createElement("div"),this.closeEl.className="close-button",this.closeEl.style.width="26px",this.closeEl.style.height="26px",this.closeEl.style.position="absolute",this.closeEl.style.background="#ebebeb",this.closeEl.style.top="16px",this.closeEl.style.right="20px",this.closeEl.style.borderRadius="100%"}present(){if(document.querySelector(`.cupertino-pane-wrapper.${this.el.className.split(" ").join(".")}`))return void this.moveToBreak(this.settings.initialBreak);if(this.settings.onWillPresent(),this.drawElements(),this.parentEl.appendChild(this.wrapperEl),this.wrapperEl.appendChild(this.paneEl),this.paneEl.appendChild(this.draggableEl),this.paneEl.appendChild(this.contentEl),this.draggableEl.appendChild(this.moveEl),!this.settings.initialShow){this.paneEl.style.transition=`transform ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,setTimeout(()=>{this.paneEl.style.transform=`translateY(${this.breaks[this.settings.initialBreak]}px)`},50);let e=this.paneEl.addEventListener("transitionend",t=>{this.paneEl.style.transition="initial",e=void 0})}if(this.settings.onDidPresent(),this.settings.backdrop&&(this.wrapperEl.appendChild(this.backdropEl),this.settings.backdropClose&&this.backdropEl.addEventListener("click",e=>this.closePane(this.backdropEl))),this.settings.showDraggable||(this.draggableEl.style.opacity="0"),this.settings.darkMode&&(this.paneEl.style.background="#1c1c1d",this.paneEl.style.color="#ffffff",this.moveEl.style.background="#5a5a5e"),this.settings.buttonClose){this.paneEl.appendChild(this.closeEl),this.closeEl.addEventListener("click",e=>this.closePane(this.backdropEl));let e="#7a7a7e";this.settings.darkMode&&(this.closeEl.style.background="#424246",e="#a8a7ae"),this.closeEl.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n          <path fill="${e}" d="M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"/>\n        </svg>`}this.settings.bottomClose&&(this.settings.breaks.bottom.enabled=!0),["top","middle","bottom"].forEach(e=>{this.settings.breaks[e].enabled&&this.brs.push(this.breaks[e])}),this.topper=this.brs.reduce((e,t)=>Math.abs(t)<Math.abs(e)?t:e),this.bottomer=this.brs.reduce((e,t)=>Math.abs(t)>Math.abs(e)?t:e);let e=document.querySelectorAll(`.${this.el.className.split(" ")[0]} [overflow-y]`);!e.length||e.length>1?this.overflowEl=this.contentEl:this.overflowEl=e[0],this.overflowEl.style.height=`${this.screen_height-this.breaks.top-51-this.settings.topperOverflowOffset}px`,this.checkOpacityAttr(this.currentBreak),this.checkOverflowAttr(this.currentBreak),this.paneEl.addEventListener("touchstart",e=>this.touchStart(e)),this.paneEl.addEventListener("touchmove",e=>this.touchMove(e)),this.paneEl.addEventListener("touchend",e=>this.touchEnd(e))}moveToBreak(e){this.checkOpacityAttr(this.breaks[e]),this.checkOverflowAttr(this.breaks[e]),this.paneEl.style.transition=`transform ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,this.paneEl.style.transform=`translateY(${this.breaks[e]}px)`;let t=this.paneEl.addEventListener("transitionend",e=>{this.paneEl.style.transition="initial",t=void 0})}hide(){this.paneEl.style.transition=`transform ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,this.paneEl.style.transform=`translateY(${this.screen_height}px)`;let e=this.paneEl.addEventListener("transitionend",t=>{this.paneEl.style.transition="initial",e=void 0})}isHidden(){return this.paneEl.style.transform===`translateY(${this.screen_height}px)`}checkOpacityAttr(e){let t=document.querySelectorAll(`.${this.el.className.split(" ")[0]} [hide-on-bottom]`);t.length&&t.forEach(t=>{t.style.transition=`opacity ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,t.style.opacity=e>=this.breaks.bottom?"0":"1"})}checkOverflowAttr(e){this.settings.topperOverflow&&(this.overflowEl.style.overflowY=e<=this.topper?"auto":"hidden")}touchStart(e){this.settings.onDragStart(),this.startP=e.touches[0].screenY,this.steps.push(this.startP)}touchMove(e){this.settings.onDrag();const t=parseFloat(/\.*translateY\((.*)px\)/i.exec(this.paneEl.style.transform)[1]),n=e.touches[0].screenY,i=t+(n-this.steps[this.steps.length-1]);"auto"===this.overflowEl.style.overflowY&&(this.overflowEl.addEventListener("scroll",e=>{this.contentScrollTop=e.target.scrollTop}),i>this.topper&&this.contentScrollTop>0||i<=this.topper)||i<=this.topper||this.settings.freeMode&&!this.settings.bottomClose&&i>=this.bottomer||(this.checkOpacityAttr(i),this.checkOverflowAttr(i),this.paneEl.style.transition="initial",this.paneEl.style.transform=`translateY(${i}px)`,this.steps.push(n))}touchEnd(e){const t=parseFloat(/\.*translateY\((.*)px\)/i.exec(this.paneEl.style.transform)[1]);let n=this.brs.reduce((e,n)=>Math.abs(n-t)<Math.abs(e-t)?n:e);const i=this.steps[this.steps.length-1]-this.steps[this.steps.length-2],r=window.hasOwnProperty("cordova")?4:3;if(Math.abs(i)>=r&&(n=this.swipeNextPoint(i,r,n)),this.settings.clickBottomOpen&&this.currentBreak===this.breaks.bottom&&isNaN(i)&&(n=this.settings.breaks.middle.enabled?this.breaks.middle:this.settings.breaks.top.enabled?this.breaks.top:this.breaks.bottom),this.steps=[],this.currentBreak=n,this.checkOpacityAttr(this.currentBreak),this.checkOverflowAttr(this.currentBreak),this.settings.bottomClose&&n===this.breaks.bottom)this.closePane(this.backdropEl);else if(!this.settings.freeMode){this.paneEl.style.transition=`transform ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,this.paneEl.style.transform=`translateY(${n}px)`;let e=this.paneEl.addEventListener("transitionend",()=>{this.paneEl.style.transition="initial",e=void 0})}}closePane(e){this.settings.onWillDismiss(),this.paneEl.style.transition=`transform ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,this.paneEl.style.transform=`translateY(${this.screen_height}px)`,e.style.transition=`transform ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`,e.style.backgroundColor="rgba(0,0,0,.0)",this.currentBreak=this.breaks[this.settings.initialBreak],this.paneEl.addEventListener("transitionend",e=>{this.parentEl.appendChild(this.contentEl),this.contentEl.style.display="none",this.parentEl.removeChild(this.wrapperEl),this.settings.onDidDismiss()})}}function eo(t){let n,i,r,o;return{c(){n=k(),i=I("ion-header"),i.innerHTML='<ion-toolbar><ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons> \n    <ion-title>Pane</ion-title></ion-toolbar>',r=k(),o=I("ion-content"),o.innerHTML='<h1>Cupertino Pane</h1> \n  <ion-text><p>\n      Cupertino Pane is great modern slide-over pane with touch technologies.\n    </p> \n    <p>\n      Right like in Apple Maps, Apple Stocks, Apple Music and other modern apps.\n      Lightweight, Multiplatform, Open Source. For progressive applications.\n    </p> \n    <br>\n    Repo:\n    <a href="https://github.com/roman-rr/cupertino-pane" target="_blank">\n      roman-rr/cupertino-pane\n    </a></ion-text> \n\n  <div class="cupertino-pane"><div class="cupertino-header svelte-5ps8e9"><h1>Drag me up!</h1></div> \n    <div class="cupertino-content svelte-5ps8e9"><ion-text color="primary"><h1>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h1></ion-text> \n\n      <ion-text color="secondary"><h2>Nam rutrum justo massa, maximus elementum leo dignissim ac.</h2></ion-text> \n\n      <ion-text color="tertiary"><h3>Vestibulum eleifend lorem nec neque interdum varius.</h3></ion-text> \n\n      <ion-text color="success"><h4>Sed in neque at nibh congue tincidunt.</h4></ion-text> \n\n      <ion-text color="warning"><h5>\n          Vestibulum ante ipsum primis in faucibus orci luctus et ultrices\n          posuere cubilia Curae;\n        </h5></ion-text> \n\n      <ion-text color="danger"><h6>Suspendisse potenti.</h6></ion-text> \n\n      <p>\n        Donec magna odio,\n        <ion-text color="primary">semper</ion-text>\n        ac nibh et, vestibulum eleifend felis. Donec\n        <ion-text color="secondary">pulvinar</ion-text>\n        ex non quam vulputate malesuada in a magna. Praesent massa arcu,\n        <ion-text color="tertiary">vehicula</ion-text>\n        id pharetra et, cursus at lectus.\n      </p></div></div>',document.title="Ionic UI Companion App - Pane",D(i,"translucent",""),D(o,"padding","")},m(e,t){w(e,n,t),w(e,i,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&T(n),e&&T(i),e&&T(r),e&&T(o)}}}function to(e){return W(()=>{new Zr(".cupertino-pane",{onDrag:()=>console.log("Drag event"),breaks:{top:{enabled:!0,offset:-10},middle:{enabled:!0,offset:180},bottom:{enabled:!0,offset:140}}}).present()}),[]}class no extends Te{constructor(e){super(),we(this,e,to,eo,s,{})}}function io(e,t,n){const i=e.slice();return i[2]=t[n],i}function ro(e){let t,n;var i=e[2].component;function r(e){return{props:{params:e[5]}}}if(i)var o=new i(r(e));return{c(){o&&ve(o.$$.fragment),t=k()},m(e,i){o&&ge(o,e,i),w(e,t,i),n=!0},p(e,n){const a={};if(32&n&&(a.params=e[5]),i!==(i=e[2].component)){if(o){se();const e=o;le(e.$$.fragment,1,0,()=>{ye(e,1)}),ue()}i?(ve((o=new i(r(e))).$$.fragment),ce(o.$$.fragment,1),ge(o,t.parentNode,t)):o=null}else i&&o.$set(a)},i(e){n||(o&&ce(o.$$.fragment,e),n=!0)},o(e){o&&le(o.$$.fragment,e),n=!1},d(e){o&&ye(o,e),e&&T(t)}}}function oo(e){let t;const n=new Xe({props:{path:e[2].path,$$slots:{default:[ro,({params:e})=>({5:e}),({params:e})=>e?32:0]},$$scope:{ctx:e}}});return{c(){ve(n.$$.fragment)},m(e,i){ge(n,e,i),t=!0},p(e,t){const i={};64&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(e){t||(ce(n.$$.fragment,e),t=!0)},o(e){le(n.$$.fragment,e),t=!1},d(e){ye(n,e)}}}function ao(e){let t,n,i=e[1],r=[];for(let t=0;t<i.length;t+=1)r[t]=oo(io(e,i,t));const o=e=>le(r[e],1,1,()=>{r[e]=null});return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=C()},m(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);w(e,t,i),n=!0},p(e,n){if(2&n){let a;for(i=e[1],a=0;a<i.length;a+=1){const o=io(e,i,a);r[a]?(r[a].p(o,n),ce(r[a],1)):(r[a]=oo(o),r[a].c(),ce(r[a],1),r[a].m(t.parentNode,t))}for(se(),a=i.length;a<r.length;a+=1)o(a);ue()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)ce(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)le(r[e]);n=!1},d(e){E(r,e),e&&T(t)}}}function so(e){let t,n;const i=new He({props:{url:e[0],$$slots:{default:[ao]},$$scope:{ctx:e}}});return{c(){t=I("div"),ve(i.$$.fragment),N(t,"class","ion-page"),N(t,"main","")},m(e,r){w(e,t,r),ge(i,t,null),n=!0},p(e,[t]){const n={};1&t&&(n.url=e[0]),64&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i(e){n||(ce(i.$$.fragment,e),n=!0)},o(e){le(i.$$.fragment,e),n=!1},d(e){e&&T(t),ye(i)}}}function uo(e,t,n){let{url:i=""}=t;const r=[{path:"/tabs/:id",component:Ur},{path:"/tabs",component:Ur},{path:"/",component:gn},{path:"/slides",component:hr},{path:"/avatars",component:bn},{path:"/badges",component:Tn},{path:"/buttons",component:Sn},{path:"/cards",component:Cn},{path:"/checkboxes",component:Nn},{path:"/chips",component:xn},{path:"/datetime",component:On},{path:"/fabs",component:Mn},{path:"/grid",component:Fn},{path:"/icons",component:ti},{path:"/infinitescroll",component:ai},{path:"/inputs",component:ci},{path:"/slides",component:hr},{path:"/items",component:fi},{path:"/lists",component:pi},{path:"/notes",component:Pi},{path:"/progressbar",component:qi},{path:"/radios",component:Ui},{path:"/range",component:Wi},{path:"/refresher",component:zi},{path:"/reorder",component:Yi},{path:"/searchbar",component:Zi},{path:"/segment",component:tr},{path:"/select",component:rr},{path:"/skeleton",component:sr},{path:"/spinner",component:dr},{path:"/text",component:jr},{path:"/thumbnails",component:Hr},{path:"/toggle",component:zr},{path:"/toolbar",component:Yr},{path:"/navhome",component:Ri},{path:"/nav",component:Ri},{path:"/pane",component:no},{path:"/timeline",component:Xr},{path:"/navdetails/:techName",component:Rr}];return e.$set=e=>{"url"in e&&n(0,i=e.url)},[i,r]}class co extends Te{constructor(e){super(),we(this,e,uo,so,s,{url:0})}}try{self["workbox:window:4.3.1"]&&_()}catch(lo){}var lo=function(e,t){return new Promise((function(n){var i=new MessageChannel;i.port1.onmessage=function(e){return n(e.data)},e.postMessage(t,[i.port2])}))};function ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}try{self["workbox:core:4.3.1"]&&_()}catch(lo){}var fo=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},po=function(e,t){return new URL(e,location).href===new URL(t,location).href},mo=function(e,t){Object.assign(this,t,{type:e})};function vo(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function go(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function yo(){}!function(e){var t,n;function i(t,n){var i;return void 0===n&&(n={}),(i=e.call(this)||this).t=t,i.i=n,i.o=0,i.u=new fo,i.s=new fo,i.h=new fo,i.v=i.v.bind(ho(ho(i))),i.l=i.l.bind(ho(ho(i))),i.g=i.g.bind(ho(ho(i))),i.m=i.m.bind(ho(ho(i))),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r,o=i.prototype;o.register=vo((function(e){var t,n,i=this,r=(void 0===e?{}:e).immediate,o=void 0!==r&&r;return t=function(){return i.p=Boolean(navigator.serviceWorker.controller),i.P=i.R(),go(i.k(),(function(e){i.B=e,i.P&&(i.O=i.P,i.s.resolve(i.P),i.h.resolve(i.P),i.j(i.P),i.P.addEventListener("statechange",i.l,{once:!0}));var t=i.B.waiting;return t&&po(t.scriptURL,i.t)&&(i.O=t,Promise.resolve().then((function(){i.dispatchEvent(new mo("waiting",{sw:t,wasWaitingBeforeRegister:!0}))}))),i.O&&i.u.resolve(i.O),i.B.addEventListener("updatefound",i.g),navigator.serviceWorker.addEventListener("controllerchange",i.m,{once:!0}),"BroadcastChannel"in self&&(i.C=new BroadcastChannel("workbox"),i.C.addEventListener("message",i.v)),navigator.serviceWorker.addEventListener("message",i.v),i.B}))},(n=function(){if(!o&&"complete"!==document.readyState)return function(e,t){return e&&e.then?e.then(yo):Promise.resolve()}(new Promise((function(e){return addEventListener("load",e)})))}())&&n.then?n.then(t):t()})),o.getSW=vo((function(){return this.O||this.u.promise})),o.messageSW=vo((function(e){return go(this.getSW(),(function(t){return lo(t,e)}))})),o.R=function(){var e=navigator.serviceWorker.controller;if(e&&po(e.scriptURL,this.t))return e},o.k=vo((function(){var e=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return go(navigator.serviceWorker.register(e.t,e.i),(function(t){return e.L=performance.now(),t}))}),(function(e){throw e}))})),o.j=function(e){lo(e,{type:"WINDOW_READY",meta:"workbox-window"})},o.g=function(){var e=this.B.installing;this.o>0||!po(e.scriptURL,this.t)||performance.now()>this.L+6e4?(this.W=e,this.B.removeEventListener("updatefound",this.g)):(this.O=e,this.u.resolve(e)),++this.o,e.addEventListener("statechange",this.l)},o.l=function(e){var t=this,n=e.target,i=n.state,r=n===this.W,o=r?"external":"",a={sw:n,originalEvent:e};!r&&this.p&&(a.isUpdate=!0),this.dispatchEvent(new mo(o+i,a)),"installed"===i?this._=setTimeout((function(){"installed"===i&&t.B.waiting===n&&t.dispatchEvent(new mo(o+"waiting",a))}),200):"activating"===i&&(clearTimeout(this._),r||this.s.resolve(n))},o.m=function(e){var t=this.O;t===navigator.serviceWorker.controller&&(this.dispatchEvent(new mo("controlling",{sw:t,originalEvent:e})),this.h.resolve(t))},o.v=function(e){var t=e.data;this.dispatchEvent(new mo("message",{data:t,originalEvent:e}))},(r=[{key:"active",get:function(){return this.s.promise}},{key:"controlling",get:function(){return this.h.promise}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(i.prototype,r)}(function(){function e(){this.D={}}var t=e.prototype;return t.addEventListener=function(e,t){this.T(e).add(t)},t.removeEventListener=function(e,t){this.T(e).delete(t)},t.dispatchEvent=function(e){e.target=this,this.T(e.type).forEach((function(t){return t(e)}))},t.T=function(e){return this.D[e]=this.D[e]||new Set},e}());const{document:bo}=pe;function wo(t){let n,i;return{c(){n=I("ion-button"),n.textContent="COPY",i=A(n,"click",t[6])},m(e,t){w(e,n,t)},p:e,d(e){e&&T(n),i()}}}function To(t){let n,i,r,a,s,u,c,l,h,f,d,p,m,v,g,y;bo.title=n="Sourceviewer "+t[2];let E=t[3].length>11&&wo(t);return{c(){i=k(),r=I("ion-header"),a=I("ion-toolbar"),s=I("ion-buttons"),u=I("ion-button"),u.textContent="REPL",c=k(),l=I("ion-button"),l.textContent="API",h=k(),E&&E.c(),f=k(),d=I("ion-button"),d.innerHTML='<ion-icon name="close"></ion-icon>',p=k(),m=I("ion-content"),v=I("pre"),g=S(t[3]),D(s,"slot","end"),D(r,"translucent",""),N(v,"class","svelte-1r5xuzl"),D(m,"padding",""),D(m,"scroll-x","true"),y=[A(u,"click",t[10]),A(l,"click",t[11]),A(d,"click",t[4])]},m(e,t){w(e,i,t),w(e,r,t),b(r,a),b(a,s),b(s,u),b(s,c),b(s,l),b(s,h),E&&E.m(s,null),b(s,f),b(s,d),w(e,p,t),w(e,m,t),b(m,v),b(v,g)},p(e,[t]){4&t&&n!==(n="Sourceviewer "+e[2])&&(bo.title=n),e[3].length>11?E?E.p(e,t):(E=wo(e),E.c(),E.m(s,f)):E&&(E.d(1),E=null),8&t&&x(g,e[3])},i:e,o:e,d(e){e&&T(i),e&&T(r),E&&E.d(),e&&T(p),e&&T(m),o(y)}}}function Eo(e,t,n){const{Clipboard:i}=Zt,{componentProps:r}=document.querySelector("ion-modal");let o,a,s="/";r.name&&(s=r.name),s=s.substr(1),s=s.charAt(0).toUpperCase()+s.slice(1),0==s.length&&(s="Splash"),s=s.replace("Tabs/",""),console.log("Name",s);const u=()=>{document.querySelector("ion-modal").dismiss({})};Ot("/assets/json/repls.json").subscribe(e=>{e.json().then(e=>{const t=e[s.toLocaleLowerCase()];t&&n(0,o=t)})});const c=()=>{Qn({color:"danger",duration:4e3,message:"No REPL link configured",showCloseButton:!0})};let l=s.toLowerCase();"s"==l.charAt(l.length-1)&&(l=l.slice(0,-1)),console.log("Raw APINAME",l),l=l.replace("/",""),Ot("/assets/json/api-mappings.json").subscribe(e=>{e.json().then(e=>{let t="https://ionicframework.com/docs/api/";e[l]?(t+=e[l],"http"==e[l].toLowerCase().substring(0,4)&&(t=e[l])):t+=l,n(1,a=t)})},e=>{console.error("Error HTTP",e)});let h="Loading....";Ot("assets/src/"+s+".svelte").subscribe(e=>{e.text().then(e=>{e.search("<!DOCTYPE html>")>-1?n(3,h=`No svelte file found for ${s}. Please check github repo.`):n(3,h=e)})});return[o,a,s,h,u,c,()=>{i.write({string:h}).then(()=>{Qn({color:"dark",duration:2e3,message:"Copied...",showCloseButton:!0}),setTimeout(u,1e3)}).catch(e=>{Qn({color:"danger",duration:4e3,message:e,showCloseButton:!0}),function(e){var t,n,i;!function(e){(t=document.createElement("textArea")).readOnly=!0,t.contentEditable=!0,t.value=e,document.body.appendChild(t)}(e),navigator.userAgent.match(/ipad|iphone/i)?((n=document.createRange()).selectNodeContents(t),(i=window.getSelection()).removeAllRanges(),i.addRange(n),t.setSelectionRange(0,999999)):t.select(),document.execCommand("copy"),document.body.removeChild(t)}(h)})},l,i,r,()=>{o.length>1?window.open(o,"_blank"):c()},()=>{window.open(a,"_blank")}]}class Io extends Te{constructor(e){super(),we(this,e,Eo,To,s,{})}}var So=nt((function(e,t){
/*!
        localForage -- Offline Storage, Improved
        Version 1.7.3
        https://localforage.github.io/localForage
        (c) 2013-2017 Mozilla, Apache License 2.0
    */
e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(!s&&et)return et();if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return r(n||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o=et,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){(function(e){var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}t.exports=function(e){1!==c.push(e)||i||n()}}).call(this,void 0!==Ze?Ze:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var i=e(1);function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==r&&d(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){i((function(){var i;try{i=t(n)}catch(t){return o.reject(e,t)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(r,i)}));"error"===a.status&&i(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(r);return this.state!==u?h(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)d(e,i);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(r);++u<n;)l(e[u],u);return c;function l(e,r){t.resolve(e).then((function(e){a[r]=e,++s!==n||i||(i=!0,o.resolve(c,a))}),(function(e){i||(i=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a,s=-1,u=new this(r);++s<n;)a=e[s],t.resolve(a).then((function(e){i||(i=!0,o.resolve(u,e))}),(function(e){i||(i=!0,o.reject(u,e))}));return u}},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==Ze?Ze:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",f=void 0,d={},p=Object.prototype.toString,m="readonly",v="readwrite";function g(e){return"boolean"==typeof f?a.resolve(f):function(e){return new a((function(t){var n=e.transaction(h,v),i=o([""]);n.objectStore(h).put(i,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return f=e}))}function y(e){var t=d[e.name],n={};n.promise=new a((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function b(e){var t=d[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function w(e,t){var n=d[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function T(e,t){return new a((function(n,i){if(d[e.name]=d[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);y(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var a=r.open.apply(r,o);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),i(a.error)},a.onsuccess=function(){n(a.result),b(e)}}))}function E(e){return T(e,!1)}function I(e){return T(e,!0)}function S(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,r=e.version>e.db.version;if(i&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function k(e){return o([function(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}(atob(e.data))],{type:e.type})}function C(e){return e&&e.__local_forage_encoded_blob}function _(e){var t=this,n=t._initReady().then((function(){var e=d[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(n,e,e),n}function A(e,t,n,i){void 0===i&&(i=1);try{var r=e.db.transaction(e.storeName,t);n(null,r)}catch(r){if(i>0&&(!e.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===r.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),I(e)})).then((function(){return function(e){y(e);for(var t=d[e.name],n=t.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return e.db=null,E(e).then((function(t){return e.db=t,S(e)?I(e):t})).then((function(i){e.db=t.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(t){throw w(e,t),t}))}(e).then((function(){A(e,t,n,i-1)}))})).catch(n);n(r)}}var N={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var r=d[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},d[n.name]=r),r.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=_);var o=[];function s(){return a.resolve()}for(var u=0;u<r.forages.length;u++){var c=r.forages[u];c!==t&&o.push(c._initReady().catch(s))}var l=r.forages.slice(0);return a.all(o).then((function(){return n.db=r.db,E(n)})).then((function(e){return n.db=e,S(n,t._defaultConfig.version)?I(n):e})).then((function(e){n.db=r.db=e,t._dbInfo=n;for(var i=0;i<l.length;i++){var o=l[i];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!r)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,i=new a((function(t,i){n.ready().then((function(){A(n._dbInfo,m,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var i=n.value;C(i)&&(i=k(i));var r=e(i,n.key,s++);void 0!==r?t(r):n.continue()}else t()},a.onerror=function(){i(a.error)}}catch(e){i(e)}}))})).catch(i)}));return s(i,t),i},getItem:function(e,t){var n=this;e=c(e);var i=new a((function(t,i){n.ready().then((function(){A(n._dbInfo,m,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),C(e)&&(e=k(e)),t(e)},a.onerror=function(){i(a.error)}}catch(e){i(e)}}))})).catch(i)}));return s(i,t),i},setItem:function(e,t,n){var i=this;e=c(e);var r=new a((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===p.call(t)?g(o.db).then((function(e){return e?t:(n=t,new a((function(e,t){var i=new FileReader;i.onerror=t,i.onloadend=function(t){var i=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):t})).then((function(t){A(i._dbInfo,v,(function(o,a){if(o)return r(o);try{var s=a.objectStore(i._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=u.error?u.error:u.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,n),r},removeItem:function(e,t){var n=this;e=c(e);var i=new a((function(t,i){n.ready().then((function(){A(n._dbInfo,v,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){i(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return s(i,t),i},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){A(t._dbInfo,v,(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){A(t._dbInfo,m,(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,i=new a((function(t,i){e<0?t(null):n.ready().then((function(){A(n._dbInfo,m,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;n?0===e?t(n.key):s?t(n.key):(s=!0,n.advance(e)):t(null)},u.onerror=function(){i(u.error)}}catch(e){i(e)}}))})).catch(i)}));return s(i,t),i},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){A(t._dbInfo,m,(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).openCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n,i=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||i.name,e.storeName=e.storeName||i.storeName),e.name){var o=e.name===i.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):E(e).then((function(t){var n=d[e.name],i=n.forages;n.db=t;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=t;return t}));n=e.storeName?o.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;y(e);var i=d[e.name],o=i.forages;t.close();for(var s=0;s<o.length;s++){var u=o[s];u._dbInfo.db=null,u._dbInfo.version=n}return new a((function(t,i){var o=r.open(e.name,n);o.onerror=function(e){o.result.close(),i(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}})).then((function(e){i.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,b(n._dbInfo)}})).catch((function(t){throw(w(e,t)||a.resolve()).catch((function(){})),t}))}})):o.then((function(t){y(e);var n=d[e.name],i=n.forages;t.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;return new a((function(t,n){var i=r.deleteDatabase(e.name);i.onerror=i.onblocked=function(e){var t=i.result;t&&t.close(),n(e)},i.onsuccess=function(){var e=i.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<i.length;t++)b(i[t]._dbInfo)})).catch((function(t){throw(w(e,t)||a.resolve()).catch((function(){})),t}))}))}else n=a.reject("Invalid arguments");return s(n,t),n}},D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x="~~local_forage_type~",L=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",O=R.length,P="arbf",M="blob",q="si08",F="ui08",B="uic8",U="si16",V="si32",j="ur16",W="ui32",H="fl32",K="fl64",G=O+P.length,z=Object.prototype.toString;function $(e){var t,n,i,r,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=D.indexOf(e[t]),i=D.indexOf(e[t+1]),r=D.indexOf(e[t+2]),o=D.indexOf(e[t+3]),l[u++]=n<<2|i>>4,l[u++]=(15&i)<<4|r>>2,l[u++]=(3&r)<<6|63&o;return c}function Q(e){var t,n=new Uint8Array(e),i="";for(t=0;t<n.length;t+=3)i+=D[n[t]>>2],i+=D[(3&n[t])<<4|n[t+1]>>4],i+=D[(15&n[t+1])<<2|n[t+2]>>6],i+=D[63&n[t+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var Y={serialize:function(e,t){var n="";if(e&&(n=z.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===z.call(e.buffer))){var i,r=R;e instanceof ArrayBuffer?(i=e,r+=P):(i=e.buffer,"[object Int8Array]"===n?r+=q:"[object Uint8Array]"===n?r+=F:"[object Uint8ClampedArray]"===n?r+=B:"[object Int16Array]"===n?r+=U:"[object Uint16Array]"===n?r+=j:"[object Int32Array]"===n?r+=V:"[object Uint32Array]"===n?r+=W:"[object Float32Array]"===n?r+=H:"[object Float64Array]"===n?r+=K:t(new Error("Failed to get type for BinaryArray"))),t(r+Q(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=x+e.type+"~"+Q(this.result);t(R+M+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,O)!==R)return JSON.parse(e);var t,n=e.substring(G),i=e.substring(O,G);if(i===M&&L.test(n)){var r=n.match(L);t=r[1],n=n.substring(r[0].length)}var a=$(n);switch(i){case P:return a;case M:return o([a],{type:t});case q:return new Int8Array(a);case F:return new Uint8Array(a);case B:return new Uint8ClampedArray(a);case U:return new Int16Array(a);case j:return new Uint16Array(a);case V:return new Int32Array(a);case W:return new Uint32Array(a);case H:return new Float32Array(a);case K:return new Float64Array(a);default:throw new Error("Unkown type: "+i)}},stringToBuffer:$,bufferToString:Q};function J(e,t,n,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function X(e,t,n,i,r,o){e.executeSql(n,i,r,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):J(e,t,(function(){e.executeSql(n,i,r,o)}),o)}),o):o(e,a)}),o)}function Z(e,t,n,i){var r=this;e=c(e);var o=new a((function(o,a){r.ready().then((function(){void 0===t&&(t=null);var s=t,u=r._dbInfo;u.serializer.serialize(t,(function(t,c){c?a(c):u.db.transaction((function(n){X(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(i>0)return void o(Z.apply(r,[e,s,n,i-1]));a(t)}}))}))})).catch(a)}));return s(o,n),o}var ee={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var i in e)n[i]="string"!=typeof e[i]?e[i].toString():e[i];var r=new a((function(e,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return i(e)}n.db.transaction((function(r){J(r,n,(function(){t._dbInfo=n,e()}),(function(e,t){i(t)}))}),i)}));return n.serializer=Y,r},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,i=new a((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){X(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),c=u.value;if(c&&(c=r.serializer.deserialize(c)),void 0!==(c=e(c,u.key,s+1)))return void t(c)}t()}),(function(e,t){i(t)}))}))})).catch(i)}));return s(i,t),i},getItem:function(e,t){var n=this;e=c(e);var i=new a((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){X(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return s(i,t),i},setItem:function(e,t,n){return Z.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var i=new a((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){X(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){i(t)}))}))})).catch(i)}));return s(i,t),i},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){X(t,i,"DELETE FROM "+i.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){X(t,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(t,n){var i=n.rows.item(0).c;e(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,i=new a((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){X(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var i=n.rows.length?n.rows.item(0).key:null;t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return s(i,t),i},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){X(t,i,"SELECT key FROM "+i.storeName,[],(function(t,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);e(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i,r=this;return s(i=e.name?new a((function(t){var i;i=e.name===n.name?r._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:i,storeNames:[e.storeName]}):t(function(e){return new a((function(t,n){e.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);t({db:e,storeNames:r})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}(i))})).then((function(e){return new a((function(t,n){e.db.transaction((function(i){function r(e){return new a((function(t,n){i.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],s=0,u=e.storeNames.length;s<u;s++)o.push(r(e.storeNames[s]));a.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):a.reject("Invalid arguments"),t),i}};function te(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ne(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var ie={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=te(e,this._defaultConfig),ne()?(this._dbInfo=t,t.serializer=Y,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,i=n.ready().then((function(){for(var t=n._dbInfo,i=t.keyPrefix,r=i.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(i)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(r),a++)))return c}}}));return s(i,t),i},getItem:function(e,t){var n=this;e=c(e);var i=n.ready().then((function(){var t=n._dbInfo,i=localStorage.getItem(t.keyPrefix+e);return i&&(i=t.serializer.deserialize(i)),i}));return s(i,t),i},setItem:function(e,t,n){var i=this;e=c(e);var r=i.ready().then((function(){void 0===t&&(t=null);var n=t;return new a((function(r,o){var a=i._dbInfo;a.serializer.serialize(t,(function(t,i){if(i)o(i);else try{localStorage.setItem(a.keyPrefix+e,t),r(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return s(r,n),r},removeItem:function(e,t){var n=this;e=c(e);var i=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(i,t),i},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(e)&&localStorage.removeItem(i)}}));return s(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var n=this,i=n.ready().then((function(){var t,i=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(i.keyPrefix.length)),t}));return s(i,t),i},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(e.keyPrefix)&&i.push(o.substring(e.keyPrefix.length))}return i}));return s(n,e),n},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var i,r=this;return s(i=e.name?new a((function(t){e.storeName?t(te(e,r._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):a.reject("Invalid arguments"),t),i}},re=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},oe=function(e,t){for(var n=e.length,i=0;i<n;){if(re(e[i],t))return!0;i++}return!1},ae=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},se={},ue={},ce={INDEXEDDB:N,WEBSQL:ee,LOCALSTORAGE:ie},le=[ce.INDEXEDDB._driver,ce.WEBSQL._driver,ce.LOCALSTORAGE._driver],he=["dropInstance"],fe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(he),de={description:"",driver:le.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function pe(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function me(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(ae(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ve=new(function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ce)if(ce.hasOwnProperty(n)){var i=ce[n],r=i._driver;this[n]=r,se[r]||this.defineDriver(i)}this._defaultConfig=me({},de),this._config=me({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":i(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var i=new a((function(t,n){try{var i=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(r);for(var o=fe.concat("_initStorage"),u=0,c=o.length;u<c;u++){var l=o[u];if((!oe(he,l)||e[l])&&"function"!=typeof e[l])return void n(r)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=a.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,i=he.length;n<i;n++){var r=he[n];e[r]||(e[r]=t(r))}}();var h=function(n){se[i]&&console.info("Redefining LocalForage driver: "+i),se[i]=e,ue[i]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,n):h(!!e._support):h(!0)}catch(e){n(e)}}));return u(i,t,n),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var i=se[e]?a.resolve(se[e]):a.reject(new Error("Driver not found."));return u(i,t,n),i},e.prototype.getSerializer=function(e){var t=a.resolve(Y);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var i=this;ae(e)||(e=[e]);var r=this._getSupportedDrivers(e);function o(){i._config.driver=i.driver()}function s(e){return i._extend(e),o(),i._ready=i._initStorage(i._config),i._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=c.then((function(){var e=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then((function(e){i._driver=e._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var r=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(s).catch(n)}o();var u=new Error("No available storage method found.");return i._driverSet=a.reject(u),i._driverSet}()}}(r)}))})).catch((function(){o();var e=new Error("No available storage method found.");return i._driverSet=a.reject(e),i._driverSet})),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!ue[e]},e.prototype._extend=function(e){me(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];this.supports(r)&&t.push(r)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=fe.length;e<t;e++)pe(this,fe[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=ve},{3:3}]},{},[4])(4)}));function ko(t){let n,i,r,o,a,s,u,c,l,h,f,d,p,m;return{c(){n=I("div"),i=I("div"),r=I("ion-card"),o=I("ion-card-header"),o.innerHTML="<ion-card-header>Cookie monster alert!</ion-card-header>",a=k(),s=I("ion-card-content"),u=S("This app/website is using cookies to track usage. Please click the\r\n          button to continue and agree.\r\n          "),c=I("br"),l=k(),h=I("ion-button"),h.textContent="Agree to usage of cookies",D(h,"expand","full"),D(h,"color","primary"),D(h,"on",""),N(i,"class","card-inset svelte-1x1suuz"),N(n,"class","card svelte-1x1suuz"),m=A(h,"click",t[1])},m(e,t){w(e,n,t),b(n,i),b(i,r),b(r,o),b(r,a),b(r,s),b(s,u),b(s,c),b(s,l),b(s,h),p=!0},p:e,i(e){p||(ee(()=>{d&&d.end(1),f||(f=fe(n,Yt,{y:200,delay:7e3,duration:1500,easing:Qt})),f.start()}),p=!0)},o(e){f&&f.invalidate(),d=de(n,Yt,{y:200,delay:10,duration:1e3,easing:Qt}),p=!1},d(e){e&&T(n),e&&d&&d.end(),m()}}}function Co(e){let t,n,i=e[0]&&ko(e);return{c(){i&&i.c(),t=C()},m(e,r){i&&i.m(e,r),w(e,t,r),n=!0},p(e,[n]){e[0]?i?(i.p(e,n),ce(i,1)):(i=ko(e),i.c(),ce(i,1),i.m(t.parentNode,t)):i&&(se(),le(i,1,1,()=>{i=null}),ue())},i(e){n||(ce(i),n=!0)},o(e){le(i),n=!1},d(e){i&&i.d(e),e&&T(t)}}}function _o(e,t,n){let i=!1;So.getItem("cookie-agree").then(e=>{console.log("Cookie value",e),e||n(0,i=!0)});return[i,()=>{n(0,i=!1),console.log("User agreed to Cookie!"),So.setItem("cookie-agree",!0)}]}class Ao extends Te{constructor(e){super(),we(this,e,_o,Co,s,{})}}function No(e){let t;const n=e[6].default,i=c(n,e,e[5],null);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,t){i&&i.p&&32&t&&i.p(l(n,e,e[5],null),h(n,e[5],t,null))},i(e){t||(ce(i,e),t=!0)},o(e){le(i,e),t=!1},d(e){i&&i.d(e)}}}function Do(e){let t,n,i=e[0]&&No(e);return{c(){i&&i.c(),t=C()},m(e,r){i&&i.m(e,r),w(e,t,r),n=!0},p(e,[n]){e[0]?i?(i.p(e,n),ce(i,1)):(i=No(e),i.c(),ce(i,1),i.m(t.parentNode,t)):i&&(se(),le(i,1,1,()=>{i=null}),ue())},i(e){n||(ce(i),n=!0)},o(e){le(i),n=!1},d(e){i&&i.d(e),e&&T(t)}}}function xo(e,t,n){let{firebase:i}=t,{perf:r=!1}=t,{analytics:o=!1}=t,a=!1;const s=function(){const e=j();return(t,n)=>{const i=e.$$.callbacks[t];if(i){const r=O(t,n);i.slice().forEach(t=>{t.call(e,r)})}}}();i=i||window.firebase,H("firebase",i),W(()=>{if(!i)throw Error("No firebase app was provided. You must provide an initialized Firebase app or make it available globally.");r&&i.performance(),o&&i.analytics(),s("initializeApp",{firebase:i}),n(0,a=!0)});let{$$slots:u={},$$scope:c}=t;return e.$set=e=>{"firebase"in e&&n(1,i=e.firebase),"perf"in e&&n(2,r=e.perf),"analytics"in e&&n(3,o=e.analytics),"$$scope"in e&&n(5,c=e.$$scope)},[a,i,r,o,s,c,u]}class Lo extends Te{constructor(e){super(),we(this,e,xo,Do,s,{firebase:1,perf:2,analytics:3})}}var Ro=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw r(t)},r=function(e){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<e.length;r+=3){var o=e[r],a=r+1<e.length,s=a?e[r+1]:0,u=r+2<e.length,c=u?e[r+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),i.push(n[l],n[h],n[f],n[d])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,i=0;n<e.length;){var r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var a=((7&r)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(a>>10)),t[i++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<e.length;){var o=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0,s=++r<e.length?n[e.charAt(r)]:64,u=++r<e.length?n[e.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(i.push(c),64!==s){var l=a<<4&240|s>>2;if(i.push(l),64!==u){var h=s<<6&192|u;i.push(h)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=u(e[n],t[n]));return e}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var c=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,i){n?t.reject(n):t.resolve(i),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,i))}},e}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var h="FirebaseError",f=function(e){function t(n,i){var r=e.call(this,i)||this;return r.code=n,r.name=h,Object.setPrototypeOf(r,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,d.prototype.create),r}return dn.__extends(t,e),t}(Error),d=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=t[0]||{},r=this.service+"/"+e,o=this.errors[e],a=o?p(o,i):"Error",s=this.serviceName+": "+a+" ("+r+").",u=new f(r,s),c=0,l=Object.keys(i);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=i[h])}return u},e}();function p(e,t){return e.replace(m,(function(e,n){var i=t[n];return null!=i?i.toString():"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function v(e){return JSON.parse(e)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var g=function(e){var t={},n={},i={},r="";try{var o=e.split(".");t=v(s(o[0])||""),n=v(s(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:i,signature:r}};
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var y=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var i=0;i<16;i++)n[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):i<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);r=(s<<5|s>>>27)+o+h+a+n[i]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=r}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<t;){if(0===o)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[o]=e.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)e[i]=this.chain_[n]>>r&255,++i;return e},e}();var b=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var i,r=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r in e&&"function"==typeof e[r])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=w),void 0===i.error&&(i.error=w),void 0===i.complete&&(i.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}})),this.observers.push(i),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function w(){}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function T(e,t,n){var i="";switch(t){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=e+" failed: ";return r+=i+" argument "}t.CONSTANTS=n,t.Deferred=c,t.ErrorFactory=d,t.FirebaseError=f,t.Sha1=y,t.assert=i,t.assertionError=r,t.async=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=a,t.base64Decode=s,t.base64Encode=function(e){var t=o(e);return a.encodeByteArray(t,!0)},t.contains=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new b(e,t);return n.subscribe.bind(n)},t.decode=g,t.deepCopy=
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e){return u(void 0,e)},t.deepExtend=u,t.errorPrefix=T,t.getUA=l,t.isAdmin=function(e){var t=g(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(Ze.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=g(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=g(e).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?i=t.nbf:t.hasOwnProperty("iat")&&(i=t.iat),r=t.hasOwnProperty("exp")?t.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},t.issuedAtTime=function(e){var t=g(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=v,t.map=function(e,t,n){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},i=0,r=Object.entries(e);i<r.length;i++){var o=r[i];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,i){var r;if(i<t?r="at least "+t:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(e+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},t.validateCallback=function(e,t,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(T(e,t,i)+"must be a valid function.")},t.validateContextObject=function(e,t,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(T(e,t,i)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,t.validateNamespace=function(e,t,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(T(e,t,i)+"must be a valid firebase namespace.")}}));tt(Ro);Ro.CONSTANTS,Ro.Deferred;var Oo=Ro.ErrorFactory,Po=Ro.FirebaseError,Mo=(Ro.Sha1,Ro.assert,Ro.assertionError,Ro.async,Ro.base64,Ro.base64Decode,Ro.base64Encode,Ro.contains,Ro.createSubscribe,Ro.decode,Ro.deepCopy,Ro.deepExtend,Ro.errorPrefix,Ro.getUA,Ro.isAdmin,Ro.isBrowser,Ro.isEmpty,Ro.isMobileCordova,Ro.isNode,Ro.isNodeSdk,Ro.isReactNative,Ro.isValidFormat,Ro.isValidTimestamp,Ro.issuedAtTime,Ro.jsonEval,Ro.map,Ro.querystring,Ro.querystringDecode,Ro.safeGet,Ro.stringLength,Ro.stringToByteArray,Ro.stringify,Ro.validateArgCount,Ro.validateCallback,Ro.validateContextObject,Ro.validateNamespace,nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),i="[DEFAULT]",r=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=i);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ro.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=dn.__assign({identifier:i,optional:!1},e),n=t.identifier,r=t.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(r)return null;throw Error("Service "+this.name+" is not available")}return a}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e))try{this.getOrInitializeService(i)}catch(e){}try{for(var r=dn.__values(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var a=dn.__read(o.value,2),s=a[0],u=a[1],c=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=i),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return dn.__awaiter(this,void 0,void 0,(function(){var e;return dn.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return e===i?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:i:e},e}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var o=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new r(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=n,t.ComponentContainer=o,t.Provider=r})));tt(Mo);var qo=Mo.Component;Mo.ComponentContainer,Mo.Provider;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
function Fo(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bo,Uo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Bo||(Bo={}));var Vo=Bo.INFO,jo=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var r=(new Date).toISOString();switch(t){case Bo.DEBUG:case Bo.VERBOSE:console.log.apply(console,Fo(["["+r+"]  "+e.name+":"],n));break;case Bo.INFO:console.info.apply(console,Fo(["["+r+"]  "+e.name+":"],n));break;case Bo.WARN:console.warn.apply(console,Fo(["["+r+"]  "+e.name+":"],n));break;case Bo.ERROR:console.error.apply(console,Fo(["["+r+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},Wo=function(){function e(e){this.name=e,this._logLevel=Vo,this._logHandler=jo,Uo.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Bo))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,Fo([this,Bo.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,Fo([this,Bo.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,Fo([this,Bo.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,Fo([this,Bo.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,Fo([this,Bo.ERROR],e))},e}();var Ho=Object.freeze({__proto__:null,get LogLevel(){return Bo},Logger:Wo,setLogLevel:
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e){Uo.forEach((function(t){t.logLevel=e}))}}),Ko=nt((function(e,t){
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n;Object.defineProperty(t,"__esModule",{value:!0});var i,r=((n={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",n["bad-app-name"]="Illegal App name: '{$appName}",n["duplicate-app"]="Firebase App named '{$appName}' already exists",n["app-deleted"]="Firebase App named '{$appName}' already deleted",n["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",n),o=new Ro.ErrorFactory("app","Firebase",r),a="@firebase/app",s="0.5.0",u="[DEFAULT]",c=((i={})[a]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),l=new Ho.Logger("@firebase/app"),h=function(){function e(e,t,n){var i,r,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Ro.deepCopy(e),this.container=new Mo.ComponentContainer(t.name),this._addComponent(new Mo.Component("app",(function(){return o}),"PUBLIC"));try{for(var a=dn.__values(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=u),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=u),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){l.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw o.create("app-deleted",{appName:this.name_})},e}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var f="7.6.0";
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var d=
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function e(){var t=function(e){var t={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!=typeof r||null===r){r={name:r}}var a=r;void 0===a.name&&(a.name=u);var s=a.name;if("string"!=typeof s||!s)throw o.create("bad-app-name",{appName:String(s)});if(Ro.contains(t,s))throw o.create("duplicate-app",{appName:s});var c=new e(n,a,i);return t[s]=c,c},app:r,registerVersion:function(e,t,n){var i,r=null!==(i=c[e])&&void 0!==i?i:e;n&&(r+="-"+n);var o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var u=['Unable to register library "'+r+'" with version "'+t+'":'];return o&&u.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void l.warn(u.join(" "))}a(new Mo.Component(r+"-version",(function(){return{library:r,version:t}}),"VERSION"))},apps:null,SDK_VERSION:f,INTERNAL:{registerComponent:a,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function r(e){if(e=e||u,!Ro.contains(t,e))throw o.create("no-app",{appName:e});return t[e]}function a(a){var s,u,c=a.name;if(n.has(c))return l.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===a.type?i[c]:null;if(n.set(c,a),"PUBLIC"===a.type){var h=function(e){if(void 0===e&&(e=r()),"function"!=typeof e[c])throw o.create("invalid-app-argument",{appName:c});return e[c]()};void 0!==a.serviceProps&&Ro.deepExtend(h,a.serviceProps),i[c]=h,e.prototype[c]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,c);return n.apply(this,a.multipleInstances?e:[])}}try{for(var f=dn.__values(Object.keys(t)),d=f.next();!d.done;d=f.next()){var p=d.value;t[p]._addComponent(a)}}catch(e){s={error:e}}finally{try{d&&!d.done&&(u=f.return)&&u.call(f)}finally{if(s)throw s.error}}return"PUBLIC"===a.type?i[c]:null}return(i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,i)}(h);return t.INTERNAL=dn.__assign(dn.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Ro.deepExtend(t,e)},createSubscribe:Ro.createSubscribe,ErrorFactory:Ro.ErrorFactory,deepExtend:Ro.deepExtend}),t}(),p=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t,n=e.getComponent();return"VERSION"===(null===(t=n)||void 0===t?void 0:t.type)}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if(Ro.isBrowser()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=d.initializeApp;d.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ro.isNode()&&l.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,e)};var g=d;!function(e,t){e.INTERNAL.registerComponent(new Mo.Component("platform-logger",(function(e){return new p(e)}),"PRIVATE")),e.registerVersion(a,s,t),e.registerVersion("fire-js","")}(g),t.default=g,t.firebase=g})),Go=tt(Ko);Ko.firebase;var zo,$o=(zo=Ko)&&"object"==typeof zo&&"default"in zo?zo.default:zo;
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
$o.registerVersion("firebase","7.6.1","app");var Qo,Yo=$o,Jo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xo=Xo||{},Zo=Jo;function ea(e){return"string"==typeof e}function ta(e){return"number"==typeof e}function na(e,t){e=e.split("."),t=t||Zo;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function ia(){}function ra(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function oa(e){return"array"==ra(e)}function aa(e){var t=ra(e);return"array"==t||"object"==t&&"number"==typeof e.length}function sa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ua="closure_uid_"+(1e9*Math.random()>>>0),ca=0;function la(e,t,n){return e.call.apply(e.bind,arguments)}function ha(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function fa(e,t,n){return(fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ha).apply(null,arguments)}function da(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var pa=Date.now||function(){return+new Date};function ma(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.xb=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function va(){this.j=this.j,this.i=this.i}va.prototype.j=!1,va.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[ua]||(this[ua]=++ca)},va.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ga=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(ea(e))return ea(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ya=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=ea(e)?e.split(""):e,o=0;o<i;o++)o in r&&t.call(n,r[o],o,e)};function ba(e){return Array.prototype.concat.apply([],arguments)}function wa(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function Ta(e){return/^[\s\xa0]*$/.test(e)}var Ea,Ia=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Sa(e,t){return-1!=e.indexOf(t)}function ka(e,t){return e<t?-1:e>t?1:0}e:{var Ca=Zo.navigator;if(Ca){var _a=Ca.userAgent;if(_a){Ea=_a;break e}}Ea=""}function Aa(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function Na(e){var t,n={};for(t in e)n[t]=e[t];return n}var Da="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xa(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var o=0;o<Da.length;o++)n=Da[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function La(e){return La[" "](e),e}La[" "]=ia;var Ra,Oa=Sa(Ea,"Opera"),Pa=Sa(Ea,"Trident")||Sa(Ea,"MSIE"),Ma=Sa(Ea,"Edge"),qa=Ma||Pa,Fa=Sa(Ea,"Gecko")&&!(Sa(Ea.toLowerCase(),"webkit")&&!Sa(Ea,"Edge"))&&!(Sa(Ea,"Trident")||Sa(Ea,"MSIE"))&&!Sa(Ea,"Edge"),Ba=Sa(Ea.toLowerCase(),"webkit")&&!Sa(Ea,"Edge");function Ua(){var e=Zo.document;return e?e.documentMode:void 0}e:{var Va="",ja=function(){var e=Ea;return Fa?/rv:([^\);]+)(\)|;)/.exec(e):Ma?/Edge\/([\d\.]+)/.exec(e):Pa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ba?/WebKit\/(\S+)/.exec(e):Oa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ja&&(Va=ja?ja[1]:""),Pa){var Wa=Ua();if(null!=Wa&&Wa>parseFloat(Va)){Ra=String(Wa);break e}}Ra=Va}var Ha,Ka={};function Ga(e){return function(e,t){var n=Ka;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=Ia(String(Ra)).split("."),i=Ia(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ka(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ka(0==a[2].length,0==s[2].length)||ka(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var za=Zo.document;Ha=za&&Pa?Ua()||("CSS1Compat"==za.compatMode?parseInt(Ra,10):5):void 0;var $a=!Pa||9<=Number(Ha),Qa=Pa&&!Ga("9"),Ya=function(){if(!Zo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Zo.addEventListener("test",ia,t),Zo.removeEventListener("test",ia,t)}catch(e){}return e}();function Ja(e,t){this.type=e,this.a=this.target=t,this.Ia=!0}function Xa(e,t){if(Ja.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Fa){e:{try{La(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=ea(e.pointerType)?e.pointerType:Za[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Ja.prototype.b=function(){this.Ia=!1},ma(Xa,Ja);var Za={2:"touch",3:"pen",4:"mouse"};Xa.prototype.b=function(){Xa.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Qa)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var es="closure_listenable_"+(1e6*Math.random()|0),ts=0;function ns(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.da=r,this.key=++ts,this.X=this.Z=!1}function is(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function rs(e){this.src=e,this.a={},this.b=0}function os(e,t){var n=t.type;if(n in e.a){var i,r=e.a[n],o=ga(r,t);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(is(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function as(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==i)return r}return-1}rs.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=as(e,t,i,r);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ns(t,this.src,o,!!i,r)).Z=n,e.push(t)),t};var ss="closure_lm_"+(1e6*Math.random()|0),us={};function cs(e,t,n,i,r){if(i&&i.once)return function e(t,n,i,r,o){if(oa(n)){for(var a=0;a<n.length;a++)e(t,n[a],i,r,o);return null}return i=gs(i),t&&t[es]?t.Aa(n,i,sa(r)?!!r.capture:!!r,o):ls(t,n,i,!0,r,o)}(e,t,n,i,r);if(oa(t)){for(var o=0;o<t.length;o++)cs(e,t[o],n,i,r);return null}return n=gs(n),e&&e[es]?e.za(t,n,sa(i)?!!i.capture:!!i,r):ls(e,t,n,!1,i,r)}function ls(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=sa(r)?!!r.capture:!!r;if(a&&!$a)return null;var s=ms(e);if(s||(e[ss]=s=new rs(e)),(n=s.add(t,n,i,a,o)).proxy)return n;if(i=function(){var e=ps,t=$a?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Ya||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(fs(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function hs(e){if(!ta(e)&&e&&!e.X){var t=e.src;if(t&&t[es])os(t.c,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(fs(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=ms(t))?(os(n,e),0==n.b&&(n.src=null,t[ss]=null)):is(e)}}}function fs(e){return e in us?us[e]:us[e]="on"+e}function ds(e,t){var n=e.listener,i=e.da||e.src;return e.Z&&hs(e),n.call(i,t)}function ps(e,t){return!!e.X||($a?ds(e,new Xa(t,this)):ds(e,t=new Xa(t||na("window.event"),this)))}function ms(e){return(e=e[ss])instanceof rs?e:null}var vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function gs(e){return"function"==ra(e)?e:(e[vs]||(e[vs]=function(t){return e.handleEvent(t)}),e[vs])}function ys(){va.call(this),this.c=new rs(this),this.J=this,this.B=null}function bs(e,t,n,i){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&os(e.c,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Ia}ma(ys,va),ys.prototype[es]=!0,(Qo=ys.prototype).addEventListener=function(e,t,n,i){cs(this,e,t,n,i)},Qo.removeEventListener=function(e,t,n,i){!function e(t,n,i,r,o){if(oa(n))for(var a=0;a<n.length;a++)e(t,n[a],i,r,o);else r=sa(r)?!!r.capture:!!r,i=gs(i),t&&t[es]?(t=t.c,(n=String(n).toString())in t.a&&(-1<(i=as(a=t.a[n],i,r,o))&&(is(a[i]),Array.prototype.splice.call(a,i,1),0==a.length&&(delete t.a[n],t.b--)))):t&&(t=ms(t))&&(n=t.a[n.toString()],t=-1,n&&(t=as(n,i,r,o)),(i=-1<t?n[t]:null)&&hs(i))}(this,e,t,n,i)},Qo.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var i=e.type||e;if(ea(e))e=new Ja(e,n);else if(e instanceof Ja)e.target=e.target||n;else{var r=e;xa(e=new Ja(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];r=bs(a,i,!0,e)&&r}if(r=bs(a=e.a=n,i,!0,e)&&r,r=bs(a,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=bs(a=e.a=t[o],i,!1,e)&&r;return r},Qo.G=function(){if(ys.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)is(n[i]);delete t.a[e],t.b--}}this.B=null},Qo.za=function(e,t,n,i){return this.c.add(String(e),t,!1,n,i)},Qo.Aa=function(e,t,n,i){return this.c.add(String(e),t,!0,n,i)};var ws=Zo.JSON.stringify;function Ts(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Es(){this.b=this.a=null}Ts.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Is,Ss=new Ts((function(){return new Cs}),(function(e){e.reset()}));function ks(){var e=Ds,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Cs(){this.next=this.b=this.a=null}function _s(e){Zo.setTimeout((function(){throw e}),0)}function As(e,t){Is||function(){var e=Zo.Promise.resolve(void 0);Is=function(){e.then(xs)}}(),Ns||(Is(),Ns=!0),Ds.add(e,t)}Es.prototype.add=function(e,t){var n=Ss.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Cs.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Cs.prototype.reset=function(){this.next=this.b=this.a=null};var Ns=!1,Ds=new Es;function xs(){for(var e;e=ks();){try{e.a.call(e.b)}catch(e){_s(e)}var t=Ss;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Ns=!1}function Ls(e,t){ys.call(this),this.b=e||1,this.a=t||Zo,this.f=fa(this.fb,this),this.g=pa()}function Rs(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function Os(e,t,n){if("function"==ra(e))n&&(e=fa(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=fa(e.handleEvent,e)}return 2147483647<Number(t)?-1:Zo.setTimeout(e,t||0)}function Ps(e,t,n){va.call(this),this.f=null!=n?fa(e,n):e,this.c=t,this.b=fa(this.$a,this),this.a=[]}function Ms(e){e.U=Os(e.b,e.c),e.f.apply(null,e.a)}function qs(e){va.call(this),this.b=e,this.a={}}ma(Ls,ys),(Qo=Ls.prototype).ba=!1,Qo.L=null,Qo.fb=function(){if(this.ba){var e=pa()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Rs(this),this.start()))}},Qo.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=pa())},Qo.G=function(){Ls.N.G.call(this),Rs(this),delete this.a},ma(Ps,va),(Qo=Ps.prototype).ea=!1,Qo.U=null,Qo.Ta=function(e){this.a=arguments,this.U?this.ea=!0:Ms(this)},Qo.G=function(){Ps.N.G.call(this),this.U&&(Zo.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},Qo.$a=function(){this.U=null,this.ea&&(this.ea=!1,Ms(this))},ma(qs,va);var Fs=[];function Bs(e,t,n,i){oa(n)||(n&&(Fs[0]=n.toString()),n=Fs);for(var r=0;r<n.length;r++){var o=cs(t,n[r],i||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Us(e){Aa(e.a,(function(e,t){this.a.hasOwnProperty(t)&&hs(e)}),e),e.a={}}function Vs(){}qs.prototype.G=function(){qs.N.G.call(this),Us(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=new ys;function Ws(e){Ja.call(this,"serverreachability",e)}function Hs(e){js.dispatchEvent(new Ws(js,e))}function Ks(e){Ja.call(this,"statevent",e)}function Gs(e){js.dispatchEvent(new Ks(js,e))}function zs(e){Ja.call(this,"timingevent",e)}function $s(e,t){if("function"!=ra(e))throw Error("Fn must not be null and must be a function");return Zo.setTimeout((function(){e()}),t)}ma(Ws,Ja),ma(Ks,Ja),ma(zs,Ja);var Qs={NO_ERROR:0,gb:1,nb:2,mb:3,jb:4,lb:5,ob:6,La:7,TIMEOUT:8,rb:9},Ys={ib:"complete",vb:"success",Ma:"error",La:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",kb:"downloadprogress",wb:"uploadprogress"};function Js(){}function Xs(e){var t;return(t=e.a)||(t=e.a={}),t}function Zs(){}Js.prototype.a=null;var eu,tu={OPEN:"a",hb:"b",Ma:"c",qb:"d"};function nu(){Ja.call(this,"d")}function iu(){Ja.call(this,"c")}function ru(){}function ou(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new qs(this),this.O=au,e=qa?125:void 0,this.P=new Ls(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}ma(nu,Ja),ma(iu,Ja),ma(ru,Js),eu=new ru;var au=45e3,su={},uu={};function cu(e,t,n){e.F=1,e.f=Ou(_u(t)),e.l=n,e.H=!0,hu(e,null)}function lu(e,t,n,i){e.F=1,e.f=Ou(_u(t)),e.l=null,e.H=n,hu(e,i)}function hu(e,t){e.v=pa(),pu(e),e.D=_u(e.f),Ru(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new Ps(fa(e.Ja,e,e.a),e.J)),Bs(e.I,e.a,"readystatechange",e.cb),t=e.h?Na(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),Hs(1)}function fu(e,t,n){for(var i=!0;!e.m&&e.A<n.length;){var r=du(e,n);if(r==uu){4==t&&(e.c=4,Gs(14),i=!1);break}if(r==su){e.c=4,Gs(15),i=!1;break}bu(e,r)}4==t&&0==n.length&&(e.c=1,Gs(16),i=!1),e.b=e.b&&i,i||(yu(e),gu(e))}function du(e,t){var n=e.A,i=t.indexOf("\n",n);return-1==i?uu:(n=Number(t.substring(n,i)),isNaN(n)?su:(i+=1)+n>t.length?uu:(t=t.substr(i,n),e.A=i+n,t))}function pu(e){e.R=pa()+e.O,mu(e,e.O)}function mu(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=$s(fa(e.ab,e),t)}function vu(e){e.i&&(Zo.clearTimeout(e.i),e.i=null)}function gu(e){e.g.Ca()||e.m||e.g.na(e)}function yu(e){vu(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,Rs(e.P),Us(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function bu(e,t){try{e.g.Fa(e,t),Hs(4)}catch(e){}}function wu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(aa(e)||ea(e))ya(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(aa(e)||ea(e)){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;r=(i=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(ea(e))return e.split("");if(aa(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e)).length;for(var o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}}function Tu(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Tu)for(n=e.K(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Eu(e,t){Su(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Iu(e))}function Iu(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];Su(e.b,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.c!=e.a.length){var r={};for(n=t=0;t<e.a.length;)Su(r,i=e.a[t])||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function Su(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Qo=ou.prototype).setTimeout=function(e){this.O=e},Qo.cb=function(e){e=e.target;var t=this.B;t&&3==Cc(e)?t.Ta():this.Ja(e)},Qo.Ja=function(e){try{if(e==this.a)e:{var t=Cc(this.a),n=this.a.ya(),i=this.a.T();if(!(3>t||3==t&&!qa&&!this.a.aa())){this.m||4!=t||7==n||Hs(8==n||0>=i?3:2),vu(this);var r=this.a.T();this.o=r;var o=this.a.aa();if(this.b=200==r){if(this.S&&!this.s){t:{if(this.a){var a=_c(this.a,"X-HTTP-Initial-Response");if(a&&!Ta(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,Gs(12),yu(this),gu(this);break e}this.s=!0,bu(this,s)}this.H?(fu(this,t,o),qa&&this.b&&3==t&&(Bs(this.I,this.P,"tick",this.bb),this.P.start())):bu(this,o),4==t&&yu(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,pu(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.c=3,Gs(12)):(this.c=0,Gs(13)),yu(this),gu(this)}}}catch(e){}},Qo.bb=function(){if(this.a){var e=Cc(this.a),t=this.a.aa();this.A<t.length&&(vu(this),fu(this,e,t),this.b&&4!=e&&pu(this))}},Qo.cancel=function(){this.m=!0,yu(this)},Qo.ab=function(){this.i=null;var e=pa();0<=e-this.R?(2!=this.F&&(Hs(3),Gs(17)),yu(this),this.c=2,gu(this)):mu(this,this.R-e)},(Qo=Tu.prototype).C=function(){Iu(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Qo.K=function(){return Iu(this),this.a.concat()},Qo.get=function(e,t){return Su(this.b,e)?this.b[e]:t},Qo.set=function(e,t){Su(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Qo.forEach=function(e,t){for(var n=this.K(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}};var ku=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cu(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Cu?(this.h=void 0!==t?t:e.h,Au(this,e.f),this.j=e.j,Nu(this,e.b),Du(this,e.i),this.a=e.a,xu(this,$u(e.c)),this.g=e.g):e&&(n=String(e).match(ku))?(this.h=!!t,Au(this,n[1]||"",!0),this.j=Pu(n[2]||""),Nu(this,n[3]||"",!0),Du(this,n[4]),this.a=Pu(n[5]||"",!0),xu(this,n[6]||"",!0),this.g=Pu(n[7]||"")):(this.h=!!t,this.c=new Wu(null,this.h))}function _u(e){return new Cu(e)}function Au(e,t,n){e.f=n?Pu(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Nu(e,t,n){e.b=n?Pu(t,!0):t}function Du(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function xu(e,t,n){t instanceof Wu?(e.c=t,function(e,t){t&&!e.f&&(Hu(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ku(this,t),zu(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=Mu(t,Vu)),e.c=new Wu(t,e.h))}function Lu(e,t,n){e.c.set(t,n)}function Ru(e,t,n){oa(n)||(n=[String(n)]),zu(e.c,t,n)}function Ou(e){return Lu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^pa()).toString(36)),e}function Pu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mu(e,t,n){return ea(e)?(e=encodeURI(e).replace(t,qu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Cu.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Mu(t,Fu,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Mu(t,Fu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mu(n,"/"==n.charAt(0)?Uu:Bu,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Mu(n,ju)),e.join("")},Cu.prototype.resolve=function(e){var t=_u(this),n=!!e.f;n?Au(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Nu(t,e.b):n=null!=e.i;var i=e.a;if(n)Du(t,e.i);else if(n=!!e.a){if("/"!=i.charAt(0))if(this.b&&!this.a)i="/"+i;else{var r=t.a.lastIndexOf("/");-1!=r&&(i=t.a.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(Sa(r,"./")||Sa(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?t.a=i:n=""!==e.c.toString(),n?xu(t,$u(e.c)):n=!!e.g,n&&(t.g=e.g),t};var Fu=/[#\/\?@]/g,Bu=/[#\?:]/g,Uu=/[#\?]/g,Vu=/[#\?@]/g,ju=/#/g;function Wu(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Hu(e){e.a||(e.a=new Tu,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ku(e,t){Hu(e),t=Qu(e,t),Su(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Eu(e.a,t))}function Gu(e,t){return Hu(e),t=Qu(e,t),Su(e.a.b,t)}function zu(e,t,n){Ku(e,t),0<n.length&&(e.c=null,e.a.set(Qu(e,t),wa(n)),e.b+=n.length)}function $u(e){var t=new Wu;return t.c=e.c,e.a&&(t.a=new Tu(e.a),t.b=e.b),t}function Qu(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Yu(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function Ju(e){var t=e.a.F.a;if(null!=t)Gs(4),t?(Gs(10),Bc(e.a,e,!1)):(Gs(11),Bc(e.a,e,!0));else{e.b=new ou(e,void 0,void 0),e.b.h=e.h,t=Hc(t=e.a,t.Y()?e.f:null,e.i),Gs(4),Ru(t,"TYPE","xmlhttp");var n=e.a.j,i=e.a.I;n&&i&&Lu(t,n,i),lu(e.b,t,!1,e.f)}}function Xu(){this.a=this.b=null}function Zu(){this.a=new Tu}function ec(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[ua]||(e[ua]=++ca)):t.charAt(0)+e}function tc(e,t){this.b=e,this.a=t}function nc(e){this.g=e||ic,Zo.PerformanceNavigationTiming?e=0<(e=Zo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Zo.ka&&Zo.ka.Da&&Zo.ka.Da()&&Zo.ka.Da().yb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Zu),this.b=null,this.c=[]}(Qo=Wu.prototype).add=function(e,t){Hu(this),this.c=null,e=Qu(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Qo.forEach=function(e,t){Hu(this),this.a.forEach((function(n,i){ya(n,(function(n){e.call(t,n,i,this)}),this)}),this)},Qo.K=function(){Hu(this);for(var e=this.a.C(),t=this.a.K(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},Qo.C=function(e){Hu(this);var t=[];if(ea(e))Gu(this,e)&&(t=ba(t,this.a.get(Qu(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=ba(t,e[n])}return t},Qo.set=function(e,t){return Hu(this),this.c=null,Gu(this,e=Qu(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Qo.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},Qo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.C(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),e.push(a)}}return this.c=e.join("&")},ma((function(){}),(function(){})),(Qo=Yu.prototype).M=null,Qo.$=function(e){return this.a.$(e)},Qo.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},Qo.Ca=function(){return!1},Qo.Fa=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=_c(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=_c(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var i=this.a.ja.a.parse(t)}catch(e){return(t=this.a).m=this.c,void jc(t,2)}this.f=i[0]}else(t=this.a).m=this.c,jc(t,2)}else 1==this.M&&(this.g?Gs(6):"11111"==t?(Gs(5),this.g=!0,(!Pa||10<=Number(Ha))&&(this.c=200,this.b.cancel(),Gs(11),Bc(this.a,this,!0))):(Gs(7),this.g=!1))},Qo.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,Ju(this)):1==this.M&&(this.g?(Gs(11),Bc(this.a,this,!0)):(Gs(10),Bc(this.a,this,!1)));else{0==this.M?Gs(8):1==this.M&&Gs(9);var e=this.a;e.m=this.c,jc(e,2)}},Qo.Y=function(){return this.a.Y()},Qo.ma=function(){return this.a.ma()},Zu.prototype.add=function(e){this.a.set(ec(e),e)},Zu.prototype.C=function(){return this.a.C()};var ic=10;function rc(e,t){!e.a&&(Sa(t,"spdy")||Sa(t,"quic")||Sa(t,"h2"))&&(e.f=e.g,e.a=new Zu,e.b&&(uc(e,e.b),e.b=null))}function oc(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function ac(e){return e.b?1:e.a?e.a.a.c:0}function sc(e,t){return e.b?e=e.b==t:e.a?(t=ec(t),e=Su(e.a.a.b,t)):e=!1,e}function uc(e,t){e.a?e.a.add(t):e.b=t}function cc(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=ec(t),n=Su(e.a.a.b,n)),n&&Eu(e.a.a,ec(t)))}function lc(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return ya(e.a.C(),(function(e){t=t.concat(e.j)})),t}return wa(e.c)}function hc(){}function fc(){this.a=new hc}function dc(e,t,n){var i=n||"";try{wu(e,(function(e,n){var r=e;sa(e)&&(r=ws(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(e){throw t.push(i+"type="+encodeURIComponent("_badmap")),e}}function pc(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(e){}}nc.prototype.cancel=function(){this.c=lc(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ya(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},hc.prototype.stringify=function(e){return Zo.JSON.stringify(e,void 0)},hc.prototype.parse=function(e){return Zo.JSON.parse(e,void 0)};var mc=Zo.JSON.parse;function vc(e){ys.call(this),this.headers=new Tu,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=gc,this.D=this.F=!1}ma(vc,ys);var gc="",yc=/^https?$/i,bc=["POST","PUT"];function wc(e){return"content-type"==e.toLowerCase()}function Tc(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Ec(e),Sc(e)}function Ec(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ic(e){if(e.b&&void 0!==Xo&&(!e.s[1]||4!=Cc(e)||2!=e.T()))if(e.l&&4==Cc(e))Os(e.Ea,0,e);else if(e.dispatchEvent("readystatechange"),4==Cc(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(t=i)){var r;if(r=0===n){var o=String(e.A).match(ku)[1]||null;if(!o&&Zo.self&&Zo.self.location){var a=Zo.self.location.protocol;o=a.substr(0,a.length-1)}r=!yc.test(o?o.toLowerCase():"")}t=r}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var s=2<Cc(e)?e.a.statusText:""}catch(e){s=""}e.f=s+" ["+e.T()+"]",Ec(e)}}finally{Sc(e)}}}function Sc(e,t){if(e.a){kc(e);var n=e.a,i=e.s[0]?ia:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){}}}function kc(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(Zo.clearTimeout(e.m),e.m=null)}function Cc(e){return e.a?e.a.readyState:0}function _c(e,t){return e.a?e.a.getResponseHeader(t):null}function Ac(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}if(i)return e;if(n=function(e){var t="";return Aa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),ea(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(i=e.indexOf("?"))||i>n){i=n;var r=""}else r=e.substring(i+1,n);n=(e=[e.substr(0,i),r,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Lu(e,t,n),e}function Nc(e){this.f=[],this.F=new Xu,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!na("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=na("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Ra=na("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Pa=na("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=na("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.Ka=e&&e.zb||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new nc(e&&e.concurrentRequestLimit),this.ja=new fc,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Dc(e){if(xc(e),3==e.u){var t=e.P++,n=_u(e.B);Lu(n,"SID",e.H),Lu(n,"RID",t),Lu(n,"TYPE","terminate"),Pc(e,n),(t=new ou(e,t,void 0)).F=2,t.f=Ou(_u(n)),n=!1,Zo.navigator&&Zo.navigator.sendBeacon&&(n=Zo.navigator.sendBeacon(t.f.toString(),"")),!n&&Zo.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=pa(),pu(t)}Wc(e)}function xc(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(Zo.clearTimeout(e.l),e.l=null),Uc(e),e.b.cancel(),e.h&&(ta(e.h)&&Zo.clearTimeout(e.h),e.h=null)}function Lc(e,t){e.f.push(new tc(e.Qa++,t)),3==e.u&&Rc(e)}function Rc(e){oc(e.b)||e.h||(e.h=!0,As(e.Ha,e),e.A=0)}function Oc(e,t){var n;n=t?t.W:e.P++;var i=_u(e.B);Lu(i,"SID",e.H),Lu(i,"RID",n),Lu(i,"AID",e.O),Pc(e,i),e.g&&e.i&&Ac(i,e.g,e.i),n=new ou(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=Mc(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),uc(e.b,n),cu(n,i,t)}function Pc(e,t){e.c&&wu({},(function(e,n){Lu(t,n,e)}))}function Mc(e,t,n){n=Math.min(e.f.length,n);var i=e.c?fa(e.c.Sa,e.c,e):null;e:for(var r=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=r[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=r[u].b,l=r[u].a;if(0>(c-=o))o=Math.max(0,r[u].b-100),s=!1;else try{dc(l,a,"req"+c+"_")}catch(e){i&&i(l)}}if(s){i=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,i}function qc(e){e.a||e.l||(e.S=1,As(e.Ga,e),e.v=0)}function Fc(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=$s(fa(e.Ga,e),Vc(e,e.v)),e.v++,!0)}function Bc(e,t,n){var i=t.l;i&&rc(e.b,i),e.ia=e.oa&&n,e.m=t.c,e.B=Hc(e,null,e.ha),Rc(e)}function Uc(e){null!=e.s&&(Zo.clearTimeout(e.s),e.s=null)}function Vc(e,t){var n=e.Na+Math.floor(Math.random()*e.Ra);return e.ma()||(n*=2),n*t}function jc(e,t){if(2==t){var n=null;e.c&&(n=null);var i=fa(e.eb,e);n||(n=new Cu("//www.google.com/images/cleardot.gif"),Zo.location&&"http"==Zo.location.protocol||Au(n,"https"),Ou(n)),function(e,t){var n=new Vs;if(Zo.Image){var i=new Image;i.onload=da(pc,n,i,"TestLoadImage: loaded",!0,t),i.onerror=da(pc,n,i,"TestLoadImage: error",!1,t),i.onabort=da(pc,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=da(pc,n,i,"TestLoadImage: timeout",!1,t),Zo.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else Gs(2);e.u=0,e.c&&e.c.ta(t),Wc(e),xc(e)}function Wc(e){e.u=0,e.m=-1,e.c&&(0==lc(e.b).length&&0==e.f.length||(e.b.c.length=0,wa(e.f),e.f.length=0),e.c.sa())}function Hc(e,t,n){var i=function(e){return e instanceof Cu?_u(e):new Cu(e,void 0)}(n);if(""!=i.b)t&&Nu(i,t+"."+i.b),Du(i,i.i);else{var r,o=Zo.location;r=t?t+"."+o.hostname:o.hostname,i=function(e,t,n,i){var r=new Cu(null,void 0);return e&&Au(r,e),t&&Nu(r,t),n&&Du(r,n),i&&(r.a=i),r}(o.protocol,r,+o.port,n)}return e.V&&Aa(e.V,(function(e,t){Lu(i,t,e)})),t=e.j,n=e.I,t&&n&&Lu(i,t,n),Lu(i,"VER",e.wa),Pc(e,i),i}function Kc(){}function Gc(){if(Pa&&!(10<=Number(Ha)))throw Error("Environmental error: no available transport.")}function zc(e,t){ys.call(this),this.a=new Nc(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var i,r=arguments[n];if(0==r.lastIndexOf("/",0))t=r;else(i=""==t)||(i=0<=(i=t.length-1)&&t.indexOf("/",i)==i),t+=i?r:"/"+r}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ta(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ta(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new Yc(this)}function $c(e){nu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Qc(){iu.call(this),this.status=1}function Yc(e){this.a=e}(Qo=vc.prototype).ca=function(e,t,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Xs(this.H):Xs(eu),this.a.onreadystatechange=fa(this.Ea,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(e){return void Tc(this,e)}e=n||"";var r=new Tu(this.headers);i&&wu(i,(function(e,t){r.set(t,e)})),i=function(e){e:{for(var t=wc,n=e.length,i=ea(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:ea(e)?e.charAt(t):e[t]}(r.K()),n=Zo.FormData&&e instanceof Zo.FormData,!(0<=ga(bc,t))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{kc(this),0<this.o&&((this.D=function(e){return Pa&&Ga(9)&&ta(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=fa(this.Ba,this)):this.m=Os(this.Ba,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Tc(this,e)}},Qo.Ba=function(){void 0!==Xo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Qo.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Sc(this))},Qo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Sc(this,!0)),vc.N.G.call(this)},Qo.Ea=function(){this.j||(this.w||this.l||this.g?Ic(this):this.Za())},Qo.Za=function(){Ic(this)},Qo.T=function(){try{return 2<Cc(this)?this.a.status:-1}catch(e){return-1}},Qo.aa=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},Qo.Ua=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mc(t)}},Qo.ya=function(){return this.h},Qo.Xa=function(){return ea(this.f)?this.f:String(this.f)},(Qo=Nc.prototype).wa=8,Qo.u=1,Qo.Ca=function(){return 0==this.u},Qo.Ha=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new ou(this,e=this.P++,void 0),i=this.i;if(this.J&&(i?xa(i=Na(i),this.J):i=this.J),null===this.g&&(n.h=i),this.W)e:{for(var r=t=0;r<this.f.length;r++){var o=this.f[r];if(void 0===(o="__data__"in o.a&&ea(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=r;break e}if(4096===t||r===this.f.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=Mc(this,n,t),Lu(r=_u(this.B),"RID",e),Lu(r,"CVER",22),this.o&&this.j&&Lu(r,"X-HTTP-Session-Id",this.j),Pc(this,r),this.g&&i&&Ac(r,this.g,i),uc(this.b,n),this.W?(Lu(r,"$req",t),Lu(r,"SID","null"),n.S=!0,cu(n,r,null)):cu(n,r,t),this.u=2}}else 3==this.u&&(e?Oc(this,e):0==this.f.length||oc(this.b)||Oc(this))},Qo.Ga=function(){this.l=null,this.a=new ou(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=_u(this.pa);Lu(e,"RID","rpc"),Lu(e,"SID",this.H),Lu(e,"CI",this.ia?"0":"1"),Lu(e,"AID",this.O),Pc(this,e),Lu(e,"TYPE","xmlhttp"),this.g&&this.i&&Ac(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),lu(this.a,e,!0,this.ga)},Qo.Fa=function(e,t){if(0!=this.u&&(this.a==e||sc(this.b,e)))if(this.m=e.o,!e.s&&sc(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(e){n=null}if(oa(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;Uc(this),this.a.cancel(),this.a=null}Fc(this),Gs(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=$s(fa(this.Ya,this),6e3));if(1>=ac(this.b)&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else jc(this,11)}else if((e.s||this.a==e)&&Uc(this),!Ta(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var i=t[n];if(this.O=i[0],i=i[1],2==this.u)if("c"==i[0]){this.H=i[1],this.ga=i[2];var r=i[3];null!=r&&(this.wa=r),null!=(i=i[5])&&ta(i)&&0<i&&(this.D=1.5*i),this.o&&(i=e.a)&&((r=_c(i,"X-Client-Wire-Protocol"))&&rc(this.b,r),this.j&&(i=_c(i,"X-HTTP-Session-Id")))&&(this.I=i,Lu(this.B,this.j,i)),this.u=3,this.c&&this.c.va(),i=e,this.pa=Hc(this,this.Y()?this.ga:null,this.ha),i.s?(cc(this.b,i),(r=this.D)&&i.setTimeout(r),i.i&&(vu(i),pu(i)),this.a=i):qc(this),0<this.f.length&&Rc(this)}else"stop"!=i[0]&&"close"!=i[0]||jc(this,7);else 3==this.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?jc(this,7):Dc(this):"noop"!=i[0]&&this.c&&this.c.ua(i),this.v=0)}},Qo.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Fc(this),Gs(19))},Qo.na=function(e){var t=null;if(this.a==e){Uc(this),this.a=null;var n=2}else{if(!sc(this.b,e))return;t=e.j,cc(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=pa()-e.v,js.dispatchEvent(new zs(js,e.l?e.l.length:0,t,this.A)),Rc(this)):qc(this);else{var i=e.c;if(3==i||0==i&&0<this.m||!(1==n&&function(e,t){return!(ac(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Oa?0:e.Pa))&&(e.h=$s(fa(e.Ha,e,t),Vc(e,e.A)),e.A++,!0))}(this,e)||2==n&&Fc(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),i){case 1:jc(this,5);break;case 4:jc(this,10);break;case 3:jc(this,6);break;default:jc(this,2)}}},Qo.eb=function(e){Gs(e?2:1)},Qo.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vc(this.Ka)).F=this.R,e},Qo.ma=function(){return!!this.c&&!0},Qo.Y=function(){return this.R},(Qo=Kc.prototype).va=function(){},Qo.ua=function(){},Qo.ta=function(){},Qo.sa=function(){},Qo.Sa=function(){},Gc.prototype.a=function(e,t){return new zc(e,t)},ma(zc,ys),(Qo=zc.prototype).addEventListener=function(e,t,n,i){zc.N.addEventListener.call(this,e,t,n,i)},Qo.removeEventListener=function(e,t,n,i){zc.N.removeEventListener.call(this,e,t,n,i)},Qo.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,i=this.b||void 0;Gs(0),e.ha=n,e.V=i||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new Yu(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Ac(t,e.g,e.i)),(e=e.w).i=n,t=Hc(e.a,null,e.i),Gs(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,Ju(e)):(Ru(t,"MODE","init"),!e.a.o&&e.a.j&&Ru(t,"X-HTTP-Session-Id",e.a.j),e.b=new ou(e,void 0,void 0),e.b.h=e.h,lu(e.b,t,!1,null),e.M=0)},Qo.close=function(){Dc(this.a)},Qo.Wa=function(e){if(ea(e)){var t={};t.__data__=e,Lc(this.a,t)}else this.h?((t={}).__data__=ws(e),Lc(this.a,t)):Lc(this.a,e)},Qo.G=function(){this.a.c=null,delete this.f,Dc(this.a),delete this.a,zc.N.G.call(this)},ma($c,nu),ma(Qc,iu),ma(Yc,Kc),Yc.prototype.va=function(){this.a.dispatchEvent("a")},Yc.prototype.ua=function(e){this.a.dispatchEvent(new $c(e))},Yc.prototype.ta=function(e){this.a.dispatchEvent(new Qc(e))},Yc.prototype.sa=function(){this.a.dispatchEvent("b")};var Jc=da((function(e,t){function n(){}n.prototype=e.prototype;var i=new n;return e.apply(i,Array.prototype.slice.call(arguments,1)),i}),Gc);Gc.prototype.createWebChannel=Gc.prototype.a,zc.prototype.send=zc.prototype.Wa,zc.prototype.open=zc.prototype.Va,zc.prototype.close=zc.prototype.close,Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,Ys.COMPLETE="complete",Zs.EventType=tu,tu.OPEN="a",tu.CLOSE="b",tu.ERROR="c",tu.MESSAGE="d",ys.prototype.listen=ys.prototype.za,vc.prototype.listenOnce=vc.prototype.Aa,vc.prototype.getLastError=vc.prototype.Xa,vc.prototype.getLastErrorCode=vc.prototype.ya,vc.prototype.getStatus=vc.prototype.T,vc.prototype.getResponseJson=vc.prototype.Ua,vc.prototype.getResponseText=vc.prototype.aa,vc.prototype.send=vc.prototype.ca;var Xc={createWebChannelTransport:Jc,ErrorCode:Qs,EventType:Ys,WebChannel:Zs,XhrIo:vc},Zc=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(Ko),r=i.SDK_VERSION,o=new Ho.Logger("@firebase/firestore");
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function a(){return o.logLevel===Ho.LogLevel.DEBUG?n.DEBUG:o.logLevel===Ho.LogLevel.SILENT?n.SILENT:n.ERROR}function s(e){switch(e){case n.DEBUG:o.logLevel=Ho.LogLevel.DEBUG;break;case n.ERROR:o.logLevel=Ho.LogLevel.ERROR;break;case n.SILENT:o.logLevel=Ho.LogLevel.SILENT;break;default:o.error("Firestore ("+r+"): Invalid value passed to `setLogLevel`")}}function u(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(o.logLevel<=Ho.LogLevel.DEBUG){var a=n.map(l);o.debug.apply(o,dn.__spreadArrays(["Firestore ("+r+") ["+e+"]: "+t],a))}}function c(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(o.logLevel<=Ho.LogLevel.ERROR){var i=t.map(l);o.error.apply(o,dn.__spreadArrays(["Firestore ("+r+"): "+e],i))}}function l(e){if("string"==typeof e)return e;var t=d.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function h(e){var t="FIRESTORE ("+r+") INTERNAL ASSERTION FAILED: "+e;throw c(t),new Error(t)}function f(e,t){e||h(t)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(n||(n={}));var d=function(){function e(){}return e.setPlatform=function(t){e.platform&&h("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||h("Platform not set"),e.platform},e}();function p(){return d.getPlatform().emptyByteString}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},v=function(e){function t(t,n){var i=e.call(this,n)||this;return i.code=t,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return dn.__extends(t,e),t}(Error);
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function g(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new v(m.INVALID_ARGUMENT,e)}for(var i in n.prototype=e.prototype,e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function b(e,t){return void 0!==e?e:t}function w(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Number(n);isNaN(i)||t(i,e[n])}}function T(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function E(e){for(var t in f(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function I(e,t){if(0!==t.length)throw new v(m.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+j(t.length,"argument")+".")}function S(e,t,n){if(t.length!==n)throw new v(m.INVALID_ARGUMENT,"Function "+e+"() requires "+j(n,"argument")+", but was called with "+j(t.length,"argument")+".")}function k(e,t,n){if(t.length<n)throw new v(m.INVALID_ARGUMENT,"Function "+e+"() requires at least "+j(n,"argument")+", but was called with "+j(t.length,"argument")+".")}function C(e,t,n,i){if(t.length<n||t.length>i)throw new v(m.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+i+" arguments, but was called with "+j(t.length,"argument")+".")}function _(e,t,n,i){O(e,t,V(n)+" argument",i)}function A(e,t,n,i){void 0!==i&&_(e,t,n,i)}function N(e,t,n,i){O(e,t,n+" option",i)}function D(e,t,n,i){void 0!==i&&N(e,t,n,i)}function x(e,t,n,i,r){void 0!==i&&function(e,t,n,i,r){if(!(i instanceof Array))throw new v(m.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+M(i));for(var o=0;o<i.length;++o)if(!r(i[o]))throw new v(m.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+M(i[o]))}(e,t,n,i,r)}function L(e,t,n,i,r){void 0!==i&&function(e,t,n,i,r){for(var o=[],a=0,s=r;a<s.length;a++){var u=s[a];if(u===i)return;o.push(M(u))}var c=M(i);throw new v(m.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,i,r)}function R(e,t,n,i){if(!t.some((function(e){return e===i})))throw new v(m.INVALID_ARGUMENT,"Invalid value "+M(i)+" provided to function "+e+"() for its "+V(n)+" argument. Acceptable values: "+t.join(", "))}function O(e,t,n,i){if(!("object"===t?P(i):"non-empty string"===t?"string"==typeof i&&""!==i:typeof i===t)){var r=M(i);throw new v(m.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+r)}}function P(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function M(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":h("Unknown wrong type: "+typeof e)}function q(e,t,n){if(void 0===n)throw new v(m.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+V(t)+" argument, but it was undefined.")}function F(e,t,n){T(t,(function(t,i){if(n.indexOf(t)<0)throw new v(m.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function B(e,t,n,i){var r=M(i);return new v(m.INVALID_ARGUMENT,"Function "+e+"() requires its "+V(n)+" argument to be a "+t+", but it was: "+r)}function U(e,t,n){if(n<=0)throw new v(m.INVALID_ARGUMENT,'Function "'+e+'()" requires its '+V(t)+" argument to be a positive number, but it was: "+n+".")}function V(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function j(e,t){return e+" "+t+(1===e?"":"s")}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var W=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return f(20===t.length,"Invalid auto ID: "+t),t},e}();function H(e,t){return e<t?-1:e>t?1:0}function K(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function G(e){return e+"\0"}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function z(){if("undefined"==typeof Uint8Array)throw new v(m.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $(){if(!d.getPlatform().base64Available)throw new v(m.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Q,Y=function(){function e(e){$(),this._binaryString=e}return e.fromBase64String=function(t){S("Blob.fromBase64String",arguments,1),_("Blob.fromBase64String","string",1,t),$();try{var n=d.getPlatform().atob(t);return new e(n)}catch(e){throw new v(m.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},e.fromUint8Array=function(t){if(S("Blob.fromUint8Array",arguments,1),z(),!(t instanceof Uint8Array))throw B("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("");return new e(n)},e.prototype.toBase64=function(){return S("Blob.toBase64",arguments,0),$(),d.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){S("Blob.toUint8Array",arguments,0),z();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return H(this._binaryString,e._binaryString)},e}(),J=g(Y,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),X=function(e,t,n,i,r){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=i,this.forceLongPolling=r},Z="(default)",ee=function(){function e(e,t){this.projectId=e,this.database=t||Z}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===Z},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return H(this.projectId,e.projectId)||H(this.database,e.database)},e}(),te=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),ne=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&h("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&h("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,f(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return f(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return f(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return f(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=e.get(i),o=t.get(i);if(r<o)return-1;if(r>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dn.__extends(t,e),t.prototype.construct=function(e,n,i){return new t(e,n,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new v(m.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.EMPTY_PATH=new t([]),t}(ne),re=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dn.__extends(t,e),t.prototype.construct=function(e,n,i){return new t(e,n,i)},t.isValidIdentifier=function(e){return re.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new v(m.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},a=!1;r<e.length;){var s=e[r];if("\\"===s){if(r+1===e.length)throw new v(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new v(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else"`"===s?(a=!a,r++):"."!==s||a?(i+=s,r++):(o(),r++)}if(o(),a)throw new v(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(ne),ae=function(){function e(t){this.path=t,f(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ie.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ie.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new ie(t.slice()))},e.fromPathString=function(t){return new e(ie.fromString(t))},e.EMPTY=new e(new ie([])),e}(),se=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection",e.RetryTransaction="retry_transaction"}(Q||(Q={}));var ue=function(){function e(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new se,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,i,r,o){var a=new e(t,n,Date.now()+i,r,o);return a.start(i),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new v(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),ce=function(){function e(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueAndInitiateShutdown=function(e){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},e.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw c("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var i=this;this.verifyNotFailed(),f(t>=0,"Attempted to schedule an operation with a negative delay of "+t),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);var r=ue.createAndSchedule(this,e,t,n,(function(e){return i.removeDelayedOperation(e)}));return this.delayedOperations.push(r),r},e.prototype.verifyNotFailed=function(){this.failure&&h("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){f(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){if(n[t].timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){f(e===Q.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,i=t.delayedOperations;n<i.length;n++){var r=i[n];if(r.skipDelay(),e!==Q.All&&r.timerId===e)break}return t.drain()}))},e.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);f(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),le="",he="",fe="",de="";function pe(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ve(t)),t=me(e.get(n),t);return ve(t)}function me(e,t){for(var n=t,i=e.length,r=0;r<i;r++){var o=e.charAt(r);switch(o){case"\0":n+=le+fe;break;case le:n+=le+de;break;default:n+=o}}return n}function ve(e){return e+le+he}function ge(e){var t=e.length;if(f(t>=2,"Invalid path "+e),2===t)return f(e.charAt(0)===le&&e.charAt(1)===he,"Non-empty path "+e+" had length 2"),ie.EMPTY_PATH;for(var n=t-2,i=[],r="",o=0;o<t;){var a=e.indexOf(le,o);switch((a<0||a>n)&&h('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case he:var s=e.substring(o,a),u=void 0;0===r.length?u=s:(u=r+=s,r=""),i.push(u);break;case fe:r+=e.substring(o,a),r+="\0";break;case de:r+=e.substring(o,a+1);break;default:h('Invalid encoded resource path: "'+e+'"')}o=a+2}return new ie(i)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ye=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new v(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new v(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new v(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new v(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?H(this.nanoseconds,e.nanoseconds):H(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),be=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new ye(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new ye(0,0)),e}(),we=function(){function e(e,t){this.comparator=e,this.root=t||Ee.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ee.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ee.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Te(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Te(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Te(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Te(this.root,e,this.comparator,!0)},e}(),Te=function(){function e(e,t,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!e.isEmpty();)if(r=t?n(e.key,t):1,i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){f(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ee=function(){function e(t,n,i,r,o){this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=r?r:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,r,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var i=this,r=n(e,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(t,r.key)){if(r.right.isEmpty())return e.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw h("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw h("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw h("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Ie=function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw h("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw h("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw h("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw h("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw h("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),e.prototype.copy=function(e,t,n,i,r){return this},e.prototype.insert=function(e,t,n){return new Ee(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Ee.EMPTY=new Ie;
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Se=function(){function e(e){this.comparator=e,this.data=new we(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach((function(e){n=n.add(e)})),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new ke(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new ke(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ke=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Ce=new we(ae.comparator);function _e(){return Ce}function Ae(){return _e()}var Ne=new we(ae.comparator);function De(){return Ne}var xe=new we(ae.comparator);function Le(){return xe}var Re=new Se(ae.comparator);function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Re,i=0,r=e;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var Pe=new Se(H);function Me(){return Pe}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var qe=function(){function e(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i,f(i.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&f(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var i=n.mutationResults;f(i.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+i.length+").");for(var r=0;r<this.mutations.length;r++){var o=this.mutations[r];if(o.key.isEqual(e)){var a=i[r];t=o.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&f(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,i=this.baseMutations;n<i.length;n++){(s=i[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime))}for(var r=t,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(e)&&(t=s.applyToLocalView(t,r,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(i){var r=t.applyToLocalView(i.key,e.get(i.key));r&&(n=n.insert(i.key,r))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Oe())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&K(this.mutations,e.mutations)&&K(this.baseMutations,e.baseMutations)},e}(),Fe=function(){function e(e,t,n,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=i,this.docVersions=r}return e.from=function(t,n,i,r){f(t.mutations.length===i.length,"Mutations sent "+t.mutations.length+" must equal results received "+i.length);for(var o=Le(),a=t.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,i[s].version);return new e(t,n,i,r,o)},e}(),Be=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&h("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,r){i.nextCallback=function(n){i.wrapSuccess(t,n).next(e,r)},i.catchCallback=function(t){i.wrapFailure(n,t).next(e,r)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var i=0,r=0,o=!1;t.forEach((function(t){++i,t.next((function(){++r,o&&r===i&&e()}),(function(e){return n(e)}))})),o=!0,r===i&&e()}))},e.or=function(t){for(var n=e.resolve(!1),i=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},r=0,o=t;r<o.length;r++){i(o[r])}return n},e.forEach=function(e,t){var n=this,i=[];return e.forEach((function(e,r){i.push(t.call(n,e,r))})),this.waitFor(i)},e}(),Ue="SimpleDb",Ve=function(){function e(t){this.db=t,12.2===e.getIOSVersion(Ro.getUA())&&c("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,i){return f(e.isAvailable(),"IndexedDB not supported in current environment."),u(Ue,"Opening database:",t),new Be((function(r,o){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){var n=t.target.result;r(new e(n))},a.onblocked=function(){o(new v(m.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var t=e.target.error;"VersionError"===t.name?o(new v(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(t)},a.onupgradeneeded=function(e){u(Ue,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;i.createOrUpgrade(n,a.transaction,e.oldVersion,Yt).next((function(){u(Ue,"Database upgrade to version "+Yt+" complete")}))}})).toPromise()},e.delete=function(e){return u(Ue,"Removing database:",e),Ke(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(e.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var t=Ro.getUA(),n=e.getIOSVersion(t),i=0<n&&n<10,r=e.getAndroidVersion(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)},e.isMockPersistence=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.USE_MOCK_PERSISTENCE)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){return dn.__awaiter(this,void 0,void 0,(function(){var i,r,o,a,s,c;return dn.__generator(this,(function(l){switch(l.label){case 0:i=e.startsWith("readonly"),r=e.endsWith("idempotent"),o=0,a=function(){var e,a,c,l;return dn.__generator(this,(function(h){switch(h.label){case 0:++o,e=We.open(s.db,i?"readonly":"readwrite",t),h.label=1;case 1:return h.trys.push([1,3,,4]),(a=n(e).catch((function(t){return e.abort(t),Be.reject(t)})).toPromise()).catch((function(){})),[4,e.completionPromise];case 2:return h.sent(),[2,{value:a}];case 3:return c=h.sent(),l=r&&"FirebaseError"!==c.name&&o<3,u(Ue,"Transaction failed with error: %s. Retrying: %s.",c.message,l),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},s=this,l.label=1;case 1:return[5,a()];case 2:return"object"==typeof(c=l.sent())?[2,c.value]:[3,1];case 3:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),je=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return Ke(this.dbCursor.delete())},e}(),We=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new se,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=ze(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,i){return new e(t.transaction(i,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(u(Ue,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return f(!!t,"Object store not part of transaction: "+e),new He(t)},e}(),He=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(u(Ue,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(u(Ue,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ke(n)},e.prototype.add=function(e){return u(Ue,"ADD",this.store.name,e,e),Ke(this.store.add(e))},e.prototype.get=function(e){var t=this;return Ke(this.store.get(e)).next((function(n){return void 0===n&&(n=null),u(Ue,"GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return u(Ue,"DELETE",this.store.name,e),Ke(this.store.delete(e))},e.prototype.count=function(){return u(Ue,"COUNT",this.store.name),Ke(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),i=[];return this.iterateCursor(n,(function(e,t){i.push(t)})).next((function(){return i}))},e.prototype.deleteAll=function(e,t){u(Ue,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var i=this.cursor(n);return this.iterateCursor(i,(function(e,t,n){return n.delete()}))},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var i=this.cursor(n);return this.iterateCursor(i,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new Be((function(n,i){t.onerror=function(e){var t=ze(e.target.error);i(t)},t.onsuccess=function(t){var i=t.target.result;i?e(i.primaryKey,i.value).next((function(e){e?i.continue():n()})):n()}}))},e.prototype.iterateCursor=function(e,t){var n=[];return new Be((function(i,r){e.onerror=function(e){r(e.target.error)},e.onsuccess=function(e){var r=e.target.result;if(r){var o=new je(r),a=t(r.primaryKey,r.value,o);if(a instanceof Be){var s=a.catch((function(e){return o.done(),Be.reject(e)}));n.push(s)}o.isDone?i():null===o.skipToKey?r.continue():r.continue(o.skipToKey)}else i()}})).next((function(){return Be.waitFor(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(f(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Ke(e){return new Be((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ze(e.target.error);n(t)}}))}var Ge=!1;function ze(e){var t=Ve.getIOSVersion(Ro.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new v("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ge||(Ge=!0,setTimeout((function(){throw i}),0)),i}}return e}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var $e=function(){function e(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.documentKeysByBatchId={}}return e.forUser=function(t,n,i,r){return f(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,i,r)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xe(e).iterate({index:tn.userMutationsIndex,range:n},(function(e,n,i){t=!1,i.done()})).next((function(){return t}))},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=Je(n),et(e).put(t)}))},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=Je(t),et(e).put(n)}))},e.prototype.addMutationBatch=function(e,t,n,i){var r=this,o=Ze(e),a=Xe(e);return a.add({}).next((function(s){f("number"==typeof s,"Auto-generated key is not a number");for(var u=new qe(s,t,n,i),c=r.serializer.toDbMutationBatch(r.userId,u),l=[],h=new Se((function(e,t){return H(e.canonicalString(),t.canonicalString())})),d=0,p=i;d<p.length;d++){var m=p[d],v=nn.key(r.userId,m.key.path,s);h=h.add(m.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,nn.PLACEHOLDER))}return h.forEach((function(t){l.push(r.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){r.documentKeysByBatchId[s]=u.keys()})),Be.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Xe(e).get(t).next((function(e){return e?(f(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?Be.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var i=e.keys();return n.documentKeysByBatchId[t]=i,i}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return Xe(e).iterate({index:tn.userMutationsIndex,range:r},(function(e,t,r){t.userId===n.userId&&(f(t.batchId>=i,"Should have found mutation after "+i),o=n.serializer.fromDbMutationBatch(t)),r.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xe(e).iterate({index:tn.userMutationsIndex,range:t,reverse:!0},(function(e,t,i){n=t.batchId,i.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xe(e).loadAll(tn.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,i=nn.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Ze(e).iterate({range:r},(function(i,r,a){var s=i[0],u=i[1],c=i[2],l=ge(u);if(s===n.userId&&t.path.isEqual(l))return Xe(e).get(c).next((function(e){if(!e)throw h("Dangling document-mutation reference found: "+i+" which points to "+c);f(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,i=new Se(H),r=[];return t.forEach((function(t){var o=nn.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Ze(e).iterate({range:a},(function(e,r,o){var a=e[0],s=e[1],u=e[2],c=ge(s);a===n.userId&&t.path.isEqual(c)?i=i.add(u):o.done()}));r.push(s)})),Be.waitFor(r).next((function(){return n.lookupMutationBatches(e,i)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;f(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),f(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=t.path,r=i.length+1,o=nn.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(o),s=new Se(H);return Ze(e).iterate({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=ge(u);a===n.userId&&i.isPrefixOf(l)?l.length===r&&(s=s.add(c)):o.done()})).next((function(){return n.lookupMutationBatches(e,s)}))},e.prototype.lookupMutationBatches=function(e,t){var n=this,i=[],r=[];return t.forEach((function(t){r.push(Xe(e).get(t).next((function(e){if(null===e)throw h("Dangling document-mutation reference found, which points to "+t);f(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),i.push(n.serializer.fromDbMutationBatch(e))})))})),Be.waitFor(r).next((function(){return i}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Ye(e.simpleDbTransaction,this.userId,t).next((function(i){return e.addOnCommittedListener((function(){n.removeCachedMutationKeys(t.batchId)})),Be.forEach(i,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Be.resolve();var i=IDBKeyRange.lowerBound(nn.prefixForUser(t.userId)),r=[];return Ze(e).iterate({range:i},(function(e,n,i){if(e[0]===t.userId){var o=ge(e[1]);r.push(o)}else i.done()})).next((function(){f(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map((function(e){return e.canonicalString()})))}))}))},e.prototype.containsKey=function(e,t){return Qe(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return et(e).get(this.userId).next((function(e){return e||new en(t.userId,-1,"")}))},e}();function Qe(e,t,n){var i=nn.prefixForPath(t,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),a=!1;return Ze(e).iterate({range:o,keysOnly:!0},(function(e,n,i){var o=e[0],s=e[1];e[2];o===t&&s===r&&(a=!0),i.done()})).next((function(){return a}))}function Ye(e,t,n){var i=e.store(tn.store),r=e.store(nn.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=i.iterate({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){f(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],p=nn.key(t,d.key.path,n.batchId);o.push(r.delete(p)),c.push(d.key)}return Be.waitFor(o).next((function(){return c}))}function Je(e){return e instanceof Uint8Array?(f(Ve.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Xe(e){return Pn.getStore(e,tn.store)}function Ze(e){return Pn.getStore(e,nn.store)}function et(e){return Pn.getStore(e,en.store)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var tt,nt=1;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(tt||(tt={}));var it=function(){function e(e,t){this.generatorId=e,f((e&nt)===e,"Generator ID "+e+" contains more than "+nt+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<nt,e},e.prototype.after=function(e){return this.seek(e+(1<<nt)),this.next()},e.prototype.seek=function(e){f((e&nt)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forTargetCache=function(){return new e(tt.QueryCache,2)},e.forSyncEngine=function(){return new e(tt.SyncEngine)},e}(),rt=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=it.forTargetCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return be.fromTimestamp(new ye(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return st(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var i=this;return this.retrieveMetadata(e).next((function(r){return r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),i.saveMetadata(e,r)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.saveTargetData(e,t).next((function(){return n.retrieveMetadata(e).next((function(i){return i.targetCount+=1,n.updateMetadataFromTargetData(t,i),n.saveMetadata(e,i)}))}))},e.prototype.updateTargetData=function(e,t){return this.saveTargetData(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ot(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return f(t.targetCount>0,"Removing from an empty target cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},e.prototype.removeTargets=function(e,t,n){var i=this,r=0,o=[];return ot(e).iterate((function(a,s){var u=i.serializer.fromDbTarget(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r++,o.push(i.removeTargetData(e,u)))})).next((function(){return Be.waitFor(o)})).next((function(){return r}))},e.prototype.forEachTarget=function(e,t){var n=this;return ot(e).iterate((function(e,i){var r=n.serializer.fromDbTarget(i);t(r)}))},e.prototype.retrieveMetadata=function(e){return at(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,Pn.getStore(n,ln.store)).put(ln.key,t);var n},e.prototype.saveTargetData=function(e,t){return ot(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromTargetData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=this,i=t.canonicalId(),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return ot(e).iterate({range:r,index:un.queryTargetsIndexName},(function(e,i,r){var a=n.serializer.fromDbTarget(i);t.isEqual(a.target)&&(o=a,r.done())})).next((function(){return o}))},e.prototype.addMatchingKeys=function(e,t,n){var i=this,r=[],o=ut(e);return t.forEach((function(t){var a=pe(t.path);r.push(o.put(new cn(n,a))),r.push(i.referenceDelegate.addReference(e,t))})),Be.waitFor(r)},e.prototype.removeMatchingKeys=function(e,t,n){var i=this,r=ut(e);return Be.forEach(t,(function(t){var o=pe(t.path);return Be.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(e,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ut(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),i=ut(e),r=Oe();return i.iterate({range:n,keysOnly:!0},(function(e,t,n){var i=ge(e[1]),o=new ae(i);r=r.add(o)})).next((function(){return r}))},e.prototype.containsKey=function(e,t){var n=pe(t.path),i=IDBKeyRange.bound([n],[G(n)],!1,!0),r=0;return ut(e).iterate({index:cn.documentTargetsIndex,keysOnly:!0,range:i},(function(e,t,n){var i=e[0];e[1];0!==i&&(r++,n.done())})).next((function(){return r>0}))},e.prototype.getTargetDataForTarget=function(e,t){var n=this;return ot(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},e}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ot(e){return Pn.getStore(e,un.store)}function at(e){return Ve.getStore(e,ln.store).get(ln.key).next((function(e){return f(null!==e,"Missing metadata row."),e}))}function st(e){return at(e).next((function(e){return e.highestListenSequenceNumber}))}function ut(e){return Pn.getStore(e,cn.store)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ct,lt=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new Se(oe.comparator);return t.forEach((function(e){return n=n.add(e)})),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),ht=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),ft=function(e,t){this.version=e,this.transformResults=t};!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(ct||(ct={}));var dt,pt,mt=function(){function e(e,t){this.updateTime=e,this.exists=t,f(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Ft&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Ft:(f(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return t=this.updateTime,n=e.updateTime,(null!=t?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),vt=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&f(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof Ft?e.version:be.MIN},e}(),gt=function(e){function t(t,n,i){var r=e.call(this)||this;return r.key=t,r.value=n,r.precondition=i,r.type=ct.Set,r}return dn.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),f(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new Ft(this.key,n,{hasCommittedMutations:!0},this.value)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var i=vt.getPostMutationVersion(e);return new Ft(this.key,i,{hasLocalMutations:!0},this.value)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(vt),yt=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=i,o.precondition=r,o.type=ct.Patch,o}return dn.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),f(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Ut(this.key,t.version);var n=this.patchDocument(e);return new Ft(this.key,t.version,{hasCommittedMutations:!0},n)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var i=vt.getPostMutationVersion(e),r=this.patchDocument(e);return new Ft(this.key,i,{hasLocalMutations:!0},r)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof Ft?e.data():Pt.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var i=t.data.field(n);e=null!==i?e.set(n,i):e.delete(n)}})),e},t}(vt),bt=function(e){function t(t,n){var i=e.call(this)||this;return i.key=t,i.fieldTransforms=n,i.type=ct.Transform,i.precondition=mt.exists(!0),i}return dn.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),f(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Ut(this.key,t.version);var n=this.requireDocument(e),i=this.serverTransformResults(e,t.transformResults),r=t.version,o=this.transformObject(n.data(),i);return new Ft(this.key,r,{hasCommittedMutations:!0},o)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var i=this.requireDocument(e),r=this.localTransformResults(n,e,t),o=this.transformObject(i.data(),r);return new Ft(this.key,i.version,{hasLocalMutations:!0},o)},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,i=this.fieldTransforms;n<i.length;n++){var r=i[n],o=e instanceof Ft?e.field(r.field):void 0,a=r.transform.computeBaseValue(o||null);null!=a&&(t=null==t?Pt.EMPTY.set(r.field,a):t.set(r.field,a))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&K(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){return f(e instanceof Ft,"Unknown MaybeDocument type "+e),f(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},t.prototype.serverTransformResults=function(e,t){var n=[];f(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var i=0;i<t.length;i++){var r=this.fieldTransforms[i],o=r.transform,a=null;e instanceof Ft&&(a=e.field(r.field)),n.push(o.applyToRemoteDocument(a,t[i]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var i=[],r=0,o=this.fieldTransforms;r<o.length;r++){var a=o[r],s=a.transform,u=null;t instanceof Ft&&(u=t.field(a.field)),null===u&&n instanceof Ft&&(u=n.field(a.field)),i.push(s.applyToLocalView(u,e))}return i},t.prototype.transformObject=function(e,t){f(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var i=this.fieldTransforms[n].field;e=e.set(i,t[n])}return e},t}(vt),wt=function(e){function t(t,n){var i=e.call(this)||this;return i.key=t,i.precondition=n,i.type=ct.Delete,i}return dn.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),f(null==t.transformResults,"Transform results received by DeleteMutation."),new Bt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&f(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Bt(this.key,be.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(vt);!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(dt||(dt={})),function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(pt||(pt={}));var Tt=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(pt.Estimate,n);case"previous":return new e(pt.Previous,n);case"none":case void 0:return new e(pt.Default,n);default:return h("fromSnapshotOptions() called with invalid options.")}},e}(),Et=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return f(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),H(this.typeOrder,e.typeOrder)},e}(),It=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=dt.NullValue,t.internalValue=null,t}return dn.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(Et),St=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=dt.BooleanValue,n}return dn.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?H(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Et),kt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=dt.NumberValue,n}return dn.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue,i=e.internalValue,n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1):this.defaultCompareTo(e);var n,i},t}(Et);function Ct(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var _t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dn.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ct(this.internalValue,e.internalValue)},t}(kt),At=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dn.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ct(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(kt),Nt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=dt.StringValue,n}return dn.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?H(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Et),Dt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=dt.TimestampValue,n}return dn.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof xt?-1:this.defaultCompareTo(e)},t}(Et),xt=function(e){function t(t,n){var i=e.call(this)||this;return i.localWriteTime=t,i.previousValue=n,i.typeOrder=dt.TimestampValue,i}return dn.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===pt.Estimate?new Dt(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===pt.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Dt?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(Et),Lt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=dt.BlobValue,n}return dn.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Et),Rt=function(e){function t(t,n){var i=e.call(this)||this;return i.databaseId=t,i.key=n,i.typeOrder=dt.RefValue,i}return dn.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:ae.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(Et),Ot=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=dt.GeoPointValue,n}return dn.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Et),Pt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=dt.ObjectValue,n}return dn.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,i){t[n]=i.value(e)})),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),i=e.internalValue.getIterator();n.hasNext()&&i.hasNext();){var r=n.getNext(),o=i.getNext();if(r.key!==o.key||!r.value.isEqual(o.value))return!1}return!n.hasNext()&&!i.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),i=e.internalValue.getIterator();n.hasNext()&&i.hasNext();){var r=n.getNext(),o=i.getNext(),a=H(r.key,o.key)||r.value.compareTo(o.value);if(a)return a}return H(n.hasNext(),i.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(f(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var i=this.child(e.firstSegment());i instanceof t||(i=t.EMPTY);var r=i.set(e.popFirst(),n);return this.setChild(e.firstSegment(),r)},t.prototype.delete=function(e){if(f(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var i=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),i))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){f(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach((function(e){n=n instanceof t?n.internalValue.get(e):null})),n},t.prototype.fieldMask=function(){var e=new Se(oe.comparator);return this.internalValue.forEach((function(n,i){var r=new oe([n]);if(i instanceof t){var o=i.fieldMask().fields;o.isEmpty()?e=e.add(r):o.forEach((function(t){e=e.add(r.child(t))}))}else e=e.add(r)})),lt.fromSet(e)},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new we(H)),t}(Et),Mt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=dt.ArrayValue,n}return dn.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++){if(n[t].isEqual(e))return!0}return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),i=0;i<n;i++){var r=this.internalValue[i].compareTo(e.internalValue[i]);if(r)return r}return H(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},t}(Et),qt=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return ae.comparator(e.key,t.key)},e}(),Ft=function(e){function t(t,n,i,r,o,a){var s=e.call(this,t,n)||this;return s.objectValue=r,s.proto=o,s.converter=a,f(void 0!==s.objectValue||void 0!==s.proto&&void 0!==s.converter,"If objectValue is not defined, proto and converter need to be set."),s.hasLocalMutations=!!i.hasLocalMutations,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return dn.__extends(t,e),t.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var i=this.getProtoField(e);n=void 0===i?null:this.converter(i),this.fieldValueCache.set(t,n)}return n},t.prototype.data=function(){var e=this;if(!this.objectValue){var t=Pt.EMPTY;T(this.proto.fields||{},(function(n,i){t=t.set(new oe([n]),e.converter(i))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},t.prototype.value=function(){return this.data().value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.getProtoField=function(e){f(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields?this.proto.fields[e.firstSegment()]:void 0,n=1;n<e.length;++n){if(!t||!t.mapValue||!t.mapValue.fields)return;t=t.mapValue.fields[e.get(n)]}return t},t.compareByField=function(e,t,n){var i=t.field(e),r=n.field(e);return null!==i&&null!==r?i.compareTo(r):h("Trying to compare documents on fields that don't exist")},t}(qt),Bt=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return dn.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(qt),Ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dn.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(qt),Vt=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[0],s=o[1];if(a.isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(i[r][0].isEqual(e))return void(i[r]=[e,t]);i.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(i,1),!0;return!1},e.prototype.forEach=function(e){T(this.inner,(function(t,n){for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return E(this.inner)},e}(),jt=function(){function e(){this.changes=new Vt((function(e){return e.toString()})),this.changesApplied=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return f(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(e){f(void 0===this._readTime||this._readTime.isEqual(e),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=e},enumerable:!0,configurable:!0}),e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.readTime=t,this.changes.set(e.key,e)},e.prototype.removeEntry=function(e,t){this.assertNotApplied(),t&&(this.readTime=t),this.changes.set(e,null)},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Be.resolve(n):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){f(!this.changesApplied,"Changes have already been applied.")},e}(),Wt=function(){function e(e,t){this.serializer=e,this.indexManager=t}return e.prototype.addEntry=function(e,t,n){return Kt(e).put(Gt(t),n)},e.prototype.removeEntry=function(e,t){var n=Kt(e),i=Gt(t);return n.delete(i)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(i){return i.byteSize+=t,n.setMetadata(e,i)}))},e.prototype.getEntry=function(e,t){var n=this;return Kt(e).get(Gt(t)).next((function(e){return n.maybeDecodeDocument(e)}))},e.prototype.getSizedEntry=function(e,t){var n=this;return Kt(e).get(Gt(t)).next((function(e){var t=n.maybeDecodeDocument(e);return t?{maybeDocument:t,size:zt(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,i=Ae();return this.forEachDbEntry(e,t,(function(e,t){var r=n.maybeDecodeDocument(t);i=i.insert(e,r)})).next((function(){return i}))},e.prototype.getSizedEntries=function(e,t){var n=this,i=Ae(),r=new we(ae.comparator);return this.forEachDbEntry(e,t,(function(e,t){var o=n.maybeDecodeDocument(t);o?(i=i.insert(e,o),r=r.insert(e,zt(t))):(i=i.insert(e,null),r=r.insert(e,0))})).next((function(){return{maybeDocuments:i,sizeMap:r}}))},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return Be.resolve();var i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),r=t.getIterator(),o=r.getNext();return Kt(e).iterate({range:i},(function(e,t,i){for(var a=ae.fromSegments(e);o&&ae.comparator(o,a)<0;)n(o,null),o=r.getNext();o&&o.isEqual(a)&&(n(o,t),o=r.hasNext()?r.getNext():null),o?i.skip(o.path.toArray()):i.done()})).next((function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var i=this;f(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=De(),o=t.path.length+1,a={};if(n.isEqual(be.MIN)){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=an.collectionReadTimeIndex}return Kt(e).iterate(a,(function(e,n,a){if(e.length===o){var s=i.serializer.fromDbRemoteDocument(n);t.path.isPrefixOf(s.key.path)?s instanceof Ft&&t.matches(s)&&(r=r.insert(s.key,s)):a.done()}})).next((function(){return r}))},e.prototype.getNewDocumentChanges=function(e,t){var n=this,i=_e(),r=this.serializer.toDbTimestampKey(t),o=Kt(e),a=IDBKeyRange.lowerBound(r,!0);return o.iterate({index:an.readTimeIndex,range:a},(function(e,t){var o=n.serializer.fromDbRemoteDocument(t);i=i.insert(o.key,o),r=t.readTime})).next((function(){return{changedDocs:i,readTime:n.serializer.fromDbTimestampKey(r)}}))},e.prototype.getLastDocumentChange=function(e){var t,n=this,i=Kt(e),r=be.MIN;return i.iterate({index:an.readTimeIndex,reverse:!0},(function(e,i,o){t=n.serializer.fromDbRemoteDocument(i),i.readTime&&(r=n.serializer.fromDbTimestampKey(i.readTime)),o.done()})).next((function(){return{changedDoc:t,readTime:r}}))},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Ht(e).get(sn.key).next((function(e){return f(!!e,"Missing document cache metadata"),e}))},e.prototype.setMetadata=function(e,t){return Ht(e).put(sn.key,t)},e.prototype.maybeDecodeDocument=function(e){if(e){var t=this.serializer.fromDbRemoteDocument(e);return t instanceof Bt&&t.version.isEqual(be.forDeletedDoc())?null:t}return null},e.RemoteDocumentChangeBuffer=function(e){function t(t,n){var i=e.call(this)||this;return i.documentCache=t,i.trackRemovals=n,i.documentSizes=new Vt((function(e){return e.toString()})),i}return dn.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],i=0,r=new Se((function(e,t){return H(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.documentSizes.get(o);if(f(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){f(!t.readTime.isEqual(be.MIN),"Cannot add a document with a read time of zero");var u=t.documentCache.serializer.toDbRemoteDocument(a,t.readTime);r=r.add(o.path.popLast());var c=zt(u);i+=c-s,n.push(t.documentCache.addEntry(e,o,u))}else if(i-=s,t.trackRemovals){var l=t.documentCache.serializer.toDbRemoteDocument(new Bt(o,be.forDeletedDoc()),t.readTime);n.push(t.documentCache.addEntry(e,o,l))}else n.push(t.documentCache.removeEntry(e,o))})),r.forEach((function(i){n.push(t.documentCache.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.documentCache.updateMetadata(e,i)),Be.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},t}(jt),e}();function Ht(e){return Pn.getStore(e,sn.store)}function Kt(e){return Pn.getStore(e,an.store)}function Gt(e){return e.path.toArray()}function zt(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw h("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var $t=function(){function e(){this.collectionParentIndex=new Qt}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),Be.resolve()},e.prototype.getCollectionParents=function(e,t){return Be.resolve(this.collectionParentIndex.getEntries(t))},e}(),Qt=function(){function e(){this.index={}}return e.prototype.add=function(e){f(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Se(ie.comparator),r=!i.has(n);return this.index[t]=i.add(n),r},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Se(ie.comparator)).toArray()},e}(),Yt=9,Jt=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,i){var r=this;f(n<i&&n>=0&&i<=Yt,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new We(t);n<1&&i>=1&&(function(e){e.createObjectStore(Zt.store)}(e),function(e){e.createObjectStore(en.store,{keyPath:en.keyPath}),e.createObjectStore(tn.store,{keyPath:tn.keyPath,autoIncrement:!0}).createIndex(tn.userMutationsIndex,tn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(nn.store)}(e),fn(e),function(e){e.createObjectStore(an.store)}(e));var a=Be.resolve();return n<3&&i>=3&&(0!==n&&(!function(e){e.deleteObjectStore(cn.store),e.deleteObjectStore(un.store),e.deleteObjectStore(ln.store)}(e),fn(e)),a=a.next((function(){return function(e){var t=e.store(ln.store),n=new ln(0,0,be.MIN.toTimestamp(),0);return t.put(ln.key,n)}(o)}))),n<4&&i>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(tn.store).loadAll().next((function(n){e.deleteObjectStore(tn.store),e.createObjectStore(tn.store,{keyPath:tn.keyPath,autoIncrement:!0}).createIndex(tn.userMutationsIndex,tn.userMutationsKeyPath,{unique:!0});var i=t.store(tn.store),r=n.map((function(e){return i.put(e)}));return Be.waitFor(r)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(pn.store,{keyPath:pn.keyPath})}(e)}))),n<5&&i>=5&&(a=a.next((function(){return r.removeAcknowledgedMutations(o)}))),n<6&&i>=6&&(a=a.next((function(){return function(e){e.createObjectStore(sn.store)}(e),r.addDocumentGlobal(o)}))),n<7&&i>=7&&(a=a.next((function(){return r.ensureSequenceNumbers(o)}))),n<8&&i>=8&&(a=a.next((function(){return r.createCollectionParentIndex(e,o)}))),n<9&&i>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(an.store);t.createIndex(an.readTimeIndex,an.readTimeIndexPath,{unique:!1}),t.createIndex(an.collectionReadTimeIndex,an.collectionReadTimeIndexPath,{unique:!1})}(t)}))),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(an.store).iterate((function(e,n){t+=zt(n)})).next((function(){var n=new sn(t);return e.store(sn.store).put(sn.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(en.store),i=e.store(tn.store);return n.loadAll().next((function(n){return Be.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.loadAll(tn.userMutationsIndex,r).next((function(i){return Be.forEach(i,(function(i){f(i.userId===n.userId,"Cannot process batch "+i.batchId+" from unexpected user");var r=t.serializer.fromDbMutationBatch(i);return Ye(e,n.userId,r).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(cn.store),n=e.store(an.store);return st(e).next((function(e){var i=[];return n.iterate((function(n,r){var o=new ie(n),a=function(e){return[0,pe(e)]}(o);i.push(t.get(a).next((function(n){return n?Be.resolve():function(n){return t.put(new cn(0,pe(n),e))}(o)})))})).next((function(){return Be.waitFor(i)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(hn.store,{keyPath:hn.keyPath});var n=t.store(hn.store),i=new Qt,r=function(e){if(i.add(e)){var t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:pe(r)})}};return t.store(an.store).iterate({keysOnly:!0},(function(e,t){var n=new ie(e);return r(n.popLast())})).next((function(){return t.store(nn.store).iterate({keysOnly:!0},(function(e,t){e[0];var n=e[1],i=(e[2],ge(n));return r(i.popLast())}))}))},e}();var Xt=function(e,t){this.seconds=e,this.nanoseconds=t},Zt=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}();var en=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),tn=function(){function e(e,t,n,i,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}();var nn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,pe(t)]},e.key=function(e,t,n){return[e,pe(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}();var rn=function(e,t){this.path=e,this.readTime=t},on=function(e,t){this.path=e,this.version=t},an=function(){function e(e,t,n,i,r,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o}return e.store="remoteDocuments",e.readTimeIndex="readTimeIndex",e.readTimeIndexPath="readTime",e.collectionReadTimeIndex="collectionReadTimeIndex",e.collectionReadTimeIndexPath=["parentPath","readTime"],e}(),sn=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}();var un=function(){function e(e,t,n,i,r,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=a}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),cn=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,f(0===e==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),ln=function(){function e(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),hn=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function fn(e){e.createObjectStore(cn.store,{keyPath:cn.keyPath}).createIndex(cn.documentTargetsIndex,cn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(un.store,{keyPath:un.keyPath}).createIndex(un.queryTargetsIndexName,un.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ln.store)}var pn=function(){function e(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i}return e.store="clientMetadata",e.keyPath="clientId",e}();var mn,vn=[en.store,tn.store,nn.store,an.store,un.store,Zt.store,ln.store,cn.store],gn=dn.__spreadArrays(vn,[pn.store]),yn=dn.__spreadArrays(gn,[sn.store]),bn=dn.__spreadArrays(yn,[hn.store]),wn=function(){function e(){this.collectionParentsCache=new Qt}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(f(t.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(t)){var i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((function(){n.collectionParentsCache.add(t)}));var o={collectionId:i,parent:pe(r)};return Tn(e).put(o)}return Be.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],i=IDBKeyRange.bound([t,""],[G(t),""],!1,!0);return Tn(e).loadAll(i).next((function(e){for(var i=0,r=e;i<r.length;i++){var o=r[i];if(o.collectionId!==t)break;n.push(ge(o.parent))}return n}))},e}();function Tn(e){return Pn.getStore(e,hn.store)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(mn||(mn={}));var En=function(){function e(e,t,n,i,r,o,a){void 0===r&&(r=be.MIN),void 0===o&&(o=be.MIN),void 0===a&&(a=p()),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(e.lastLimboFreeSnapshotVersion)&&this.resumeToken===e.resumeToken&&this.target.isEqual(e.target)},e}(),In=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=ae.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new Bt(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){t=ae.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new Ut(t,n)}return h("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e,t){var n=this.toDbTimestampKey(t),i=e.key.path.popLast().toArray();if(e instanceof Ft){var r=e.proto?e.proto:this.remoteSerializer.toDocument(e),o=e.hasCommittedMutations;return new an(null,null,r,o,n,i)}if(e instanceof Bt){var a=e.key.path.toArray(),s=this.toDbTimestamp(e.version);o=e.hasCommittedMutations;return new an(null,new rn(a,s),null,o,n,i)}if(e instanceof Ut){a=e.key.path.toArray();var u=this.toDbTimestamp(e.version);return new an(new on(a,u),null,null,!0,n,i)}return h("Unexpected MaybeDocument")},e.prototype.toDbTimestampKey=function(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]},e.prototype.fromDbTimestampKey=function(e){var t=new ye(e[0],e[1]);return be.fromTimestamp(t)},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new Xt(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new ye(e.seconds,e.nanoseconds);return be.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,i=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),r=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new tn(e,t.batchId,t.localWriteTime.toMillis(),i,r)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),i=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),r=ye.fromMillis(e.localWriteTimeMs);return new qe(e.batchId,r,n,i)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(pe(e.path))})),t},e.prototype.fromDbResourcePaths=function(e){for(var t=Oe(),n=0,i=e;n<i.length;n++){var r=i[n];t=t.add(new ae(ge(r)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(e.lastLimboFreeSnapshotVersion):be.MIN,r=e.resumeToken;return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new En(t,e.targetId,mn.Listen,e.lastListenSequenceNumber,n,i,r)},e.prototype.toDbTarget=function(e){f(mn.Listen===e.purpose,"Only queries with purpose "+mn.Listen+" may be stored, got "+e.purpose);var t,n,i=this.toDbTimestamp(e.snapshotVersion),r=this.toDbTimestamp(e.lastLimboFreeSnapshotVersion);return t=e.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.target):this.remoteSerializer.toQueryTarget(e.target),e.resumeToken instanceof Uint8Array?(f(Ve.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new un(e.targetId,e.target.canonicalId(),i,n,e.sequenceNumber,r,t)},e}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Sn(e,t){var n=e[0],i=e[1],r=t[0],o=t[1],a=H(n,r);return 0===a?H(i,o):a}var kn=function(){function e(e){this.maxElements=e,this.buffer=new Se(Sn),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Sn(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Cn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_n=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),An=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}return e.prototype.start=function(){f(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==_n.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;f(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;u("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Q.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(Mn)}))},e}(),Nn=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Be.resolve(te.INVALID);var i=new kn(t);return this.delegate.forEachTarget(e,(function(e){return i.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return i.addElement(e)}))})).next((function(){return i.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===_n.COLLECTION_DISABLED?(u("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(Cn)):this.getCacheSize(e).next((function(i){return i<n.params.cacheSizeCollectionThreshold?(u("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Cn):n.runGarbageCollection(e,t)}))},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var i,r,o,s,c,l,h,f=this,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>f.params.maximumSequenceNumbersToCollect?(u("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+t),r=f.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),f.nthSequenceNumber(e,r)})).next((function(n){return i=n,c=Date.now(),f.removeTargets(e,i,t)})).next((function(t){return o=t,l=Date.now(),f.removeOrphanedDocuments(e,i)})).next((function(e){(h=Date.now(),a()<=n.DEBUG)&&u("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-d)+"ms\n\tDetermined least recently used "+r+" in "+(c-s)+"ms\n\tRemoved "+o+" targets in "+(l-c)+"ms\n\tRemoved "+e+" documents in "+(h-l)+"ms\nTotal Duration: "+(h-d)+"ms");return Be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},e}(),Dn=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),xn="IndexedDbPersistence",Ln="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",On=function(e){function t(t,n){var i=e.call(this)||this;return i.simpleDbTransaction=t,i.currentSequenceNumber=n,i}return dn.__extends(t,e),t}(Dn),Pn=function(){function e(t,n,i,r,o,a,s,u){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.queue=a,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new Bn(this,o),this.dbName=n+e.MAIN_DATABASE,this.serializer=new In(s),this.document=r.document,this.targetCache=new rt(this.referenceDelegate,this.serializer),this.indexManager=new wn,this.remoteDocumentCache=new Wt(this.serializer,this.indexManager),!r.window||!r.window.localStorage)throw new v(m.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof On)return Ve.getStore(e.simpleDbTransaction,t);throw h("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t){return dn.__awaiter(this,void 0,void 0,(function(){var n;return dn.__generator(this,(function(i){switch(i.label){case 0:if(!e.isAvailable())throw new v(m.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new e(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return i.sent(),[2,n]}}))}))},e.prototype.start=function(){var e=this;return f(!this.started,"IndexedDbPersistence double-started!"),f(null!==this.window,"Expected 'window' to be defined"),Ve.openOrCreate(this.dbName,Yt,new Jt(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.simpleDb.runTransaction("readonly-idempotent",[ln.store],(function(e){return st(e)}))})).then((function(t){e.listenSequence=new te(t,e.sequenceNumberSyncer)})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return dn.__awaiter(t,void 0,void 0,(function(){return dn.__generator(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return dn.__awaiter(t,void 0,void 0,(function(){return dn.__generator(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return dn.__awaiter(t,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite-idempotent",bn,(function(t){return Fn(t).put(new pn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){return e.isPrimary&&!n?e.releasePrimaryLeaseIfHeld(t).next((function(){return!1})):!!n&&e.acquireOrExtendPrimaryLease(t).next((function(){return!0}))}))})).catch((function(t){if(!e.allowTabSynchronization)throw t;return u(xn,"Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(t)})),e.isPrimary=t}))},e.prototype.verifyPrimaryLease=function(e){var t=this;return qn(e).get(Zt.key).next((function(e){return Be.resolve(t.isLocalClient(e))}))},e.prototype.removeClientMetadata=function(e){return Fn(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return dn.__awaiter(this,void 0,void 0,(function(){var t=this;return dn.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var i=e.getStore(n,pn.store);return i.loadAll().next((function(e){var n=t.filterActiveClients(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Be.forEach(r,(function(e){return i.delete(e.clientId)})).next((function(){return r}))}))}))]);case 1:n.sent().forEach((function(e){t.window.localStorage.removeItem(t.zombiedClientLocalStorageKey(e.clientId))})),n.label=2;case 2:return[2]}}))}))},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Q.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return qn(e).get(Zt.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new v(m.FAILED_PRECONDITION,Rn);return!1}}return!(!t.networkEnabled||!t.inForeground)||Fn(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,i=!t.inForeground&&e.inForeground,r=t.networkEnabled===e.networkEnabled;if(n||i&&r)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&u(xn,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return dn.__awaiter(this,void 0,void 0,(function(){var e=this;return dn.__generator(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[Zt.store,pn.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly-idempotent",[pn.store],(function(t){return Fn(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return dn.__awaiter(this,void 0,void 0,(function(){var n;return dn.__generator(this,(function(i){switch(i.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,Ve.delete(n)]):[2,Promise.resolve()];case 1:return i.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return f(this.started,"Cannot initialize MutationQueue before persistence is started."),$e.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getTargetCache=function(){return f(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},e.prototype.getRemoteDocumentCache=function(){return f(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return f(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var i=this;u(xn,"Starting transaction:",e);var r,o=t.endsWith("idempotent"),a=t.startsWith("readonly")?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite";return this.simpleDb.runTransaction(a,bn,(function(o){return r=new On(o,i.listenSequence.next()),"readwrite-primary"===t||"readwrite-primary-idempotent"===t?i.verifyPrimaryLease(o).next((function(e){return!!e||i.canActAsPrimary(o)})).next((function(t){if(!t)throw c("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.queue.enqueueAndForget((function(){return i.primaryStateListener(!1)})),new v(m.FAILED_PRECONDITION,Ln);return n(r)})).next((function(e){return i.acquireOrExtendPrimaryLease(o).next((function(){return e}))})):i.verifyAllowTabSynchronization(o).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return qn(e).get(Zt.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new v(m.FAILED_PRECONDITION,Rn)}))},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new Zt(this.clientId,this.allowTabSynchronization,Date.now());return qn(e).put(Zt.key,t)},e.isAvailable=function(){return Ve.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=qn(e);return n.get(Zt.key).next((function(e){return t.isLocalClient(e)?(u(xn,"Releasing primary lease."),n.delete(Zt.key)):Be.resolve()}))},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(c("Detected an update time that is in the future: "+e+" > "+n),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(f(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(f("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return u(xn,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return c(xn,"Failed to get zombied client id.",e),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){c("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function Mn(e){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(t){if(!function(e){return e.code===m.FAILED_PRECONDITION&&e.message===Ln}(e))throw e;return u(xn,"Unexpectedly lost primary lease"),[2]}))}))}function qn(e){return e.store(Zt.store)}function Fn(e){return e.store(pn.store)}var Bn=function(){function e(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Nn(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return Un(e,t)},e.prototype.removeReference=function(e,t){return Un(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return Un(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?Be.resolve(!0):function(e,t){var n=!1;return et(e).iterateSerial((function(i){return Qe(e,i,t).next((function(e){return e&&(n=!0),Be.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.forEachOrphanedDocument(e,(function(a,s){if(s<=t){var u=n.isPinned(e,a).next((function(t){if(!t)return o++,i.getEntry(e,a).next((function(){return i.removeEntry(a),ut(e).delete([0,pe(a.path)])}))}));r.push(u)}})).next((function(){return Be.waitFor(r)})).next((function(){return i.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Un(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,i=ut(e),r=te.INVALID;return i.iterate({index:cn.documentTargetsIndex},(function(e,i){var o=e[0],a=(e[1],i.path),s=i.sequenceNumber;0===o?(r!==te.INVALID&&t(new ae(ge(n)),r),r=s,n=a):r=te.INVALID})).next((function(){r!==te.INVALID&&t(new ae(ge(n)),r)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Un(e,t){return ut(e).put(function(e,t){return new cn(0,pe(e.path),t)}(t,e.currentSequenceNumber))}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Vn=Number,jn=Vn.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Wn=Vn.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Hn=Vn.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Kn(e){return null==e}function Gn(e){return Hn(e)&&e<=Wn&&e>=jn}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zn,$n=function(){function e(e,t,n,i,r,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}return e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();null!==this.collectionGroup&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var i=0,r=this.orderBy;i<r.length;i++){e+=r[i].canonicalId(),e+=","}Kn(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e=this.path.canonicalString();return null!==this.collectionGroup&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),Kn(this.limit)||(e+=", limit: "+this.limit),this.orderBy.length>0&&(e+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),"Target("+e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&(!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)))},e.prototype.isDocumentQuery=function(){return ae.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e.First="F",e.Last="L"}(zn||(zn={}));var Qn=function(){function e(e,t,n,i,r,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=zn.First),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=s,this.memoizedOrderBy=null,this.memoizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[si]:this.memoizedOrderBy=[new ai(e),si];else{f(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,i=0,r=this.explicitOrderBy;i<r.length;i++){var o=r[i];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:ri.ASCENDING;this.memoizedOrderBy.push(a===ri.ASCENDING?si:ui)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){f(null==this.getInequalityFilterField()||!(t instanceof Xn)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),f(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){f(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.withLimitToFirst=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,zn.First,this.startAt,this.endAt)},e.prototype.withLimitToLast=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,zn.Last,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},e.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},e.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},e.prototype.isEqual=function(e){return this.toTarget().isEqual(e.toTarget())&&this.limitType===e.limitType},e.prototype.docComparator=function(e,t){for(var n=!1,i=0,r=this.orderBy;i<r.length;i++){var o=r[i],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return f(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimitToFirst=function(){return!Kn(this.limit)&&this.limitType===zn.First},e.prototype.hasLimitToLast=function(){return!Kn(this.limit)&&this.limitType===zn.Last},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Xn&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var i=n[t];if(i instanceof Xn&&e.indexOf(i.op)>=0)return i.op}return null},e.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.toTarget=function(){if(!this.memoizedTarget)if(this.limitType===zn.First)this.memoizedTarget=new $n(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var e=[],t=0,n=this.orderBy;t<n.length;t++){var i=n[t],r=i.dir===ri.DESCENDING?ri.ASCENDING:ri.DESCENDING;e.push(new ai(i.field,r))}var o=this.endAt?new oi(this.endAt.position,!this.endAt.before):null,a=this.startAt?new oi(this.startAt.position,!this.startAt.before):null;this.memoizedTarget=new $n(this.path,this.collectionGroup,e,this.filters,this.limit,o,a)}return this.memoizedTarget},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):ae.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var i=n[t];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){f(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),Yn=function(){},Jn=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return h("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),Xn=function(e){function t(t,n,i){var r=e.call(this)||this;return r.field=t,r.op=n,r.value=i,r}return dn.__extends(t,e),t.create=function(e,n,i){if(e.isKeyField())return n===Jn.IN?(f(i instanceof Mt,"Comparing on key with IN, but filter value not an ArrayValue"),f(i.internalValue.every((function(e){return e instanceof Rt})),"Comparing on key with IN, but an array value was not a RefValue"),new ei(e,i)):(f(i instanceof Rt,"Comparing on key, but filter value not a RefValue"),f(n!==Jn.ARRAY_CONTAINS&&n!==Jn.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Zn(e,n,i));if(i.isEqual(It.INSTANCE)){if(n!==Jn.EQUAL)throw new v(m.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,i)}if(i.isEqual(At.NAN)){if(n!==Jn.EQUAL)throw new v(m.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,i)}return n===Jn.ARRAY_CONTAINS?new ti(e,i):n===Jn.IN?(f(i instanceof Mt,"IN filter has invalid value: "+i.toString()),new ni(e,i)):n===Jn.ARRAY_CONTAINS_ANY?(f(i instanceof Mt,"ARRAY_CONTAINS_ANY filter has invalid value: "+i.toString()),new ii(e,i)):new t(e,n,i)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case Jn.LESS_THAN:return e<0;case Jn.LESS_THAN_OR_EQUAL:return e<=0;case Jn.EQUAL:return 0===e;case Jn.GREATER_THAN:return e>0;case Jn.GREATER_THAN_OR_EQUAL:return e>=0;default:return h("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[Jn.LESS_THAN,Jn.LESS_THAN_OR_EQUAL,Jn.GREATER_THAN,Jn.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(Yn),Zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dn.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=ae.comparator(e.key,t.key);return this.matchesComparison(n)},t}(Xn),ei=function(e){function t(t,n){var i=e.call(this,t,Jn.IN,n)||this;return i.value=n,i}return dn.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},t}(Xn),ti=function(e){function t(t,n){return e.call(this,t,Jn.ARRAY_CONTAINS,n)||this}return dn.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Mt&&t.contains(this.value)},t}(Xn),ni=function(e){function t(t,n){var i=e.call(this,t,Jn.IN,n)||this;return i.value=n,i}return dn.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(Xn),ii=function(e){function t(t,n){var i=e.call(this,t,Jn.ARRAY_CONTAINS_ANY,n)||this;return i.value=n,i}return dn.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Mt&&n.internalValue.some((function(e){return t.value.contains(e)}))},t}(Xn),ri=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),oi=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){f(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=e[i],o=this.position[i];if(r.field.isKeyField())f(o instanceof Rt,"Bound has a non-key value where the key path is being used."),n=ae.comparator(o.key,t.key);else{var a=t.field(r.field);f(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(r.dir===ri.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],i=e.position[t];if(!n.isEqual(i))return!1}return!0},e}(),ai=function(){function e(e,t){this.field=e,void 0===t&&(t=ri.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Ft.compareByKey(e,t):Ft.compareByField(this.field,e,t);switch(this.dir){case ri.ASCENDING:return n;case ri.DESCENDING:return-1*n;default:return h("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),si=new ai(oe.keyField(),ri.ASCENDING),ui=new ai(oe.keyField(),ri.DESCENDING),ci=function(){function e(){}return e.prototype.setLocalDocumentsView=function(e){this.localDocumentsView=e},e.prototype.getDocumentsMatchingQuery=function(e,t,i,r){var o=this;return f(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),t.matchesAllDocuments()?this.executeFullCollectionScan(e,t):i.isEqual(be.MIN)?this.executeFullCollectionScan(e,t):this.localDocumentsView.getDocuments(e,r).next((function(s){var c=o.applyQuery(t,s);return(t.hasLimitToFirst()||t.hasLimitToLast())&&o.needsRefill(t.limitType,c,r,i)?o.executeFullCollectionScan(e,t):(a()<=n.DEBUG&&u("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),t.toString()),o.localDocumentsView.getDocumentsMatchingQuery(e,t,i).next((function(e){return c.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.applyQuery=function(e,t){var n=new Se((function(t,n){return e.docComparator(t,n)}));return t.forEach((function(t,i){i instanceof Ft&&e.matches(i)&&(n=n.add(i))})),n},e.prototype.needsRefill=function(e,t,n,i){if(n.size!==t.size)return!0;var r=e===zn.First?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)},e.prototype.executeFullCollectionScan=function(e,t){return a()<=n.DEBUG&&u("IndexFreeQueryEngine","Using full collection scan to execute query: %s",t.toString()),this.localDocumentsView.getDocumentsMatchingQuery(e,t,be.MIN)},e}(),li=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(i){return n.getDocumentInternal(e,t,i)}))},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var i=0,r=n;i<r.length;i++){e=r[i].applyToLocalView(t,e)}return e}))},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var i=Ae();return t.forEach((function(e,t){for(var r=0,o=n;r<o.length;r++){t=o[r].applyToLocalView(e,t)}i=i.insert(e,t)})),i},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(i){var r=n.applyLocalMutationsToDocuments(e,t,i),o=_e();return r.forEach((function(e,t){t||(t=new Bt(e,be.forDeletedDoc())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new ae(t)).next((function(e){var t=De();return e instanceof Ft&&(t=t.insert(e.key,e)),t}))},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t,n){var i=this;f(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,o=De();return this.indexManager.getCollectionParents(e,r).next((function(a){return Be.forEach(a,(function(a){var s=t.asCollectionQueryAtPath(a.child(r));return i.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t,n){var i,r,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n).next((function(n){return i=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return r=t,o.addMissingBaseDocuments(e,r,i).next((function(e){i=e;for(var t=0,n=r;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=i.get(c),h=u.applyToLocalView(l,l,o.localWriteTime);i=h instanceof Ft?i.insert(c,h):i.remove(c)}}))})).next((function(){return i.forEach((function(e,n){t.matches(n)||(i=i.remove(e))})),i}))},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var i=Oe(),r=0,o=t;r<o.length;r++)for(var a=0,s=o[r].mutations;a<s.length;a++){var u=s[a];u instanceof yt&&null===n.get(u.key)&&(i=i.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(e,i).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Ft&&(c=c.insert(e,t))})),c}))},e}(),hi=function(){function e(){this.refsByKey=new Se(fi.compareByKey),this.refsByTarget=new Se(fi.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new fi(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.removeRef(new fi(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.removeReferencesForId=function(e){var t=this,n=ae.EMPTY,i=new fi(n,e),r=new fi(n,e+1),o=[];return this.refsByTarget.forEachInRange([i,r],(function(e){t.removeRef(e),o.push(e.key)})),o},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=ae.EMPTY,n=new fi(t,e),i=new fi(t,e+1),r=Oe();return this.refsByTarget.forEachInRange([n,i],(function(e){r=r.add(e.key)})),r},e.prototype.containsKey=function(e){var t=new fi(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),fi=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return ae.comparator(e.key,t.key)||H(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return H(e.targetOrBatchId,t.targetOrBatchId)||ae.comparator(e.key,t.key)},e}(),di=function(){function e(e,t,n){this.persistence=e,this.queryEngine=t,this.localViewReferences=new hi,this.targetDataByTarget=new we(H),this.targetIdByTarget=new Vt((function(e){return e.canonicalId()})),this.lastDocumentChangeReadTime=be.MIN,f(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(n),this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.localDocuments=new li(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return e.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},e.prototype.handleUserChange=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n,i,r=this;return dn.__generator(this,(function(o){switch(o.label){case 0:return t=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(i){var o;return r.mutationQueue.getAllMutationBatches(i).next((function(a){return o=a,t=r.persistence.getMutationQueue(e),n=new li(r.remoteDocuments,t,r.persistence.getIndexManager()),t.getAllMutationBatches(i)})).next((function(e){for(var t=[],r=[],a=Oe(),s=0,u=o;s<u.length;s++){var c=u[s];t.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){c=p[d];r.push(c.batchId);for(var m=0,v=c.mutations;m<v.length;m++){f=v[m];a=a.add(f.key)}}return n.getDocuments(i,a).next((function(e){return{affectedDocuments:e,removedBatchIds:t,addedBatchIds:r}}))}))}))];case 1:return i=o.sent(),this.mutationQueue=t,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,i]}}))}))},e.prototype.localWrite=function(e){var t,n=this,i=ye.now(),r=e.reduce((function(e,t){return e.add(t.key)}),Oe());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.localDocuments.getDocuments(o,r).next((function(r){t=r;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=c.extractBaseValue(t.get(c.key));null!=l&&a.push(new yt(c.key,l,l.fieldMask(),mt.exists(!0)))}return n.mutationQueue.addMutationBatch(o,i,a,e)}))})).then((function(e){var n=e.applyToLocalDocumentSet(t);return{batchId:e.batchId,changes:n}}))},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):Be.resolve(null)}))}))},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var i=e.batch.keys(),r=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,r)})).next((function(){return r.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,i)}))}))},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var i;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return f(null!==e,"Attempt to reject nonexistent batch!"),i=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,i)}))}))},e.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(t){return e.targetCache.getLastRemoteSnapshotVersion(t)}))},e.prototype.applyRemoteEvent=function(t){var n=this,i=t.snapshotVersion,r=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(o){var a=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});r=n.targetDataByTarget;var s=[];w(t.targetChanges,(function(t,a){var u=r.get(t);if(u){s.push(n.targetCache.removeMatchingKeys(o,a.removedDocuments,t).next((function(){return n.targetCache.addMatchingKeys(o,a.addedDocuments,t)})));var c=a.resumeToken;if(c.length>0){var l=u.withResumeToken(c,i).withSequenceNumber(o.currentSequenceNumber);r=r.insert(t,l),e.shouldPersistTargetData(u,l,a)&&s.push(n.targetCache.updateTargetData(o,l))}}}));var c=_e(),l=Oe();if(t.documentUpdates.forEach((function(e,t){l=l.add(e)})),s.push(a.getEntries(o,l).next((function(e){t.documentUpdates.forEach((function(r,l){var h=e.get(r);l instanceof Bt&&l.version.isEqual(be.MIN)?(a.removeEntry(r,i),c=c.insert(r,l)):null==h||l.version.compareTo(h.version)>0||0===l.version.compareTo(h.version)&&h.hasPendingWrites?(f(!be.MIN.isEqual(i),"Cannot add a document when the remote version is zero"),a.addEntry(l,i),c=c.insert(r,l)):u("LocalStore","Ignoring outdated watch update for ",r,". Current version:",h.version," Watch version:",l.version),t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,r))}))}))),!i.isEqual(be.MIN)){var h=n.targetCache.getLastRemoteSnapshotVersion(o).next((function(e){return f(i.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+e),n.targetCache.setTargetsMetadata(o,o.currentSequenceNumber,i)}));s.push(h)}return Be.waitFor(s).next((function(){return a.apply(o)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(o,c)}))})).then((function(e){return n.targetDataByTarget=r,e}))},e.shouldPersistTargetData=function(e,t,n){return f(t.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===e.resumeToken.length||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},e.prototype.notifyLocalViewChanges=function(e){for(var t=this,n=0,i=e;n<i.length;n++){var r=i[n],o=r.targetId;if(this.localViewReferences.addReferences(r.addedKeys,o),this.localViewReferences.removeReferences(r.removedKeys,o),!r.fromCache){var a=this.targetDataByTarget.get(o);f(null!==a,"Can't set limbo-free snapshot version for unknown target: "+o);var s=a.snapshotVersion,u=a.withLastLimboFreeSnapshotVersion(s);this.targetDataByTarget=this.targetDataByTarget.insert(o,u)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return Be.forEach(e,(function(e){return Be.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return t.localDocuments.getDocument(n,e)}))},e.prototype.allocateTarget=function(e){var t=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var i;return t.targetCache.getTargetData(n,e).next((function(r){return r?(i=r,Be.resolve(i)):t.targetCache.allocateTargetId(n).next((function(r){return i=new En(e,r,mn.Listen,n.currentSequenceNumber),t.targetCache.addTargetData(n,i).next((function(){return i}))}))}))})).then((function(n){return null===t.targetDataByTarget.get(n.targetId)&&(t.targetDataByTarget=t.targetDataByTarget.insert(n.targetId,n),t.targetIdByTarget.set(e,n.targetId)),n}))},e.prototype.getTargetData=function(e,t){var n=this.targetIdByTarget.get(t);return void 0!==n?Be.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(e,t)},e.prototype.releaseTarget=function(e,t){var n=this,i=this.targetDataByTarget.get(e);f(null!==i,"Tried to release nonexistent target: "+e);var r=t?"readwrite-idempotent":"readwrite-primary-idempotent";return this.persistence.runTransaction("Release target",r,(function(r){var o=n.localViewReferences.removeReferencesForId(e);return t?Be.resolve():Be.forEach(o,(function(e){return n.persistence.referenceDelegate.removeReference(r,e)})).next((function(){n.persistence.referenceDelegate.removeTarget(r,i)}))})).then((function(){n.targetDataByTarget=n.targetDataByTarget.remove(e),n.targetIdByTarget.delete(i.target)}))},e.prototype.executeQuery=function(e,t){var n=this,i=be.MIN,r=Oe();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.getTargetData(o,e.toTarget()).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(o,e.targetId).next((function(e){r=e}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(o,e,t?i:be.MIN,t?r:Oe())})).next((function(e){return{documents:e,remoteKeys:r}}))}))},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return t.targetCache.getMatchingKeysForTargetId(n,e)}))},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var i=this,r=t.batch,o=r.keys(),a=Be.resolve();return o.forEach((function(i){a=a.next((function(){return n.getEntry(e,i)})).next((function(e){var o=e,a=t.docVersions.get(i);f(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,t))?n.addEntry(o,t.commitVersion):f(!e,"Mutation batch "+r+" applied to document "+e+" resulted in null"))}))})),a.next((function(){return i.mutationQueue.removeMutationBatch(e,r)}))},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return e.collect(n,t.targetDataByTarget)}))},e.prototype.getTarget=function(e){var t=this,n=this.targetDataByTarget.get(e);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return t.targetCache.getTargetDataForTarget(n,e).next((function(e){return e?e.target:null}))}))},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(t){return e.remoteDocuments.getNewDocumentChanges(t,e.lastDocumentChangeReadTime)})).then((function(t){var n=t.changedDocs,i=t.readTime;return e.lastDocumentChangeReadTime=i,n}))},e.prototype.synchronizeLastDocumentChangeReadTime=function(){return dn.__awaiter(this,void 0,void 0,(function(){var e,t=this;return dn.__generator(this,(function(n){return this.remoteDocuments instanceof Wt?(e=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.getLastDocumentChange(t)})).then((function(e){var n=e.readTime;t.lastDocumentChangeReadTime=n}))]):[2]}))}))},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),pi=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=p(),this.batchesByDocumentKey=new Se(fi.compareByKey)}return e.prototype.checkEmpty=function(e){return Be.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var i=t.batchId,r=this.indexOfExistingBatchId(i,"acknowledged");f(0===r,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[r];return f(i===o.batchId,"Queue ordering failure: expected batch "+i+", got batch "+o.batchId),this.lastStreamToken=n,Be.resolve()},e.prototype.getLastStreamToken=function(e){return Be.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,Be.resolve()},e.prototype.addMutationBatch=function(e,t,n,i){f(0!==i.length,"Mutation batches should not be empty");var r=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&f(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var o=new qe(r,t,n,i);this.mutationQueue.push(o);for(var a=0,s=i;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new fi(u.key,r)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return Be.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Be.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return f(null!=n,"Failed to find local mutation batch."),Be.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,i=this.indexOfBatchId(n),r=i<0?0:i;return Be.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Be.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},e.prototype.getAllMutationBatches=function(e){return Be.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,i=new fi(t,0),r=new fi(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([i,r],(function(e){f(t.isEqual(e.key),"Should only iterate over a single key's batches");var i=n.findMutationBatch(e.targetOrBatchId);f(null!==i,"Batches in the index must exist in the main table"),o.push(i)})),Be.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,i=new Se(H);return t.forEach((function(e){var t=new fi(e,0),r=new fi(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,r],(function(t){f(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),i=i.add(t.targetOrBatchId)}))})),Be.resolve(this.findMutationBatches(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){f(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,i=n.length+1,r=n;ae.isDocumentKey(r)||(r=r.child(""));var o=new fi(new ae(r),0),a=new Se(H);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(a=a.add(e.targetOrBatchId)),!0)}),o),Be.resolve(this.findMutationBatches(a))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var i=t.findMutationBatch(e);null!==i&&n.push(i)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;f(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var i=this.batchesByDocumentKey;return Be.forEach(t.mutations,(function(r){var o=new fi(r.key,t.batchId);return i=i.delete(o),n.referenceDelegate.removeMutationReference(e,r.key)})).next((function(){n.batchesByDocumentKey=i}))},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new fi(t,0),i=this.batchesByDocumentKey.firstAfterOrEqual(n);return Be.resolve(t.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&f(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Be.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return f(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return f(n.batchId===e,"If found batch must match"),n},e}();var mi,vi=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new we(ae.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){f(!n.isEqual(be.MIN),"Cannot add a document with a read time of zero");var i=t.key,r=this.docs.get(i),o=r?r.size:0,a=this.sizer(t);return this.docs=this.docs.insert(i,{maybeDocument:t,size:a,readTime:n}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Be.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,i=Ae();return t.forEach((function(e){var t=n.docs.get(e);i=i.insert(e,t?t.maybeDocument:null)})),Be.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){f(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var i=De(),r=new ae(t.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof Ft&&t.matches(c)&&(i=i.insert(c.key,c))}return Be.resolve(i)},e.prototype.forEachDocumentKey=function(e,t){return Be.forEach(this.docs,(function(e){return t(e)}))},e.prototype.getNewDocumentChanges=function(e,t){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return Be.resolve(this.size)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return dn.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(i,r){r?n.push(t.documentCache.addEntry(e,r,t.readTime)):t.documentCache.removeEntry(i)})),Be.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},t}(jt),e}(),gi=function(){function e(e){this.persistence=e,this.targets=new Vt((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=be.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new hi,this.targetCount=0,this.targetIdGenerator=it.forTargetCache()}return e.prototype.forEachTarget=function(e,t){return this.targets.forEach((function(e,n){return t(n)})),Be.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Be.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Be.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,Be.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),Be.resolve()},e.prototype.saveTargetData=function(e){this.targets.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return f(!this.targets.has(t.target),"Adding a target that already exists"),this.saveTargetData(t),this.targetCount+=1,Be.resolve()},e.prototype.updateTargetData=function(e,t){return f(this.targets.has(t.target),"Updating a non-existent target"),this.saveTargetData(t),Be.resolve()},e.prototype.removeTargetData=function(e,t){return f(this.targetCount>0,"Removing a target from an empty cache"),f(this.targets.has(t.target),"Removing a non-existent target from the cache"),this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,Be.resolve()},e.prototype.removeTargets=function(e,t,n){var i=this,r=0,o=[];return this.targets.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i.targets.delete(a),o.push(i.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Be.waitFor(o).next((function(){return r}))},e.prototype.getTargetCount=function(e){return Be.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.targets.get(t)||null;return Be.resolve(n)},e.prototype.getTargetDataForTarget=function(e,t){return h("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((function(t){r.push(i.addReference(e,t))})),Be.waitFor(r)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((function(t){r.push(i.removeReference(e,t))})),Be.waitFor(r)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),Be.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return Be.resolve(n)},e.prototype.containsKey=function(e,t){return Be.resolve(this.references.containsKey(t))},e}(),yi=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new te(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.targetCache=new gi(this);this.indexManager=new $t,this.remoteDocumentCache=new vi(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}return e.createLruPersistence=function(t,n,i){return new e(t,(function(e){return new Ti(e,new In(n),i)}))},e.createEagerPersistence=function(t){return new e(t,(function(e){return new wi(e)}))},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(e){return[2,[this.clientId]]}))}))},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new pi(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.targetCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var i=this;u("MemoryPersistence","Starting transaction:",e);var r=new bi(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(r).next((function(e){return i.referenceDelegate.onTransactionCommitted(r).next((function(){return e}))})).toPromise().then((function(e){return r.raiseOnCommittedEvent(),e}))},e.prototype.mutationQueuesContainKey=function(e,t){return Be.or((n=this.mutationQueues,i=[],T(n,(function(e,t){return i.push(t)})),i).map((function(n){return function(){return n.containsKey(e,t)}})));var n,i},e}(),bi=function(e){function t(t){var n=e.call(this)||this;return n.currentSequenceNumber=t,n}return dn.__extends(t,e),t}(Dn),wi=function(){function e(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(e.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw h("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),Be.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),Be.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),Be.resolve()},e.prototype.removeTarget=function(e,t){var n=this,i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return i.removeTargetData(e,t)}))},e.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.orphanedDocuments,(function(i){return t.isReferenced(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return Be.or([function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return Be.resolve(n.inMemoryPins.containsKey(t))}])},e}(),Ti=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Vt((function(e){return pe(e.path)})),this.garbageCollector=new Nn(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return Be.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return Be.forEach(this.orphanedSequenceNumbers,(function(i,r){return n.isPinned(e,i,r).next((function(e){return e?Be.resolve():t(r)}))}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,i=0,r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.forEachDocumentKey(e,(function(r){return n.isPinned(e,r,t).next((function(e){e||(i++,o.removeEntry(r))}))})).next((function(){return o.apply(e)})).next((function(){return i}))},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Be.resolve()},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Be.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Be.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Be.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e,e.version);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw h("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var i=this;return Be.or([function(){return i.persistence.mutationQueuesContainKey(e,t)},function(){return Be.resolve(i.inMemoryPins.containsKey(t))},function(){return i.persistence.getTargetCache().containsKey(e,t)},function(){var e=i.orphanedSequenceNumbers.get(t);return Be.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),Ei=1e3,Ii=1.5,Si=6e4,ki=function(){function e(e,t,n,i,r){void 0===n&&(n=Ei),void 0===i&&(i=Ii),void 0===r&&(r=Si),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=i,this.maxDelayMs=r,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),i=Math.max(0,Date.now()-this.lastAttemptTime),r=Math.max(0,n-i);this.currentBaseMs>0&&u("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,r,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(mi||(mi={}));var Ci,_i,Ai=function(){function e(e,t,n,i,r,o){this.queue=e,this.idleTimerId=n,this.connection=i,this.credentialsProvider=r,this.listener=o,this.state=mi.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new ki(e,t)}return e.prototype.isStarted=function(){return this.state===mi.Starting||this.state===mi.Open||this.state===mi.Backoff},e.prototype.isOpen=function(){return this.state===mi.Open},e.prototype.start=function(){this.state!==mi.Error?(f(this.state===mi.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(mi.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.inhibitBackoff=function(){f(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=mi.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(e){return this.isOpen()?[2,this.close(mi.Initial)]:[2]}))}))},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(n){switch(n.label){case 0:return f(this.isStarted(),"Only started streams should be closed."),f(e===mi.Error||Kn(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==mi.Error?this.backoff.reset():t&&t.code===m.RESOURCE_EXHAUSTED?(c(t.toString()),c("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===m.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;f(this.state===mi.Initial,"Must be in initial state to auth"),this.state=mi.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new v(m.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},e.prototype.startStream=function(e){var t=this;f(this.state===mi.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return f(t.state===mi.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=mi.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.performBackoff=function(){var e=this;f(this.state===mi.Error,"Should only perform backoff when in Error state"),this.state=mi.Backoff,this.backoff.backoffAndRun((function(){return dn.__awaiter(e,void 0,void 0,(function(){return dn.__generator(this,(function(e){return f(this.state===mi.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=mi.Initial,this.start(),f(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},e.prototype.handleStreamClose=function(e){return f(this.isStarted(),"Can't handle server close on non-started stream"),u("PersistentStream","close with error: "+e),this.stream=null,this.close(mi.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(u("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Ni=function(e){function t(t,n,i,r,o){var a=e.call(this,t,Q.ListenStreamConnectionBackoff,Q.ListenStreamIdle,n,i,o)||this;return a.serializer=r,a}return dn.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(Ai),Di=function(e){function t(t,n,i,r,o){var a=e.call(this,t,Q.WriteStreamConnectionBackoff,Q.WriteStreamIdle,n,i,o)||this;return a.serializer=r,a.handshakeComplete_=!1,a.lastStreamToken=p(),a}return dn.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(f(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return f(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){f(this.isOpen(),"Writing handshake requires an opened stream"),f(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;f(this.isOpen(),"Writing mutations requires an opened stream"),f(this.handshakeComplete_,"Handshake must be complete before writing mutations"),f(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},t}(Ai),xi=function(){function e(e,t,n,i){this.queue=e,this.connection=t,this.credentials=n,this.serializer=i}return e.prototype.newPersistentWriteStream=function(e){return new Di(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new Ni(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var i=_e();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);i=i.insert(n.key,n)}));var r=[];return e.forEach((function(e){var t=i.get(e);f(!!t,"Missing entity in write response for "+e),r.push(t)})),r}))},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(i){return n.connection.invokeRPC(e,t,i)})).catch((function(e){throw e.code===m.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(i){return n.connection.invokeStreamingRPC(e,t,i)})).catch((function(e){throw e.code===m.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e}(),Li=function(){function e(e){this.datastore=e,this.readVersions=Le(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n=this;return dn.__generator(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new v(m.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=i.sent()).forEach((function(e){e instanceof Bt||e instanceof Ft?n.recordVersion(e):h("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new wt(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return dn.__awaiter(this,void 0,void 0,(function(){var e;return dn.__generator(this,(function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),!e.isEmpty())throw new v(m.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof Ft)t=e.version;else{if(!(e instanceof Bt))throw h("Document in a transaction was a "+e.constructor.name);t=be.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new v(m.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?mt.updateTime(t):mt.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(be.forDeletedDoc()))throw new v(m.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mt.updateTime(t)}return mt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){f(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(Ci||(Ci={})),function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(_i||(_i={}));
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ri,Oi=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=Ci.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Ci.Unknown),f(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Q.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,f(e.state===Ci.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(Ci.Offline),Promise.resolve()})))},e.prototype.handleWatchStreamFailure=function(e){this.state===Ci.Online?(this.setAndBroadcast(Ci.Unknown),f(0===this.watchStreamFailures,"watchStreamFailures must be 0"),f(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(Ci.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===Ci.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(c(t),this.shouldWarnClientIsOffline=!1):u("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}();function Pi(e){switch(e){case m.OK:return h("Treated status OK as error");case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0;default:return h("Unknown status code: "+e)}}function Mi(e){if(void 0===e)return c("GRPC error has no .code"),m.UNKNOWN;switch(e){case Ri.OK:return m.OK;case Ri.CANCELLED:return m.CANCELLED;case Ri.UNKNOWN:return m.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return m.INTERNAL;case Ri.UNAVAILABLE:return m.UNAVAILABLE;case Ri.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Ri.NOT_FOUND:return m.NOT_FOUND;case Ri.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Ri.ABORTED:return m.ABORTED;case Ri.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Ri.DATA_LOSS:return m.DATA_LOSS;default:return h("Unknown status code: "+e)}}function qi(e){if(void 0===e)return Ri.OK;switch(e){case m.OK:return Ri.OK;case m.CANCELLED:return Ri.CANCELLED;case m.UNKNOWN:return Ri.UNKNOWN;case m.DEADLINE_EXCEEDED:return Ri.DEADLINE_EXCEEDED;case m.RESOURCE_EXHAUSTED:return Ri.RESOURCE_EXHAUSTED;case m.INTERNAL:return Ri.INTERNAL;case m.UNAVAILABLE:return Ri.UNAVAILABLE;case m.UNAUTHENTICATED:return Ri.UNAUTHENTICATED;case m.INVALID_ARGUMENT:return Ri.INVALID_ARGUMENT;case m.NOT_FOUND:return Ri.NOT_FOUND;case m.ALREADY_EXISTS:return Ri.ALREADY_EXISTS;case m.PERMISSION_DENIED:return Ri.PERMISSION_DENIED;case m.FAILED_PRECONDITION:return Ri.FAILED_PRECONDITION;case m.ABORTED:return Ri.ABORTED;case m.OUT_OF_RANGE:return Ri.OUT_OF_RANGE;case m.UNIMPLEMENTED:return Ri.UNIMPLEMENTED;case m.DATA_LOSS:return Ri.DATA_LOSS;default:return h("Unknown status code: "+e)}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(Ri||(Ri={}));
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Fi,Bi,Ui=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ae.comparator(t.key,n.key)}:function(e,t){return ae.comparator(e.key,t.key)},this.keyedMap=De(),this.sortedSet=new we(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Fi||(Fi={})),function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(Bi||(Bi={}));var Vi,ji=function(){function e(){this.changeMap=new we(ae.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Fi.Added&&n.type===Fi.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Fi.Metadata&&n.type!==Fi.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Fi.Modified&&n.type===Fi.Modified?this.changeMap=this.changeMap.insert(t,{type:Fi.Modified,doc:e.doc}):e.type===Fi.Modified&&n.type===Fi.Added?this.changeMap=this.changeMap.insert(t,{type:Fi.Added,doc:e.doc}):e.type===Fi.Removed&&n.type===Fi.Added?this.changeMap=this.changeMap.remove(t):e.type===Fi.Removed&&n.type===Fi.Modified?this.changeMap=this.changeMap.insert(t,{type:Fi.Removed,doc:n.doc}):e.type===Fi.Added&&n.type===Fi.Removed?this.changeMap=this.changeMap.insert(t,{type:Fi.Modified,doc:e.doc}):h("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Wi=function(){function e(e,t,n,i,r,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,i,r){var o=[];return n.forEach((function(e){o.push({type:Fi.Added,doc:e})})),new e(t,n,Ui.emptySet(n),o,i,r,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0},e}(),Hi=function(){function e(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i,r=((i={})[t]=Ki.createSynthesizedTargetChangeForCurrentChange(t,n),i);return new e(be.MIN,r,Me(),_e(),Oe())},e}(),Ki=function(){function e(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(p(),n,Oe(),Oe(),Oe())},e}(),Gi=function(e,t,n,i){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=i},zi=function(e,t){this.targetId=e,this.existenceFilter=t};!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(Vi||(Vi={}));var $i=function(e,t,n,i){void 0===n&&(n=p()),void 0===i&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},Qi=function(){function e(){this.pendingResponses=0,this.documentChanges=Xi(),this._resumeToken=p(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=Oe(),t=Oe(),n=Oe();return this.documentChanges.forEach((function(i,r){switch(r){case Fi.Added:e=e.add(i);break;case Fi.Modified:t=t.add(i);break;case Fi.Removed:n=n.add(i);break;default:h("Encountered invalid change type: "+r)}})),new Ki(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Xi()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),Yi=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=_e(),this.pendingDocumentTargetMapping=Ji(),this.pendingTargetResets=new Se(H)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var i=n[t];e.newDoc instanceof Ft?this.addDocumentToTarget(i,e.newDoc):e.newDoc instanceof Bt&&this.removeDocumentFromTarget(i,e.key,e.newDoc)}for(var r=0,o=e.removedTargetIds;r<o.length;r++){i=o[r];this.removeDocumentFromTarget(i,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var i=t.ensureTargetState(n);switch(e.state){case Vi.NoChange:t.isActiveTarget(n)&&i.updateResumeToken(e.resumeToken);break;case Vi.Added:i.recordTargetResponse(),i.isPending||i.clearPendingChanges(),i.updateResumeToken(e.resumeToken);break;case Vi.Removed:i.recordTargetResponse(),i.isPending||t.removeTarget(n),f(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Vi.Current:t.isActiveTarget(n)&&(i.markCurrent(),i.updateResumeToken(e.resumeToken));break;case Vi.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),i.updateResumeToken(e.resumeToken));break;default:h("Unknown target watch change state: "+e.state)}}))},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):w(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,i=this.targetDataForActiveTarget(t);if(i){var r=i.target;if(r.isDocumentQuery())if(0===n){var o=new ae(r.path);this.removeDocumentFromTarget(t,o,new Bt(o,be.forDeletedDoc()))}else f(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};w(this.targetStates,(function(i,r){var o=t.targetDataForActiveTarget(i);if(o){if(r.current&&o.target.isDocumentQuery()){var a=new ae(o.target.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(i,a)||t.removeDocumentFromTarget(i,a,new Bt(a,e))}r.hasPendingChanges&&(n[i]=r.toTargetChange(),r.clearPendingChanges())}}));var i=Oe();this.pendingDocumentTargetMapping.forEach((function(e,n){var r=!0;n.forEachWhile((function(e){var n=t.targetDataForActiveTarget(e);return!n||n.purpose===mn.LimboResolution||(r=!1,!1)})),r&&(i=i.add(e))}));var r=new Hi(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,i);return this.pendingDocumentUpdates=_e(),this.pendingDocumentTargetMapping=Ji(),this.pendingTargetResets=new Se(H),r},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Fi.Modified:Fi.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var i=this.ensureTargetState(e);this.targetContainsDocument(e,t)?i.addDocumentChange(t,Fi.Removed):i.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Qi),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Se(H),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.targetDataForActiveTarget(e);return t||u("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.targetDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;f(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Qi,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function Ji(){return new we(ae.comparator)}function Xi(){return new we(ae.comparator)}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Zi="RemoteStore",er=function(){function e(e,t,n,i,r){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=r,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return dn.__awaiter(o,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(u(Zi,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new Oi(n,i),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return dn.__awaiter(this,void 0,void 0,(function(){var e;return dn.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Ci.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.disableNetwork=function(){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Ci.Offline),[2]}}))}))},e.prototype.disableNetworkInternal=function(){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(u(Zi,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},e.prototype.shutdown=function(){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return u(Zi,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(Ci.Unknown),[2]}}))}))},e.prototype.listen=function(e){y(this.listenTargets,e.targetId)||(this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e))},e.prototype.unlisten=function(e){f(y(this.listenTargets,e),"unlisten called on target no currently watched: "+e),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),E(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Ci.Unknown))},e.prototype.getTargetDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){f(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Yi(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!E(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return dn.__awaiter(this,void 0,void 0,(function(){var e=this;return dn.__generator(this,(function(t){return w(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},e.prototype.onWatchStreamClose=function(e){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(t){return void 0===e&&f(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(Ci.Unknown),[2]}))}))},e.prototype.onWatchStreamChange=function(e,t){return dn.__awaiter(this,void 0,void 0,(function(){var n;return dn.__generator(this,(function(i){switch(i.label){case 0:return this.onlineStateTracker.set(Ci.Online),e instanceof $i&&e.state===Vi.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Gi?this.watchChangeAggregator.handleDocumentChange(e):e instanceof zi?this.watchChangeAggregator.handleExistenceFilter(e):(f(e instanceof $i,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(be.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=i.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},e.prototype.raiseWatchSnapshot=function(e){var t=this;f(!e.isEqual(be.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return w(n.targetChanges,(function(n,i){if(i.resumeToken.length>0){var r=t.listenTargets[n];r&&(t.listenTargets[n]=r.withResumeToken(i.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(p(),n.snapshotVersion),t.sendUnwatchRequest(e);var i=new En(n.target,e,mn.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(i)}})),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;f(!!e.cause,"Handling target error without a cause");var n=e.cause,i=Promise.resolve();return e.targetIds.forEach((function(e){i=i.then((function(){return dn.__awaiter(t,void 0,void 0,(function(){return dn.__generator(this,(function(t){return y(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),i},e.prototype.fillWritePipeline=function(){return dn.__awaiter(this,void 0,void 0,(function(){var e,t;return dn.__generator(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){f(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){f(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var i=n[t];e.writeStream.writeMutations(i.mutations)}})).catch(Mn)},e.prototype.onMutationResult=function(e,t){var n=this;f(this.writePipeline.length>0,"Got result for empty write pipeline");var i=this.writePipeline.shift(),r=Fe.from(i,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(r).then((function(){return n.fillWritePipeline()}))},e.prototype.onWriteStreamClose=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t=this;return dn.__generator(this,(function(n){return void 0===e&&f(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]):[2]}))}))},e.prototype.handleHandshakeError=function(e){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(t){return Pi(e.code)?(u(Zi,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=p(),[2,this.localStore.setLastStreamToken(p()).catch(Mn)]):[2]}))}))},e.prototype.handleWriteError=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n=this;return dn.__generator(this,(function(i){return Pi(r=e.code)&&r!==m.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2];var r}))}))},e.prototype.createTransaction=function(){return new Li(this.datastore)},e.prototype.restartNetwork=function(){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Ci.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},e.prototype.handleCredentialChange=function(){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(u(Zi,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.applyPrimaryState=function(e){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(Ci.Unknown),t.label=4;case 4:return[2]}}))}))},e}(),tr=function(){function e(e,t){if(S("GeoPoint",arguments,2),_("GeoPoint","number",1,e),_("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new v(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new v(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return H(this._lat,e._lat)||H(this._long,e._long)},e}(),nr=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new xt(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),ir=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=ar(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},i=0,r=this.elements;i<r.length;i++){n(r[i])}return new Mt(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&K(t.elements,this.elements)},e}(),rr=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=ar(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},i=0,r=this.elements;i<r.length;i++){n(r[i])}return new Mt(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&K(t.elements,this.elements)},e}(),or=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof _t&&this.operand instanceof _t){var i=n.internalValue+this.operand.internalValue;return new _t(i)}i=n.internalValue+this.operand.internalValue;return new At(i)},e.prototype.applyToRemoteDocument=function(e,t){return f(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof kt?e:new _t(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function ar(e){return e instanceof Mt?e.internalValue.slice():[]}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var sr,ur,cr=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),lr=((sr={})[ri.ASCENDING.name]="ASCENDING",sr[ri.DESCENDING.name]="DESCENDING",sr),hr=((ur={})[Jn.LESS_THAN.name]="LESS_THAN",ur[Jn.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ur[Jn.GREATER_THAN.name]="GREATER_THAN",ur[Jn.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ur[Jn.EQUAL.name]="EQUAL",ur[Jn.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ur[Jn.IN.name]="IN",ur[Jn.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",ur),fr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function dr(e,t){f(!Kn(e),t+" is missing")}function pr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):h("can't parse "+e)}var mr=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?m.UNKNOWN:Mi(e.code);return new v(t,e.message||"")},e.prototype.toInt32Value=function(e){return this.options.useProto3Json||Kn(e)?e:{value:e}},e.prototype.fromInt32Value=function(e){var t;return Kn(t="object"==typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return this.options.useProto3Json?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);f(!!e,"Cannot deserialize null or undefined timestamp.");var t=pr(e.seconds||"0"),n=e.nanos||0;return new ye(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=fr.exec(e);if(f(!!n,"invalid timestamp: "+e),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var r=new Date(e),o=Math.floor(r.getTime()/1e3);return new ye(o,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(f(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Y.fromBase64String(e)):(f(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Y.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return f(!!e,"Trying to deserialize version that isn't set"),be.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=ie.fromString(e);return f(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return f(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),f(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new ae(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?ie.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new ie(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new ie(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return f(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof It)return{nullValue:"NULL_VALUE"};if(e instanceof St)return{booleanValue:e.value()};if(e instanceof _t)return{integerValue:""+e.value()};if(e instanceof At){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Nt?{stringValue:e.value()}:e instanceof Pt?{mapValue:this.toMapValue(e)}:e instanceof Mt?{arrayValue:this.toArrayValue(e)}:e instanceof Dt?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Ot?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Lt?{bytesValue:this.toBytes(e.value())}:e instanceof Rt?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:h("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return It.INSTANCE;if("booleanValue"in e)return St.of(e.booleanValue);if("integerValue"in e)return new _t(pr(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return At.NAN;if("Infinity"===e.doubleValue)return At.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return At.NEGATIVE_INFINITY}return new At(e.doubleValue)}if("stringValue"in e)return new Nt(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){dr(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Mt(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return dr(e.timestampValue,"timestampValue"),new Dt(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){dr(e.geoPointValue,"geoPointValue");var i=e.geoPointValue.latitude||0,r=e.geoPointValue.longitude||0;return new Ot(new tr(i,r))}if("bytesValue"in e){dr(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new Lt(o)}if("referenceValue"in e){dr(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new ee(a.get(1),a.get(3)),u=new ae(this.extractLocalPathFromResourceName(a));return new Rt(s,u)}return h("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return f(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){var n=this,i=this.fromName(e.name),r=this.fromVersion(e.updateTime);return new Ft(i,r,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},e.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,i){n[e]=t.toValue(i)})),n},e.prototype.fromFields=function(e){var t=this,n=e,i=Pt.EMPTY;return T(n,(function(e,n){i=i.set(new oe([e]),t.fromValue(n))})),i},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},e.prototype.fromFound=function(e){var t=this;f(!!e.found,"Tried to deserialize a found document from a missing document."),dr(e.found.name,"doc.found.name"),dr(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),i=this.fromVersion(e.found.updateTime);return new Ft(n,i,{},void 0,e.found,(function(e){return t.fromValue(e)}))},e.prototype.fromMissing=function(e){f(!!e.missing,"Tried to deserialize a missing document from a found document."),f(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Bt(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):h("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Vi.Added:return"ADD";case Vi.Current:return"CURRENT";case Vi.NoChange:return"NO_CHANGE";case Vi.Removed:return"REMOVE";case Vi.Reset:return"RESET";default:return h("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof zi)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Gi){if(e.newDoc instanceof Ft){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Bt){t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof $i){var n=void 0;return e.cause&&(n={code:qi(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return h("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){dr(e.targetChange,"targetChange");var i=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new $i(i,r,o,s||null)}else if("documentChange"in e){dr(e.documentChange,"documentChange");var u=e.documentChange;dr(u.document,"documentChange.name"),dr(u.document.name,"documentChange.document.name"),dr(u.document.updateTime,"documentChange.document.updateTime");var c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),f=new Ft(c,l,{},void 0,u.document,(function(e){return n.fromValue(e)})),d=u.targetIds||[],p=u.removedTargetIds||[];t=new Gi(d,p,f.key,f)}else if("documentDelete"in e){dr(e.documentDelete,"documentDelete");var m=e.documentDelete;dr(m.document,"documentDelete.document");c=this.fromName(m.document),l=m.readTime?this.fromVersion(m.readTime):be.forDeletedDoc(),f=new Bt(c,l),p=m.removedTargetIds||[];t=new Gi([],p,f.key,f)}else if("documentRemove"in e){dr(e.documentRemove,"documentRemove");var v=e.documentRemove;dr(v.document,"documentRemove");c=this.fromName(v.document),p=v.removedTargetIds||[];t=new Gi([],p,c,null)}else{if(!("filter"in e))return h("Unknown change type "+JSON.stringify(e));dr(e.filter,"filter");var g=e.filter;dr(g.targetId,"filter.targetId");var y=g.count||0,b=new cr(y),w=g.targetId;t=new zi(w,b)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Vi.NoChange:"ADD"===e?Vi.Added:"REMOVE"===e?Vi.Removed:"CURRENT"===e?Vi.Current:"RESET"===e?Vi.Reset:h("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return be.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?be.MIN:t.readTime?this.fromVersion(t.readTime):be.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof gt)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof wt)t={delete:this.toName(e.key)};else if(e instanceof yt)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof bt))return h("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):mt.NONE;if(e.update){dr(e.update.name,"name");var i=this.fromName(e.update.name),r=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new yt(i,r,o,n)}return new gt(i,r,n)}if(e.delete){i=this.fromName(e.delete);return new wt(i,n)}if(e.transform){i=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return f(!0===n.exists,'Transforms only support precondition "exists == true"'),new bt(i,a)}return h("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return f(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:h("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?mt.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?mt.exists(e.exists):mt.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,i=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t);i.isEqual(be.MIN)&&(i=this.fromVersion(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults.map((function(e){return n.fromValue(e)}))),new ft(i,r)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(f(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof nr)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ir)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof rr)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof or)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw h("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)f("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=nr.instance;else if("appendMissingElements"in e){var i=e.appendMissingElements.values||[];n=new ir(i.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e){i=e.removeAllFromArray.values||[];n=new rr(i.map((function(e){return t.fromValue(e)})))}else if("increment"in e){var r=this.fromValue(e.increment);f(r instanceof kt,"NUMERIC_ADD transform requires a NumberValue"),n=new or(r)}else h("Unknown transform proto: "+JSON.stringify(e));var o=oe.fromServerFormat(e.fieldPath);return new ht(o,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;f(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Qn.atPath(this.fromQueryPath(n)).toTarget()},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(f(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(f(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var i=this.toFilter(e.filters);i&&(t.structuredQuery.where=i);var r=this.toOrder(e.orderBy);r&&(t.structuredQuery.orderBy=r);var o=this.toInt32Value(e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){f(1===i,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?r=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Qn(t,r,s,a,u,zn.First,c,l).toTarget()},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case mn.Listen:return null;case mn.ExistenceFilterMismatch:return"existence-filter-mismatch";case mn.LimboResolution:return"limbo-document";default:return h("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.target;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof Xn?t.toUnaryOrFieldFilter(e):h("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):h("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},e.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,i=e.values.map((function(e){return t.fromValue(e)}));return new oi(i,n)},e.prototype.toDirection=function(e){return lr[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return ri.ASCENDING;case"DESCENDING":return ri.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return hr[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Jn.EQUAL;case"GREATER_THAN":return Jn.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Jn.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Jn.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Jn.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Jn.ARRAY_CONTAINS;case"IN":return Jn.IN;case"ARRAY_CONTAINS_ANY":return Jn.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return h("Unspecified operator");default:return h("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return oe.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new ai(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return Xn.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===Jn.EQUAL){if(e.value.isEqual(At.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(It.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return Xn.create(t,Jn.EQUAL,At.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return Xn.create(n,Jn.EQUAL,It.INSTANCE);case"OPERATOR_UNSPECIFIED":return h("Unspecified filter");default:return h("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return oe.fromServerFormat(e)}));return lt.fromArray(t)},e}(),vr=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},gr=function(){function e(e){this.syncEngine=e,this.queries=new Vt((function(e){return e.canonicalId()})),this.onlineState=Ci.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,i=this.queries.get(t);(i||(n=!0,i=new vr,this.queries.set(t,i)),i.listeners.push(e),f(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),i.viewSnap)&&(e.onViewSnapshot(i.viewSnap)&&this.raiseSnapshotsInSyncEvent());return n?this.syncEngine.listen(t).then((function(e){return i.targetId=e,e})):Promise.resolve(i.targetId)},e.prototype.unlisten=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n,i,r;return dn.__generator(this,(function(o){return t=e.query,n=!1,(i=this.queries.get(t))&&(r=i.listeners.indexOf(e))>=0&&(i.listeners.splice(r,1),n=0===i.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},e.prototype.onWatchChange=function(e){for(var t=!1,n=0,i=e;n<i.length;n++){var r=i[n],o=r.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++){u[s].onViewSnapshot(r)&&(t=!0)}a.viewSnap=r}}t&&this.raiseSnapshotsInSyncEvent()},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var i=0,r=n.listeners;i<r.length;i++){r[i].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,i){for(var r=0,o=i.listeners;r<o.length;r++){o[r].applyOnlineStateChange(e)&&(t=!0)}})),t&&this.raiseSnapshotsInSyncEvent()},e.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},e.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},e.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},e}(),yr=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=Ci.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(f(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,i=e.docChanges;n<i.length;n++){var r=i[n];r.type!==Fi.Metadata&&t.push(r)}e=new Wi(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},e.prototype.shouldRaiseInitialEvent=function(e,t){if(f(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==Ci.Offline;return this.options.waitForSyncWhenOnline&&n?(f(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===Ci.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){f(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Wi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),br=function(){function e(e,t,n,i){this.targetId=e,this.fromCache=t,this.addedKeys=n,this.removedKeys=i}return e.fromSnapshot=function(t,n){for(var i=Oe(),r=Oe(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Fi.Added:i=i.add(s.doc.key);break;case Fi.Removed:r=r.add(s.doc.key)}}return new e(t,n.fromCache,i,r)},e}(),wr=function(e){this.key=e},Tr=function(e){this.key=e},Er=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Oe(),this.mutatedKeys=Oe(),this.documentSet=new Ui(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,i=t?t.changeSet:new ji,r=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1,u=this.query.hasLimitToFirst()&&r.size===this.query.limit?r.last():null,c=this.query.hasLimitToLast()&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((function(e,t){var l=r.get(e),h=t instanceof Ft?t:null;h&&(f(e.isEqual(h.key),"Mismatching keys found in document changes: "+e+" != "+h.key),h=n.query.matches(h)?h:null);var d=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),m=!1;l&&h?l.data().isEqual(h.data())?d!==p&&(i.track({type:Fi.Metadata,doc:h}),m=!0):n.shouldWaitForSyncedDocument(l,h)||(i.track({type:Fi.Modified,doc:h}),m=!0,(u&&n.query.docComparator(h,u)>0||c&&n.query.docComparator(h,c)<0)&&(s=!0)):!l&&h?(i.track({type:Fi.Added,doc:h}),m=!0):l&&!h&&(i.track({type:Fi.Removed,doc:l}),m=!0,(u||c)&&(s=!0));m&&(h?(a=a.add(h),o=p?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;a.size>this.query.limit;){var l=this.query.hasLimitToFirst()?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),i.track({type:Fi.Removed,doc:l})}return f(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:i,needsRefill:s,mutatedKeys:o}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var i=this;f(!e.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case Fi.Added:return 1;case Fi.Modified:case Fi.Metadata:return 2;case Fi.Removed:return 0;default:return h("Unknown ChangeType: "+e)}};return n(e)-n(t)}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e.type,t.type)||i.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Bi.Synced:Bi.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Wi(this.query,e.documentSet,r,o,e.mutatedKeys,s===Bi.Local,u,!1),limboChanges:a}:{limboChanges:a}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===Ci.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new ji,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return f(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Oe(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new Tr(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new wr(e))})),n},e.prototype.synchronizeWithPersistedState=function(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=Oe();var t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)},e.prototype.computeInitialSnapshot=function(){return Wi.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Bi.Local)},e}();
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ir=5,Sr=function(){function e(e,t,n,i){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=i,this.retries=Ir,this.backoff=new ki(this.asyncQueue,Q.RetryTransaction)}return e.prototype.run=function(){this.runWithBackOff()},e.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return dn.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return dn.__generator(this,(function(i){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},e.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!Kn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.handleTransactionError=function(e){var t=this;this.retries>0&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Pi(t)}return!1},e}(),kr=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Cr=function(e){this.key=e,this.receivedDocument=!1},_r=function(){function e(e,t,n,i){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=i,this.syncEngineListener=null,this.queryViewsByQuery=new Vt((function(e){return e.canonicalId()})),this.queriesByTarget={},this.limboTargetsByKey=new we(ae.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new hi,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=it.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Ci.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){f(null!==e,"SyncEngine listener cannot be null"),f(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n,i,r,o;return dn.__generator(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(i=this.queryViewsByQuery.get(e))?(t=i.targetId,this.sharedClientState.addLocalQueryTarget(t),n=i.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(e.toTarget())];case 2:return r=a.sent(),o=this.sharedClientState.addLocalQueryTarget(r.targetId),t=r.targetId,[4,this.initializeViewAndComputeSnapshot(e,t,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(r),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},e.prototype.initializeViewAndComputeSnapshot=function(e,t,n){return dn.__awaiter(this,void 0,void 0,(function(){var i,r,o,a,s,u;return dn.__generator(this,(function(c){switch(c.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return i=c.sent(),r=new Er(e,i.remoteKeys),o=r.computeDocChanges(i.documents),a=Ki.createSynthesizedTargetChangeForCurrentChange(t,n&&this.onlineState!==Ci.Offline),f(0===(s=r.applyChanges(o,!0===this.isPrimary,a)).limboChanges.length,"View returned limbo docs before target ack from the server."),f(!!s.snapshot,"applyChanges for new view should always return a snapshot"),u=new kr(e,t,r),this.queryViewsByQuery.set(e,u),this.queriesByTarget[t]||(this.queriesByTarget[t]=[]),this.queriesByTarget[t].push(e),[2,s.snapshot]}}))}))},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n;return dn.__generator(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e.query,!0)];case 1:return t=i.sent(),n=e.view.synchronizeWithPersistedState(t),this.isPrimary&&this.updateTrackedLimbos(e.targetId,n.limboChanges),[2,n]}}))}))},e.prototype.unlisten=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n,i=this;return dn.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),f(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),(n=this.queriesByTarget[t.targetId]).length>1?(this.queriesByTarget[t.targetId]=n.filter((function(t){return!t.isEqual(e)})),this.queryViewsByQuery.delete(e),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseTarget(t.targetId,!1).then((function(){i.sharedClientState.clearQueryState(t.targetId),i.remoteStore.unlisten(t.targetId),i.removeAndCleanupTarget(t.targetId)})).catch(Mn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(t.targetId),[4,this.localStore.releaseTarget(t.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return dn.__awaiter(this,void 0,void 0,(function(){var n;return dn.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=i.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return i.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return i.sent(),[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new Sr(e,this.remoteStore,t,n).run()},e.prototype.applyRemoteEvent=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n=this;return dn.__generator(this,(function(i){switch(i.label){case 0:this.assertSubscribed("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=i.sent(),T(e.targetChanges,(function(e,t){var i=n.limboResolutionsByTarget[Number(e)];i&&(f(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?i.receivedDocument=!0:t.modifiedDocuments.size>0?f(i.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(f(i.receivedDocument,"Received remove for limbo target document without add."),i.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return i.sent(),[3,6];case 4:return[4,Mn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===_i.RemoteStore||!this.isPrimary&&t===_i.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,i){var r=i.view.applyOnlineStateChange(e);f(0===r.limboChanges.length,"OnlineState should not affect limbo documents."),r.snapshot&&n.push(r.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return dn.__awaiter(this,void 0,void 0,(function(){var n,i,r,o,a,s=this;return dn.__generator(this,(function(u){switch(u.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(i=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(i),delete this.limboResolutionsByTarget[e],r=(r=new we(ae.comparator)).insert(i,new Bt(i,be.forDeletedDoc())),o=Oe().add(i),a=new Hi(be.MIN,{},new Se(H),r,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return[4,this.localStore.releaseTarget(e,!1).then((function(){return s.removeAndCleanupTarget(e,t)})).catch(Mn)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))},e.prototype.applyBatchState=function(e,t,n){return dn.__awaiter(this,void 0,void 0,(function(){var i;return dn.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(i=r.sent())?(u("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):h("Unknown batchState: "+t),r.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(i)];case 5:return r.sent(),[2]}}))}))},e.prototype.applySuccessfulWrite=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n;return dn.__generator(this,(function(i){switch(i.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return[4,Mn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.rejectFailedWrite=function(e,t){return dn.__awaiter(this,void 0,void 0,(function(){var n;return dn.__generator(this,(function(i){switch(i.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return[4,Mn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.registerPendingWritesCallback=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n;return dn.__generator(this,(function(i){switch(i.label){case 0:return this.remoteStore.canUseNetwork()||u("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=i.sent())?(e.resolve(),[2]):((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n),[2])}}))}))},e.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},e.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new v(m.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new we(H)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var i=n.get(e);i&&(f(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?i.reject(t):i.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupTarget=function(e,t){var n=this;void 0===t&&(t=null),this.sharedClientState.removeLocalQueryTarget(e),f(this.queriesByTarget[e]&&0!==this.queriesByTarget[e].length,"There are no queries mapped to target id "+e);for(var i=0,r=this.queriesByTarget[e];i<r.length;i++){var o=r[i];this.queryViewsByQuery.delete(o),t&&this.syncEngineListener.onWatchError(o,t)}if(delete this.queriesByTarget[e],this.isPrimary){var a=this.limboDocumentRefs.referencesForId(e);this.limboDocumentRefs.removeReferencesForId(e),a.forEach((function(e){n.limboDocumentRefs.containsKey(e)||n.removeLimboTarget(e)}))}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r instanceof wr)this.limboDocumentRefs.addReference(r.key,e),this.trackLimboChange(r);else if(r instanceof Tr){u("SyncEngine","Document no longer in limbo: "+r.key),this.limboDocumentRefs.removeReference(r.key,e),this.limboDocumentRefs.containsKey(r.key)||this.removeLimboTarget(r.key)}else h("Unknown limbo change: "+JSON.stringify(r))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){u("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),i=Qn.atPath(t.path);this.limboResolutionsByTarget[n]=new Cr(t),this.remoteStore.listen(new En(i.toTarget(),n,mn.LimboResolution,te.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return dn.__awaiter(this,void 0,void 0,(function(){var n,i,r,o=this;return dn.__generator(this,(function(a){switch(a.label){case 0:return n=[],i=[],r=[],this.queryViewsByQuery.forEach((function(a,s){r.push(Promise.resolve().then((function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query,!1).then((function(e){var n=e.documents;return s.view.computeDocChanges(n,t)})):t})).then((function(e){var r=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,r);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=br.fromSnapshot(s.targetId,a.snapshot);i.push(u)}})))})),[4,Promise.all(r)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(i)];case 2:return a.sent(),[2]}}))}))},e.prototype.assertSubscribed=function(e){f(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n;return dn.__generator(this,(function(i){switch(i.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=i.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:i.sent(),i.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return i.sent(),[2]}}))}))},e.prototype.applyPrimaryState=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,u=this;return dn.__generator(this,(function(c){switch(c.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return c.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=c.sent(),i=0,r=n;i<r.length;i++)o=r[i],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),w(this.queriesByTarget,(function(e,t){u.sharedClientState.isLocalQueryTarget(e)?a.push(e):s=s.then((function(){return u.removeAndCleanupTarget(e),u.localStore.releaseTarget(e,!0)})),u.remoteStore.unlisten(e)})),[4,s]);case 4:return c.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return c.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))},e.prototype.resetLimboDocuments=function(){var e=this;w(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new we(ae.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return dn.__awaiter(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,u,c,l,h,d,p;return dn.__generator(this,(function(m){switch(m.label){case 0:t=[],n=[],i=0,r=e,m.label=1;case 1:return i<r.length?(o=r[i],a=void 0,(s=this.queriesByTarget[o])&&0!==s.length?[4,this.localStore.releaseTarget(o,!0)]:[3,8]):[3,14];case 2:return m.sent(),[4,this.localStore.allocateTarget(s[0].toTarget())];case 3:a=m.sent(),u=0,c=s,m.label=4;case 4:return u<c.length?(l=c[u],f(!!(h=this.queryViewsByQuery.get(l)),"No query view found for "+l),[4,this.synchronizeViewAndComputeSnapshot(h)]):[3,7];case 5:(d=m.sent()).snapshot&&n.push(d.snapshot),m.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return f(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(o)];case 9:return f(!!(p=m.sent()),"Target for id "+o+" not found"),[4,this.localStore.allocateTarget(p)];case 10:return a=m.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(p),o,!1)];case 11:m.sent(),m.label=12;case 12:t.push(a),m.label=13;case 13:return i++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},e.prototype.synthesizeTargetToQuery=function(e){return new Qn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,zn.First,e.startAt,e.endAt)},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return dn.__awaiter(this,void 0,void 0,(function(){var i,r;return dn.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return u("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[e])return[3,7];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return i=o.sent(),r=Hi.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(i,r)];case 3:return o.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(e,!0)];case 5:return o.sent(),this.removeAndCleanupTarget(e,n),[3,7];case 6:h("Unexpected target state: "+t),o.label=7;case 7:return[2]}}))}))},e.prototype.applyActiveTargetsChange=function(e,t){return dn.__awaiter(this,void 0,void 0,(function(){var n,i,r,o,a,s,u,c,l,h=this;return dn.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,i=e,d.label=1;case 1:return n<i.length?(l=i[n],f(!this.queriesByTarget[l],"Trying to add an already active target"),[4,this.localStore.getTarget(l)]):[3,6];case 2:return f(!!(r=d.sent()),"Query data for active target "+l+" not found"),[4,this.localStore.allocateTarget(r)];case 3:return o=d.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(r),o.targetId,!1)];case 4:d.sent(),this.remoteStore.listen(o),d.label=5;case 5:return n++,[3,1];case 6:a=function(e){return dn.__generator(this,(function(t){switch(t.label){case 0:return s.queriesByTarget[e]?[4,s.localStore.releaseTarget(e,!1).then((function(){h.remoteStore.unlisten(e),h.removeAndCleanupTarget(e)})).catch(Mn)]:[2,"continue"];case 1:return t.sent(),[2]}}))},s=this,u=0,c=t,d.label=7;case 7:return u<c.length?(l=c[u],[5,a(l)]):[3,10];case 8:d.sent(),d.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];if(t&&t.receivedDocument)return Oe().add(t.key);var n=Oe(),i=this.queriesByTarget[e];if(!i)return n;for(var r=0,o=i;r<o.length;r++){var a=o[r],s=this.queryViewsByQuery.get(a);f(!!s,"No query view found for "+a),n=n.unionWith(s.view.syncedDocuments)}return n},e}(),Ar=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Nr="firestore_clients";function Dr(e,t){return f(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Nr+"_"+e+"_"+t}var xr="firestore_mutations";function Lr(e,t,n){var i=xr+"_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}var Rr="firestore_targets";function Or(e,t){return Rr+"_"+e+"_"+t}var Pr="firestore_online_state";var Mr="firestore_sequence_number";
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var qr="SharedClientState",Fr=function(){function e(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i,f(void 0!==i==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,i){var r=JSON.parse(i),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),a=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(a=new v(r.error.code,r.error.message)),o?new e(t,n,r.state,a):(c(qr,"Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Br=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,f(void 0!==n==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new v(i.error.code,i.error.message)),r?new e(t,i.state,o):(c(qr,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ur=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Me(),a=0;r&&a<i.activeTargetIds.length;++a)r=Gn(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new e(t,o):(c(qr,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Vr=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"==typeof n&&n.onlineState in Ci&&"string"==typeof n.clientId?new e(n.clientId,Ci[n.onlineState]):(c(qr,"Failed to parse online state: "+t),null)},e}(),jr=function(){function e(){this.activeTargetIds=Me()}return e.prototype.addQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Wr=function(){function e(t,n,i,r,o){if(this.queue=t,this.platform=n,this.persistenceKey=i,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new v(m.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=Dr(this.persistenceKey,this.localClientId),this.sequenceNumberKey=function(e){return Mr+"_"+e}(this.persistenceKey),this.activeClients[this.localClientId]=new jr,this.clientStateKeyRe=new RegExp("^"+Nr+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+xr+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Rr+"_"+a+"_(\\d+)$"),this.onlineStateKey=function(e){return Pr+"_"+e}(this.persistenceKey),this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return dn.__awaiter(this,void 0,void 0,(function(){var e,t,n,i,r,o,a,s,u,c,l,h=this;return dn.__generator(this,(function(d){switch(d.label){case 0:return f(!this.started,"WebStorageSharedClientState already started"),f(null!==this.syncEngine,"syncEngine property must be set before calling start()"),f(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=d.sent(),t=0,n=e;t<n.length;t++)(i=n[t])!==this.localClientId&&(r=this.getItem(Dr(this.persistenceKey,i)))&&(o=Ur.fromWebStorageEntry(i,r))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,c=this.earlyEvents;u<c.length;u++)l=c[u],this.handleWebStorageEvent(l);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=Me();return T(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Or(this.persistenceKey,e));if(n){var i=Br.fromWebStorageEntry(e,n);i&&(t=i.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Or(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var i=this;t.forEach((function(e){i.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){i.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return u(qr,"READ",e,t),t},e.prototype.setItem=function(e,t){u(qr,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){u(qr,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(u(qr,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void c("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return dn.__awaiter(t,void 0,void 0,(function(){var t,n,i,r,o,a;return dn.__generator(this,(function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(i)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(r)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(f(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=te.INVALID;if(null!=e)try{var n=JSON.parse(e);f("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){c(qr,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==te.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var i=new Fr(this.currentUser,e,t,n),r=Lr(this.persistenceKey,this.currentUser,e);this.setItem(r,i.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=Lr(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:Ci[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var i=Or(this.persistenceKey,e),r=new Br(e,t,n);this.setItem(i,r.toWebStorageJSON())},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return f(null!==n,"Cannot parse client state key '"+e+"'"),Ur.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);f(null!==n,"Cannot parse mutation batch key '"+e+"'");var i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return Fr.fromWebStorageEntry(new Ar(r),i,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);f(null!==n,"Cannot parse query target key '"+e+"'");var i=Number(n[1]);return Br.fromWebStorageEntry(i,t)},e.prototype.fromWebStorageOnlineState=function(e){return Vr.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(t){return e.user.uid!==this.currentUser.uid?(u(qr,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,i=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var r=this.getAllActiveQueryTargets(),o=[],a=[];return r.forEach((function(e){return dn.__awaiter(n,void 0,void 0,(function(){return dn.__generator(this,(function(t){return i.has(e)||o.push(e),[2]}))}))})),i.forEach((function(e){return dn.__awaiter(n,void 0,void 0,(function(){return dn.__generator(this,(function(t){return r.has(e)||a.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,a)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}();var Hr=function(){function e(){this.localState=new jr,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new jr,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),Kr=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return _n.withCacheSize(this.cacheSizeBytes)},e}(),Gr=function(){},zr=function(){function e(e,t,n,i){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=i,this.clientId=W.newId()}return e.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new se,i=new se,r=!1;return this.credentials.setChangeListener((function(o){r?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(o)})):(r=!0,t.initializePersistence(e,i,o).then((function(e){return t.initializeRest(o,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),i.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},e.prototype.initializePersistence=function(e,t,n){var i=this;return e instanceof Kr?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!i.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),i.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof v?e.code===m.FAILED_PRECONDITION||e.code===m.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new v(m.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,i=Pn.buildStoragePrefix(this.databaseInfo),r=new mr(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return dn.__awaiter(n,void 0,void 0,(function(){var n,o;return dn.__generator(this,(function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Wr.isAvailable(this.platform))throw new v(m.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Wr(this.asyncQueue,this.platform,i,this.clientId,e):new Hr,[4,Pn.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:i,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:r,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),this.persistence=o,[2,o.referenceDelegate.garbageCollector]}}))}))}))},e.prototype.startMemoryPersistence=function(){return this.persistence=yi.createEagerPersistence(this.clientId),this.sharedClientState=new Hr,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return u("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(i){return dn.__awaiter(n,void 0,void 0,(function(){var n,r,o,a,s,u,c=this;return dn.__generator(this,(function(l){switch(l.label){case 0:return n=new ci,this.localStore=new di(this.persistence,n,e),[4,this.localStore.start()];case 1:return l.sent(),t&&(this.lruScheduler=new An(t,this.asyncQueue,this.localStore)),r=this.platform.newConnectivityMonitor(),o=this.platform.newSerializer(this.databaseInfo.databaseId),a=new xi(this.asyncQueue,i,this.credentials,o),s=function(e){return c.syncEngine.applyOnlineStateChange(e,_i.RemoteStore)},u=function(e){return c.syncEngine.applyOnlineStateChange(e,_i.SharedClientState)},this.remoteStore=new er(this.localStore,a,this.asyncQueue,s,r),this.syncEngine=new _r(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new gr(this.syncEngine),[4,this.sharedClientState.start()];case 2:return l.sent(),[4,this.remoteStore.start()];case 3:return l.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return dn.__awaiter(c,void 0,void 0,(function(){return dn.__generator(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return l.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return dn.__awaiter(c,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 5:return l.sent(),[2]}}))}))}))},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),u("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return dn.__awaiter(e,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new se;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},e.prototype.listen=function(e,t,n){var i=this;this.verifyNotTerminated();var r=new yr(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return i.eventMgr.listen(r)})),r},e.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof Ft)return e;if(e instanceof Bt)return null;throw new v(m.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return dn.__awaiter(t,void 0,void 0,(function(){var t,n,i;return dn.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return t=r.sent(),n=new Er(e,t.remoteKeys),i=n.computeDocChanges(t.documents),[2,n.applyChanges(i,!1).snapshot]}}))}))}))},e.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new se;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},e.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(e.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new se;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},e}(),$r=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Qr=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,i){if(!(t instanceof Array)||t.length<i)throw new v(m.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+j(i,"element")+".")}("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(_("FieldPath","string",n,e[n]),0===e[n].length)throw new v(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oe(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw B("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(oe.keyField().canonicalString()),e}(),Yr=new RegExp("[~\\*/\\[\\]]");
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Jr=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Xr=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){f(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(Ar.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){f(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Zr=function(){function e(e){var t=this;this.tokenListener=null,this.currentUser=Ar.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.tokenListener):(this.tokenListener(null),e.get().then((function(e){t.auth=e,t.tokenListener&&t.auth.addAuthTokenListener(t.tokenListener)}),(function(){})))}return e.prototype.getToken=function(){var e=this;f(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new v(m.ABORTED,"getToken aborted due to token change.");return n?(f("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Jr(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){f(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){f(null!=this.tokenListener,"removeChangeListener() called twice"),f(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.auth&&this.auth.getUid();return f(null===e||"string"==typeof e,"Received invalid UID: "+e),new Ar(e)},e}(),eo=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=Ar.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),to=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new eo(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(Ar.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function no(e){if(!e)return new Xr;switch(e.type){case"gapi":var t=e.client;return f(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new to(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new v(m.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function io(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,i=0,r=t;i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,["next","error","complete"])}var ro,oo=function(){function e(e){this._methodName=e}return e.delete=function(){return I("FieldValue.delete",arguments),ao.instance},e.serverTimestamp=function(){return I("FieldValue.serverTimestamp",arguments),so.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("FieldValue.arrayUnion",arguments,1),new uo(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("FieldValue.arrayRemove",arguments,1),new co(e)},e.increment=function(e){return _("FieldValue.increment","number",1,e),S("FieldValue.increment",arguments,1),new lo(e)},e.prototype.isEqual=function(e){return this===e},e}(),ao=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return dn.__extends(t,e),t.instance=new t,t}(oo),so=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return dn.__extends(t,e),t.instance=new t,t}(oo),uo=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return dn.__extends(t,e),t}(oo),co=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return dn.__extends(t,e),t}(oo),lo=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return dn.__extends(t,e),t}(oo),ho=g(oo,"Use FieldValue.<field>() instead."),fo=/^__.*__$/,po=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new yt(e,this.data,this.fieldMask,t)):n.push(new gt(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new bt(e,this.fieldTransforms)),n},e}(),mo=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new yt(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new bt(e,this.fieldTransforms)),n},e}();function vo(e){switch(e){case ro.Set:case ro.MergeSet:case ro.Update:return!0;case ro.Argument:case ro.ArrayArgument:return!1;default:throw h("Unexpected case for UserDataSource: "+e)}}!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument",e[e.ArrayArgument=4]="ArrayArgument"}(ro||(ro={}));var go=function(){function e(e,t,n,i,r,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=i,void 0===r&&this.validatePath(),this.arrayElement=void 0!==i&&i,this.fieldTransforms=r||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),i=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return i.validatePathSegment(t),i},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),i=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return i.validatePath(),i},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new v(m.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(vo(this.dataSource)&&fo.test(e))throw this.createError('Document fields cannot begin and end with "__"')},e}(),yo=function(e,t){this.databaseId=e,this.key=t},bo=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new go(ro.Set,e,oe.EMPTY_PATH);To("Data must be an object, but it was:",n,t);var i=this.parseData(t,n);return new po(i,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var i=new go(ro.MergeSet,e,oe.EMPTY_PATH);To("Data must be an object, but it was:",i,t);var r,o,a=this.parseData(t,i);if(n){for(var s=new Se(oe.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof Qr)f=l._internalPath;else{if("string"!=typeof l)throw h("Expected stringOrFieldPath to be a string or a FieldPath");f=Io(e,l)}if(!i.contains(f))throw new v(m.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}r=lt.fromSet(s),o=i.fieldTransforms.filter((function(e){return r.covers(e.field)}))}else r=lt.fromArray(i.fieldMask),o=i.fieldTransforms;return new po(a,r,o)},e.prototype.parseUpdateData=function(e,t){var n=this,i=new go(ro.Update,e,oe.EMPTY_PATH);To("Data must be an object, but it was:",i,t);var r=new Se(oe.comparator),o=Pt.EMPTY;T(t,(function(t,a){var s=Io(e,t),u=i.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof ao)r=r.add(s);else{var c=n.parseData(a,u);null!=c&&(r=r.add(s),o=o.set(s,c))}}));var a=lt.fromSet(r);return new mo(o,a,i.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,i){var r=new go(ro.Update,e,oe.EMPTY_PATH),o=[Eo(e,t)],a=[n];if(i.length%2!=0)throw new v(m.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<i.length;s+=2)o.push(Eo(e,i[s])),a.push(i[s+1]);var u=new Se(oe.comparator),c=Pt.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=r.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof ao)u=u.add(l);else{var d=this.parseData(f,h);null!=d&&(u=u.add(l),c=c.set(l,d))}}var p=lt.fromSet(u);return new mo(c,p,r.fieldTransforms)},e.prototype.parseQueryValue=function(e,t,n){void 0===n&&(n=!1);var i=new go(n?ro.ArrayArgument:ro.Argument,e,oe.EMPTY_PATH),r=this.parseData(t,i);return f(null!=r,"Parsed data should not be null."),f(0===i.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=So(e);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(wo(e=this.runPreConverter(e,t)))return To("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof oo)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement&&t.dataSource!==ro.ArrayArgument)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,i=new we(H);return E(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):T(e,(function(e,r){var o=n.parseData(r,t.childContextForField(e));null!=o&&(i=i.insert(e,o))})),new Pt(i)},e.prototype.parseArray=function(e,t){for(var n=[],i=0,r=0,o=e;r<o.length;r++){var a=o[r],s=this.parseData(a,t.childContextForArray(i));null==s&&(s=It.INSTANCE),n.push(s),i++}return new Mt(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!vo(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof ao){if(t.dataSource!==ro.MergeSet)throw t.dataSource===ro.Update?(f(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof so)t.fieldTransforms.push(new ht(t.path,nr.instance));else if(e instanceof uo){var n=this.parseArrayTransformElements(e._methodName,e._elements),i=new ir(n);t.fieldTransforms.push(new ht(t.path,i))}else if(e instanceof co){n=this.parseArrayTransformElements(e._methodName,e._elements);var r=new rr(n);t.fieldTransforms.push(new ht(t.path,r))}else if(e instanceof lo){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new or(o);t.fieldTransforms.push(new ht(t.path,a))}else h("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return It.INSTANCE;if("number"==typeof e)return Gn(e)?new _t(e):new At(e);if("boolean"==typeof e)return St.of(e);if("string"==typeof e)return new Nt(e);if(e instanceof Date)return new Dt(ye.fromDate(e));if(e instanceof ye)return new Dt(new ye(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof tr)return new Ot(e);if(e instanceof Y)return new Lt(e);if(e instanceof yo)return new Rt(e.databaseId,e.key);throw t.createError("Unsupported field value: "+M(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,i){var r=new go(ro.Argument,e,oe.EMPTY_PATH);return n.parseData(t,r.childContextForArray(i))}))},e}();function wo(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ye||e instanceof tr||e instanceof Y||e instanceof yo||e instanceof oo)}function To(e,t,n){if(!wo(n)||!P(n)){var i=M(n);throw"an object"===i?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function Eo(e,t){if(t instanceof Qr)return t._internalPath;if("string"==typeof t)return Io(e,t);throw new v(m.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Io(e,t){try{return function(e){if(e.search(Yr)>=0)throw new v(m.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Qr.bind.apply(Qr,dn.__spreadArrays([void 0],e.split("."))))}catch(t){throw new v(m.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=So(t);throw new v(m.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function So(e){return e instanceof Error?e.message:e.toString()}
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ko="firestore.googleapis.com",Co=!0,_o=!0,Ao=!1,No=_n.COLLECTION_DISABLED,Do=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new v(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ko,this.ssl=Co}else N("settings","non-empty string","host",e.host),this.host=e.host,D("settings","boolean","ssl",e.ssl),this.ssl=b(e.ssl,Co);if(F("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),D("settings","object","credentials",e.credentials),this.credentials=e.credentials,D("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?c("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&c("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=b(e.timestampsInSnapshots,_o),D("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=_n.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==No&&e.cacheSizeBytes<_n.MINIMUM_CACHE_SIZE_BYTES)throw new v(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+_n.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}D("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?Ao:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),xo=function(){function e(t,n){var i=this;if(this._firebaseApp=null,this._queue=new ce,this.INTERNAL={delete:function(){return dn.__awaiter(i,void 0,void 0,(function(){return dn.__generator(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var r=t;this._firebaseApp=r,this._databaseId=e.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new Zr(n)}else{var o=t;if(!o.projectId)throw new v(m.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new ee(o.projectId,o.database),this._persistenceKey="[DEFAULT]",this._credentials=new Xr}this._settings=new Do({}),this._dataConverter=this.createDataConverter(this._databaseId)}return e.prototype.settings=function(e){if(S("Firestore.settings",arguments,1),_("Firestore.settings","object",1,e),y(e,"persistence"))throw new v(m.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Do(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new v(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=t,void 0!==t.credentials&&(this._credentials=no(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new v(m.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&c("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=b(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Kr(this._settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=Pn.buildStoragePrefix(this.makeDatabaseInfo()),n=new se;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return dn.__awaiter(e,void 0,void 0,(function(){var e;return dn.__generator(this,(function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new v(m.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Pn.clearPersistence(t)];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),io(e))return this.onSnapshotsInSyncInternal(e);_("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},e.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new $r({next:function(){e.next&&e.next()},error:function(e){throw h("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Gr),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new X(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},e.prototype.configureClient=function(e){f(!!this._settings.host,"FirestoreSettings.host is not set"),f(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new zr(d.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},e.prototype.createDataConverter=function(e){return new bo((function(t){if(t instanceof Po){var n=e,i=t.firestore._databaseId;if(!i.isEqual(n))throw new v(m.INVALID_ARGUMENT,"Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return new yo(e,t._key)}return t}))},e.databaseIdFromApp=function(e){var t=e.options;if(!y(t,"projectId"))throw new v(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new v(m.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ee(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._firebaseApp)throw new v(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return S("Firestore.collection",arguments,1),_("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new jo(ie.fromString(e),this)},e.prototype.doc=function(e){return S("Firestore.doc",arguments,1),_("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Po.forPath(ie.fromString(e),this)},e.prototype.collectionGroup=function(e){if(S("Firestore.collectionGroup",arguments,1),_("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new v(m.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Uo(new Qn(ie.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return S("Firestore.runTransaction",arguments,1),_("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Lo(t,n))}))},e.prototype.batch=function(){return this.ensureClientConfigured(),new Oo(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(a()){case n.DEBUG:return"debug";case n.ERROR:return"error";case n.SILENT:return"silent";default:return h("Unknown log level: "+a())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(S("Firestore.setLogLevel",arguments,1),_("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":s(n.DEBUG);break;case"error":s(n.ERROR);break;case"silent":s(n.SILENT);break;default:throw new v(m.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},e}(),Lo=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;S("Transaction.get",arguments,1);var n=$o("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return h("Mismatch in docs returned from document lookup.");var i=e[0];if(i instanceof Bt)return new Fo(t._firestore,n._key,null,!1,!1,n._converter);if(i instanceof Ft)return new Fo(t._firestore,n._key,i,!1,!1,n._converter);throw h("BatchGetDocumentsRequest returned unexpected document type: "+i.constructor.name)}))},e.prototype.set=function(e,t,n){C("Transaction.set",arguments,2,3);var i=$o("Transaction.set",e,this._firestore);n=Wo("Transaction.set",n);var r=Yo(i._converter,t,"Transaction.set"),o=r[0],a=r[1],s=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(a,o,n.mergeFields):this._firestore._dataConverter.parseSetData(a,o);return this._transaction.set(i._key,s),this},e.prototype.update=function(e,t,n){for(var i,r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof t||t instanceof Qr?(k("Transaction.update",arguments,3),i=$o("Transaction.update",e,this._firestore),r=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(S("Transaction.update",arguments,2),i=$o("Transaction.update",e,this._firestore),r=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(i._key,r),this},e.prototype.delete=function(e){S("Transaction.delete",arguments,1);var t=$o("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),Oo=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){C("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var i=$o("WriteBatch.set",e,this._firestore);n=Wo("WriteBatch.set",n);var r=Yo(i._converter,t,"WriteBatch.set"),o=r[0],a=r[1],s=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(a,o,n.mergeFields):this._firestore._dataConverter.parseSetData(a,o);return this._mutations=this._mutations.concat(s.toMutations(i._key,mt.NONE)),this},e.prototype.update=function(e,t,n){for(var i,r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof t||t instanceof Qr?(k("WriteBatch.update",arguments,3),i=$o("WriteBatch.update",e,this._firestore),r=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(S("WriteBatch.update",arguments,2),i=$o("WriteBatch.update",e,this._firestore),r=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(r.toMutations(i._key,mt.exists(!0))),this},e.prototype.delete=function(e){S("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=$o("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new wt(t._key,mt.NONE)),this},e.prototype.commit=function(){return dn.__awaiter(this,void 0,void 0,(function(){return dn.__generator(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new v(m.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Po=function(){function e(e,t,n){this._key=e,this.firestore=t,this._converter=n,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n,i){if(t.length%2!=0)throw new v(m.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new ae(t),n,i)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new jo(this._key.path.popLast(),this.firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(S("DocumentReference.collection",arguments,1),_("DocumentReference.collection","non-empty string",1,e),!e)throw new v(m.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=ie.fromString(e);return new jo(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw B("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)&&this._converter===t._converter},e.prototype.set=function(e,t){C("DocumentReference.set",arguments,1,2),t=Wo("DocumentReference.set",t);var n=Yo(this._converter,e,"DocumentReference.set"),i=n[0],r=n[1],o=t.merge||t.mergeFields?this.firestore._dataConverter.parseMergeData(r,i,t.mergeFields):this.firestore._dataConverter.parseSetData(r,i);return this._firestoreClient.write(o.toMutations(this._key,mt.NONE))},e.prototype.update=function(e,t){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof e||e instanceof Qr?(k("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,i)):(S("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,mt.exists(!0)))},e.prototype.delete=function(){return S("DocumentReference.delete",arguments,0),this._firestoreClient.write([new wt(this._key,mt.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];C("DocumentReference.onSnapshot",arguments,1,4);var n,i={includeMetadataChanges:!1},r=0;"object"!=typeof e[r]||io(e[r])||(F("DocumentReference.onSnapshot",i=e[r],["includeMetadataChanges"]),D("DocumentReference.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++);var o={includeMetadataChanges:i.includeMetadataChanges};return io(e[r])?n=e[r]:(_("DocumentReference.onSnapshot","function",r,e[r]),A("DocumentReference.onSnapshot","function",r+1,e[r+1]),A("DocumentReference.onSnapshot","function",r+2,e[r+2]),n={next:e[r],error:e[r+1],complete:e[r+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,i=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(i=t.error.bind(t));var r=new $r({next:function(e){if(t.next){f(e.docs.size<=1,"Too many documents returned on a document query");var i=e.docs.get(n._key);t.next(new Fo(n.firestore,n._key,i,e.fromCache,e.hasPendingWrites,n._converter))}},error:i}),o=this._firestoreClient.listen(Qn.atPath(this._key.path),r,e);return function(){r.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(e){var t=this;return C("DocumentReference.get",arguments,0,1),zo("DocumentReference.get",e),new Promise((function(n,i){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new Fo(t.firestore,t._key,e,!0,e instanceof Ft&&e.hasLocalMutations,t._converter))}),i):t.getViaSnapshotListener(n,i,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){i(),!r.exists&&r.metadata.fromCache?t(new v(m.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&n&&"server"===n.source?t(new v(m.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(r)},error:t})},e.prototype.withConverter=function(t){return new e(this._key,this.firestore,t)},e}(),qo=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Fo=function(){function e(e,t,n,i,r,o){this._firestore=e,this._key=t,this._document=n,this._fromCache=i,this._hasPendingWrites=r,this._converter=o}return e.prototype.data=function(e){if(C("DocumentSnapshot.data",arguments,0,1),e=Go("DocumentSnapshot.data",e),this._document){if(this._converter){var t=new Bo(this._firestore,this._key,this._document,this._fromCache,this._hasPendingWrites);return this._converter.fromFirestore(t,e)}return this.toJSObject(this._document.data(),Tt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},e.prototype.get=function(e,t){if(C("DocumentSnapshot.get",arguments,1,2),t=Go("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(Eo("DocumentSnapshot.get",e));if(null!==n)return this.toJSValue(n,Tt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Po(this._key,this._firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new qo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw B("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))&&this._converter===t._converter},e.prototype.toJSObject=function(e,t){var n=this,i={};return e.forEach((function(e,r){i[e]=n.toJSValue(r,t)})),i},e.prototype.toJSValue=function(e,t){if(e instanceof Pt)return this.toJSObject(e,t);if(e instanceof Mt)return this.toJSArray(e,t);if(e instanceof Rt){var n=e.value(t),i=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(i)||c("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),new Po(n,this._firestore,this._converter)}return e.value(t)},e.prototype.toJSArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.toJSValue(e,t)}))},e}(),Bo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dn.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return f(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},t}(Fo),Uo=function(){function e(e,t,n){this._query=e,this.firestore=t,this._converter=n}return e.prototype.where=function(t,n,i){S("Query.where",arguments,3),q("Query.where",3,i);var r,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];R("Query.where",o,2,n);var a=Eo("Query.where",t),s=Jn.fromString(n);if(a.isKeyField()){if(s===Jn.ARRAY_CONTAINS||s===Jn.ARRAY_CONTAINS_ANY)throw new v(m.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===Jn.IN){this.validateDisjunctiveFilterElements(i,s);for(var u=[],c=0,l=i;c<l.length;c++){var h=l[c];u.push(this.parseDocumentIdValue(h))}r=new Mt(u)}else r=this.parseDocumentIdValue(i)}else s!==Jn.IN&&s!==Jn.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(i,s),r=this.firestore._dataConverter.parseQueryValue("Query.where",i,s===Jn.IN);var f=Xn.create(a,s,r);return this.validateNewFilter(f),new e(this._query.addFilter(f),this.firestore,this._converter)},e.prototype.orderBy=function(t,n){var i;if(C("Query.orderBy",arguments,1,2),A("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i=ri.ASCENDING;else{if("desc"!==n)throw new v(m.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i=ri.DESCENDING}if(null!==this._query.startAt)throw new v(m.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new v(m.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Eo("Query.orderBy",t),o=new ai(r,i);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore,this._converter)},e.prototype.limit=function(t){return S("Query.limit",arguments,1),_("Query.limit","number",1,t),U("Query.limit",1,t),new e(this._query.withLimitToFirst(t),this.firestore,this._converter)},e.prototype.limitToLast=function(t){return S("Query.limitToLast",arguments,1),_("Query.limitToLast","number",1,t),U("Query.limitToLast",1,t),new e(this._query.withLimitToLast(t),this.firestore,this._converter)},e.prototype.startAt=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];k("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(r),this.firestore,this._converter)},e.prototype.startAfter=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];k("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(r),this.firestore,this._converter)},e.prototype.endBefore=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];k("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(r),this.firestore,this._converter)},e.prototype.endAt=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];k("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(r),this.firestore,this._converter)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw B("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.withConverter=function(t){return new e(this._query,this.firestore,t)},e.prototype.boundFromDocOrFields=function(e,t,n,i){if(q(e,1,t),t instanceof Fo){if(n.length>0)throw new v(m.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var r=t;if(!r.exists)throw new v(m.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,r._document,i)}var o=[t].concat(n);return this.boundFromFields(e,o,i)},e.prototype.boundFromDocument=function(e,t,n){for(var i=[],r=0,o=this._query.orderBy;r<o.length;r++){var a=o[r];if(a.field.isKeyField())i.push(new Rt(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof xt)throw new v(m.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new v(m.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}i.push(s)}}return new oi(i,n)},e.prototype.boundFromFields=function(e,t,n){var i=this._query.explicitOrderBy;if(t.length>i.length)throw new v(m.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<t.length;o++){var a=t[o];if(i[o].field.isKeyField()){if("string"!=typeof a)throw new v(m.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new v(m.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(ie.fromString(a));if(!ae.isDocumentKey(s))throw new v(m.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new ae(s);r.push(new Rt(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);r.push(c)}}return new oi(r,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];C("Query.onSnapshot",arguments,1,4);var n,i={},r=0;return"object"!=typeof e[r]||io(e[r])||(F("Query.onSnapshot",i=e[r],["includeMetadataChanges"]),D("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++),io(e[r])?n=e[r]:(_("Query.onSnapshot","function",r,e[r]),A("Query.onSnapshot","function",r+1,e[r+1]),A("Query.onSnapshot","function",r+2,e[r+2]),n={next:e[r],error:e[r+1],complete:e[r+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(i,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,i=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(i=t.error.bind(t));var r=new $r({next:function(e){t.next&&t.next(new Vo(n.firestore,n._query,e,n._converter))},error:i}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,r,e);return function(){r.mute(),o.unlisten(a)}},e.prototype.validateHasExplicitOrderByForLimitToLast=function(e){if(e.hasLimitToLast()&&0===e.explicitOrderBy.length)throw new v(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},e.prototype.get=function(e){var t=this;return C("Query.get",arguments,0,1),zo("Query.get",e),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise((function(n,i){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new Vo(t.firestore,t._query,e,t._converter))}),i):t.getViaSnapshotListener(n,i,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){i(),r.metadata.fromCache&&n&&"server"===n.source?t(new v(m.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(r)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new v(m.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new v(m.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(ie.fromString(e));if(!ae.isDocumentKey(t))throw new v(m.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new Rt(this.firestore._databaseId,new ae(t))}if(e instanceof Po){var n=e;return new Rt(this.firestore._databaseId,n._key)}throw new v(m.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+M(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new v(m.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new v(m.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new v(m.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new v(m.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof Xn){var t=[Jn.ARRAY_CONTAINS,Jn.ARRAY_CONTAINS_ANY],n=[Jn.IN,Jn.ARRAY_CONTAINS_ANY],i=t.indexOf(e.op)>=0,r=n.indexOf(e.op)>=0;if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new v(m.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(r||i){var s=null;if(r&&(s=this._query.findFilterOperator(n)),null===s&&i&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new v(m.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new v(m.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new v(m.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Vo=function(){function e(e,t,n,i){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._converter=i,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new qo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;C("QuerySnapshot.forEach",arguments,1,2),_("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(i){e.call(t,n.convertToDocumentImpl(i))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new Uo(this._originalQuery,this._firestore,this._converter)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(F("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),D("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new v(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n,i){if(n.oldDocs.isEmpty()){var r,o=0;return n.docChanges.map((function(t){var a=new Bo(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key),i);return f(t.type===Fi.Added,"Invalid event type for first snapshot"),f(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}}))}var a=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==Fi.Metadata})).map((function(t){var r=new Bo(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key),i),o=-1,s=-1;return t.type!==Fi.Added&&(f((o=a.indexOf(t.doc.key))>=0,"Index for document not found"),a=a.delete(t.doc.key)),t.type!==Fi.Removed&&(s=(a=a.add(t.doc)).indexOf(t.doc.key)),{type:Qo(t.type),doc:r,oldIndex:o,newIndex:s}}))}(this._firestore,t,this._snapshot,this._converter),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw B("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)&&this._converter===t._converter},e.prototype.convertToDocumentImpl=function(e){return new Bo(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key),this._converter)},e}();dn.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(Vo.prototype.docChanges,e,{get:function(){return function(){throw new v(m.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var jo=function(e){function t(t,n,i){var r=e.call(this,Qn.atPath(t),n,i)||this;if(r._path=t,t.length%2!=1)throw new v(m.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return dn.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Po(new ae(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(C("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=W.newId()),_("CollectionReference.doc","non-empty string",1,e),""===e)throw new v(m.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=ie.fromString(e);return Po.forPath(this._query.path.child(t),this.firestore,this._converter)},t.prototype.add=function(e){S("CollectionReference.add",arguments,1),_("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},t.prototype.withConverter=function(e){return new t(this._path,this.firestore,e)},t}(Uo);function Wo(e,t){if(void 0===t)return{merge:!1};if(F(e,t,["merge","mergeFields"]),D(e,"boolean","merge",t.merge),x(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(e){return"string"==typeof e||e instanceof Qr})),void 0!==t.mergeFields&&void 0!==t.merge)throw new v(m.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Go(e,t){return void 0===t?{}:(F(e,t,["serverTimestamps"]),L(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function zo(e,t){A(e,"object",1,t),t&&(F(e,t,["source"]),L(e,0,"source",t.source,["default","server","cache"]))}function $o(e,t,n){if(t instanceof Po){if(t.firestore!==n)throw new v(m.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw B(e,"DocumentReference",1,t)}function Qo(e){switch(e){case Fi.Added:return"added";case Fi.Modified:case Fi.Metadata:return"modified";case Fi.Removed:return"removed";default:return h("Unknown change type: "+e)}}function Yo(e,t,n){var i;return e?(i=e.toFirestore(t),n="toFirestore() in "+n):i=t,[i,n]}var Jo=g(xo,"Use firebase.firestore() instead."),Xo=g(Lo,"Use firebase.firestore().runTransaction() instead."),Zo=g(Oo,"Use firebase.firestore().batch() instead."),ea=g(Po,"Use firebase.firestore().doc() instead."),ta=g(Fo),na=g(Bo),ia=g(Uo),ra=g(Vo),oa=g(jo,"Use firebase.firestore().collection() instead."),aa={Firestore:Jo,GeoPoint:tr,Timestamp:ye,Blob:J,Transaction:Xo,WriteBatch:Zo,DocumentReference:ea,DocumentSnapshot:ta,Query:ia,QueryDocumentSnapshot:na,QuerySnapshot:ra,CollectionReference:oa,FieldPath:Qr,FieldValue:ho,setLogLevel:xo.setLogLevel,CACHE_SIZE_UNLIMITED:No};function sa(e){e.INTERNAL.registerComponent(new Mo.Component("firestore",(function(e){var t=e.getProvider("app").getImmediate();return new xo(t,e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(function(e){f(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(aa)))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ua=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),ca=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){u("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(0)}},e.prototype.onNetworkUnavailable=function(){u("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(1)}},e.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),la=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){f(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){f(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){f(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){f(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){f(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){f(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),ha="Connection",fa={BatchGetDocuments:"batchGet",Commit:"commit"},da="gl-js/ fire/"+r,pa=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=da},e.prototype.invokeRPC=function(e,t,n){var i=this,r=this.makeUrl(e);return new Promise((function(o,a){var s=new Xc.XhrIo;s.listenOnce(Xc.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Xc.ErrorCode.NO_ERROR:var t=s.getResponseJson();u(ha,"XHR received:",JSON.stringify(t)),o(t);break;case Xc.ErrorCode.TIMEOUT:u(ha,'RPC "'+e+'" timed out'),a(new v(m.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(u(ha,'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var i=s.getResponseJson().error;if(i&&i.status&&i.message){var r=(c=i.status,l=c.toLowerCase().replace("_","-"),Object.values(m).indexOf(l)>=0?l:m.UNKNOWN);a(new v(r,i.message))}else a(new v(m.UNKNOWN,"Server responded with status "+s.getStatus()))}else u(ha,'RPC "'+e+'" failed'),a(new v(m.UNAVAILABLE,"Connection failed."));break;default:h('RPC "'+e+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{u(ha,'RPC "'+e+'" completed.')}var c,l}));var c=dn.__assign({},t);delete c.database;var l=JSON.stringify(c);u(ha,"XHR sending: ",r+" "+l);var f={"Content-Type":"text/plain"};i.modifyHeadersForRequest(f,n),s.send(r,"POST",l,f,15)}))},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Xc.createWebChannelTransport(),r={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(r.initMessageHeaders,t),Ro.isReactNative()||(r.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");u(ha,"Creating WebChannel: "+o+" "+r);var a=i.createWebChannel(o,r),s=!1,c=!1,l=new la({sendFn:function(e){c?u(ha,"Not sending because WebChannel is closed:",e):(s||(u(ha,"Opening WebChannel transport."),a.open(),s=!0),u(ha,"WebChannel sending:",e),a.send(e))},closeFn:function(){return a.close()}}),h=function(e,t){a.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(Xc.WebChannel.EventType.OPEN,(function(){c||u(ha,"WebChannel transport opened.")})),h(Xc.WebChannel.EventType.CLOSE,(function(){c||(c=!0,u(ha,"WebChannel transport closed"),l.callOnClose())})),h(Xc.WebChannel.EventType.ERROR,(function(e){c||(c=!0,u(ha,"WebChannel transport errored:",e),l.callOnClose(new v(m.UNAVAILABLE,"The operation could not be completed")))})),h(Xc.WebChannel.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];f(!!n,"Got a webchannel message without data.");var i=n,r=i.error||(null===(t=i[0])||void 0===t?void 0:t.error);if(r){u(ha,"WebChannel received error:",r);var o=r.status,s=function(e){var t=Ri[e];if(void 0!==t)return Mi(t)}(o),h=r.message;void 0===s&&(s=m.INTERNAL,h="Unknown error status: "+o+" with message "+r.message),c=!0,l.callOnClose(new v(s,h)),a.close()}else u(ha,"WebChannel received:",n),l.callOnMessage(n)}})),setTimeout((function(){l.callOnOpen()}),0),l},e.prototype.makeUrl=function(e){var t=fa[e];return f(void 0!==t,"Unknown REST mapping for: "+e),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+t},e}(),ma=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new pa(e))},e.prototype.newConnectivityMonitor=function(){return ca.isAvailable()?new ca:new ua},e.prototype.newSerializer=function(e){return new mr(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
d.setPlatform(new ma);var va="@firebase/firestore",ga="1.9.1";
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ya(e){sa(e),e.registerVersion(va,ga)}ya(i),t.registerFirestore=ya}));tt(Zc);Zc.registerFirestore;(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function r(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,i){if(i){var r=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(i=i(o=r[e=e[e.length-1]]))!=o&&null!=i&&t(r,e,{configurable:!0,writable:!0,value:i})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function i(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;i.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=n.setTimeout;i.prototype.c=function(e){a(e,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},i.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new i;return t.prototype.o=function(e){var t=this.f();e.La(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){o(e)}}:t}var r,o,a=new t((function(e,t){r=e,o=t}));return this.La(i(e,r),i(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.La=function(e,t){function n(){switch(i.b){case 1:e(i.c);break;case 2:t(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=r(e),a=i.next();!a.done;a=i.next())o(a.value).La(t,n)}))},t.all=function(e){var n=r(e),i=n.next();return i.done?o([]):new t((function(e,t){function r(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,o(i.value).La(r(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var o=o||{},a=this||self;function s(e){return"string"==typeof e}function u(e){return"boolean"==typeof e}var c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(){}function f(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function d(e){return null===e}function p(e){return"array"==f(e)}function m(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"function"==f(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function T(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:T).apply(null,arguments)}function I(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now||function(){return+new Date};function k(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.gd=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function C(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function _(e){if(Error.captureStackTrace)Error.captureStackTrace(this,_);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function A(e,t){for(var n="",i=(e=e.split("%s")).length-1,r=0;r<i;r++)n+=e[r]+(r<t.length?t[r]:"%s");_.call(this,n+e[i])}function N(e,t){throw new A("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function D(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function x(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function L(){this.b=this.a=null}k(_,Error),_.prototype.name="CustomError",k(A,_),A.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var R=new D((function(){return new P}),(function(e){e.reset()}));function O(){var e=je,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function P(){this.next=this.b=this.a=null}function M(e,t){e:{try{var n=e&&e.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||a).Element&&i.Location){var r=i;break e}}catch(e){}r=null}if(r&&void 0!==r[t]&&(!e||!(e instanceof r[t])&&(e instanceof r.Location||e instanceof r.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;N("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}L.prototype.add=function(e,t){var n=R.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},P.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},P.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(s(e))return s(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},F=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=s(e)?e.split(""):e,o=0;o<i;o++)o in r&&t.call(n,r[o],o,e)};var B=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),r=s(e)?e.split(""):e,o=0;o<n;o++)o in r&&(i[o]=t.call(void 0,r[o],o,e));return i},U=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=s(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e))return!0;return!1};function V(e,t){return 0<=q(e,t)}function j(e,t){var n;return(n=0<=(t=q(e,t)))&&Array.prototype.splice.call(e,t,1),n}function W(e,t){!function(e,t){for(var n=s(e)?e.split(""):e,i=e.length-1;0<=i;--i)i in n&&t.call(void 0,n[i],i,e)}(e,(function(n,i){t.call(void 0,n,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&0}))}function H(e){return Array.prototype.concat.apply([],arguments)}function K(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function G(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function z(e){for(var t in e)return!1;return!0}function $(e){var t,n={};for(t in e)n[t]=e[t];return n}var Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var o=0;o<Q.length;o++)n=Q[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function J(e,t){this.a=e===ee&&t||"",this.b=Z}function X(e){return e instanceof J&&e.constructor===J&&e.b===Z?e.a:(N("expected object of type Const, got '"+e+"'"),"type_error:Const")}J.prototype.qa=!0,J.prototype.pa=function(){return this.a},J.prototype.toString=function(){return"Const{"+this.a+"}"};var Z={},ee={},te=new J(ee,"");function ne(){this.a="",this.b=se}function ie(e){return e instanceof ne&&e.constructor===ne&&e.b===se?e.a:(N("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function re(e,t){var n=X(e);if(!ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ue(e=n.replace(oe,(function(e,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[i])instanceof J?X(e):encodeURIComponent(String(e))})))}ne.prototype.qa=!0,ne.prototype.pa=function(){return this.a.toString()},ne.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var oe=/%{(\w+)}/g,ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,se={};function ue(e){var t=new ne;return t.a=e,t}var ce=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},le=/&/g,he=/</g,fe=/>/g,de=/"/g,pe=/'/g,me=/\x00/g,ve=/[\x00&<>"']/;function ge(e,t){return-1!=e.indexOf(t)}function ye(e,t){return e<t?-1:e>t?1:0}function be(){this.a="",this.b=Se}function we(e){return e instanceof be&&e.constructor===be&&e.b===Se?e.a:(N("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}be.prototype.qa=!0,be.prototype.pa=function(){return this.a.toString()},be.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Te=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ee(e){return e instanceof be?e:(e="object"==typeof e&&e.qa?e.pa():String(e),Te.test(e)||(e="about:invalid#zClosurez"),ke(e))}var Ie,Se={};function ke(e){var t=new be;return t.a=e,t}ke("about:blank");e:{var Ce=a.navigator;if(Ce){var _e=Ce.userAgent;if(_e){Ie=_e;break e}}Ie=""}function Ae(e){return ge(Ie,e)}function Ne(){this.a="",this.b=xe}function De(e){return e instanceof Ne&&e.constructor===Ne&&e.b===xe?e.a:(N("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}Ne.prototype.qa=!0,Ne.prototype.pa=function(){return this.a.toString()},Ne.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xe={};function Le(e){var t=new Ne;return t.a=e,t}Le("<!DOCTYPE html>");var Re,Oe,Pe=Le("");function Me(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function qe(e){return ve.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(le,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(he,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(fe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(de,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(pe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(me,"&#0;"))),e}function Fe(e){a.setTimeout((function(){throw e}),0)}function Be(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ae("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=ue(X(te));M(e,"HTMLIFrameElement"),e.src=ie(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(De(Pe)),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),void 0!==e&&!Ae("Trident")&&!Ae("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){i.next={yb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){a.setTimeout(e,0)}}function Ue(e,t){Oe||function(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);Oe=function(){e.then(We)}}else Oe=function(){var e=We;!v(a.setImmediate)||a.Window&&a.Window.prototype&&!Ae("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(Re||(Re=Be()),Re(e)):a.setImmediate(e)}}(),Ve||(Oe(),Ve=!0),je.add(e,t)}Le("<br>");var Ve=!1,je=new L;function We(){for(var e;e=O();){try{e.a.call(e.b)}catch(e){Fe(e)}x(R,e)}Ve=!1}function He(e,t){if(this.a=Ke,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){it(n,Ge,e)}),(function(e){if(!(e instanceof lt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}it(n,ze,e)}))}catch(e){it(this,ze,e)}}var Ke=0,Ge=2,ze=3;function $e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}$e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Qe=new D((function(){return new $e}),(function(e){e.reset()}));function Ye(e,t,n){var i=Qe.get();return i.g=e,i.b=t,i.f=n,i}function Je(e){if(e instanceof He)return e;var t=new He(h);return it(t,Ge,e),t}function Xe(e){return new He((function(t,n){n(e)}))}function Ze(e,t,n){rt(e,t,n,null)||Ue(I(t,e))}function et(e){return new He((function(t){var n=e.length,i=[];if(n)for(var r=function(e,r,o){n--,i[e]=r?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&t(i)},o=0;o<e.length;o++)Ze(e[o],I(r,o,!0),I(r,o,!1));else t(i)}))}function tt(e,t){e.b||e.a!=Ge&&e.a!=ze||ot(e),e.f?e.f.next=t:e.b=t,e.f=t}function nt(e,t,n,i){var r=Ye(null,null,null);return r.a=new He((function(e,o){r.g=t?function(n){try{var r=t.call(i,n);e(r)}catch(e){o(e)}}:e,r.b=n?function(t){try{var r=n.call(i,t);void 0===r&&t instanceof lt?o(t):e(r)}catch(e){o(e)}}:o})),r.a.c=e,tt(e,r),r.a}function it(e,t,n){e.a==Ke&&(e===n&&(t=ze,n=new TypeError("Promise cannot resolve to itself")),e.a=1,rt(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,ot(e),t!=ze||n instanceof lt||function(e,t){e.g=!0,Ue((function(){e.g&&ct.call(null,t)}))}(e,n)))}function rt(e,t,n,i){if(e instanceof He)return tt(e,Ye(t||h,n||null,i)),!0;if(C(e))return e.then(t,n,i),!0;if(g(e))try{var r=e.then;if(v(r))return function(e,t,n,i,r){function o(e){a||(a=!0,i.call(r,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(r,e))}),o)}catch(e){o(e)}}(e,r,t,n,i),!0}catch(e){return n.call(i,e),!0}return!1}function ot(e){e.h||(e.h=!0,Ue(e.Zb,e))}function at(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function st(e,t,n,i){if(n==ze&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,ut(t,n,i);else try{t.c?t.g.call(t.f):ut(t,n,i)}catch(e){ct.call(null,e)}x(Qe,t)}function ut(e,t,n){t==Ge?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}He.prototype.then=function(e,t,n){return nt(this,v(e)?e:null,v(t)?t:null,n)},He.prototype.$goog_Thenable=!0,(e=He.prototype).ka=function(e,t){return(e=Ye(e,e,t)).c=!0,tt(this,e),this},e.s=function(e,t){return nt(this,null,e,t)},e.cancel=function(e){this.a==Ke&&Ue((function(){!function e(t,n){if(t.a==Ke)if(t.c){var i=t.c;if(i.b){for(var r=0,o=null,a=null,s=i.b;s&&(s.c||(r++,s.a==t&&(o=s),!(o&&1<r)));s=s.next)o||(a=s);o&&(i.a==Ke&&1==r?e(i,n):(a?((r=a).next==i.f&&(i.f=r),r.next=r.next.next):at(i),st(i,o,ze,n)))}t.c=null}else it(t,ze,n)}(this,new lt(e))}),this)},e.Oc=function(e){this.a=Ke,it(this,Ge,e)},e.Pc=function(e){this.a=Ke,it(this,ze,e)},e.Zb=function(){for(var e;e=at(this);)st(this,e,this.a,this.i);this.h=!1};var ct=Fe;function lt(e){_.call(this,e)}function ht(){this.va=this.va,this.la=this.la}k(lt,_),lt.prototype.name="cancel";var ft=0;function dt(e){if(!e.va&&(e.va=!0,e.za(),0!=ft))e[y]||(e[y]=++b)}function pt(e){return pt[" "](e),e}ht.prototype.va=!1,ht.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},pt[" "]=h;var mt,vt=Ae("Opera"),gt=Ae("Trident")||Ae("MSIE"),yt=Ae("Edge"),bt=yt||gt,wt=Ae("Gecko")&&!(ge(Ie.toLowerCase(),"webkit")&&!Ae("Edge"))&&!(Ae("Trident")||Ae("MSIE"))&&!Ae("Edge"),Tt=ge(Ie.toLowerCase(),"webkit")&&!Ae("Edge");function Et(){var e=a.document;return e?e.documentMode:void 0}e:{var It="",St=function(){var e=Ie;return wt?/rv:([^\);]+)(\)|;)/.exec(e):yt?/Edge\/([\d\.]+)/.exec(e):gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Tt?/WebKit\/(\S+)/.exec(e):vt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(St&&(It=St?St[1]:""),gt){var kt=Et();if(null!=kt&&kt>parseFloat(It)){mt=String(kt);break e}}mt=It}var Ct,_t={};function At(e){return function(e,t){var n=_t;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ce(String(mt)).split("."),i=ce(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ye(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ye(0==a[2].length,0==s[2].length)||ye(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}Ct=a.document&&gt?Et():void 0;var Nt=Object.freeze||function(e){return e},Dt=!gt||9<=Number(Ct),xt=gt&&!At("9"),Lt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",h,t),a.removeEventListener("test",h,t)}catch(e){}return e}();function Rt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Ot(e,t){if(Rt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(wt){e:{try{pt(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=s(e.pointerType)?e.pointerType:Pt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Rt.prototype.preventDefault=function(){this.Mb=!1},k(Ot,Rt);var Pt=Nt({2:"touch",3:"pen",4:"mouse"});Ot.prototype.preventDefault=function(){Ot.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,xt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Ot.prototype.f=function(){return this.a};var Mt="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Ft(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.Pa=r,this.key=++qt,this.ta=this.Ka=!1}function Bt(e){e.ta=!0,e.listener=null,e.proxy=null,e.src=null,e.Pa=null}function Ut(e){this.src=e,this.a={},this.b=0}function Vt(e,t){var n=t.type;n in e.a&&j(e.a[n],t)&&(Bt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function jt(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.ta&&o.listener==t&&o.capture==!!n&&o.Pa==i)return r}return-1}Ut.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=jt(e,t,i,r);return-1<a?(t=e[a],n||(t.Ka=!1)):((t=new Ft(t,this.src,o,!!i,r)).Ka=n,e.push(t)),t};var Wt="closure_lm_"+(1e6*Math.random()|0),Ht={};function Kt(e,t,n,i,r){if(i&&i.once)zt(e,t,n,i,r);else if(p(t))for(var o=0;o<t.length;o++)Kt(e,t[o],n,i,r);else n=nn(n),e&&e[Mt]?on(e,t,n,g(i)?!!i.capture:!!i,r):Gt(e,t,n,!1,i,r)}function Gt(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=g(r)?!!r.capture:!!r,s=en(e);if(s||(e[Wt]=s=new Ut(e)),!(n=s.add(t,n,i,a,o)).proxy)if(i=function(){var e=Zt,t=Dt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Lt||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Yt(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}}function zt(e,t,n,i,r){if(p(t))for(var o=0;o<t.length;o++)zt(e,t[o],n,i,r);else n=nn(n),e&&e[Mt]?an(e,t,n,g(i)?!!i.capture:!!i,r):Gt(e,t,n,!0,i,r)}function $t(e,t,n,i,r){if(p(t))for(var o=0;o<t.length;o++)$t(e,t[o],n,i,r);else i=g(i)?!!i.capture:!!i,n=nn(n),e&&e[Mt]?(e=e.u,(t=String(t).toString())in e.a&&(-1<(n=jt(o=e.a[t],n,i,r))&&(Bt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=en(e))&&(t=e.a[t.toString()],e=-1,t&&(e=jt(t,n,i,r)),(n=-1<e?t[e]:null)&&Qt(n))}function Qt(e){if("number"!=typeof e&&e&&!e.ta){var t=e.src;if(t&&t[Mt])Vt(t.u,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Yt(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=en(t))?(Vt(n,e),0==n.b&&(n.src=null,t[Wt]=null)):Bt(e)}}}function Yt(e){return e in Ht?Ht[e]:Ht[e]="on"+e}function Jt(e,t,n,i){var r=!0;if((e=en(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ta&&(o=Xt(o,i),r=r&&!1!==o)}return r}function Xt(e,t){var n=e.listener,i=e.Pa||e.src;return e.Ka&&Qt(e),n.call(i,t)}function Zt(e,t){if(e.ta)return!0;if(!Dt){if(!t)e:{t=["window","event"];for(var n=a,i=0;i<t.length;i++)if(null==(n=n[t[i]])){t=null;break e}t=n}if(t=new Ot(i=t,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){e:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=t.b;r;r=r.parentNode)i.push(r);for(e=e.type,r=i.length-1;0<=r;r--){t.b=i[r];var o=Jt(i[r],e,!0,t);n=n&&o}for(r=0;r<i.length;r++)t.b=i[r],o=Jt(i[r],e,!1,t),n=n&&o}return n}return Xt(e,new Ot(t,this))}function en(e){return(e=e[Wt])instanceof Ut?e:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function nn(e){return v(e)?e:(e[tn]||(e[tn]=function(t){return e.handleEvent(t)}),e[tn])}function rn(){ht.call(this),this.u=new Ut(this),this.Sb=this,this.Xa=null}function on(e,t,n,i,r){e.u.add(String(t),n,!1,i,r)}function an(e,t,n,i,r){e.u.add(String(t),n,!0,i,r)}function sn(e,t,n,i){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ta&&a.capture==n){var s=a.listener,u=a.Pa||a.src;a.Ka&&Vt(e.u,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Mb}function un(e,t,n){if(v(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function cn(e){var t=null;return new He((function(n,i){-1==(t=un((function(){n(void 0)}),e))&&i(Error("Failed to schedule timer."))})).s((function(e){throw a.clearTimeout(t),e}))}function ln(e){if(e.U&&"function"==typeof e.U)return e.U();if(s(e))return e.split("");if(m(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}function hn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(m(e)||s(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var i in t=[],n=0,e)t[n++]=i;return t}}function fn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof fn)for(n=e.X(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function dn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];pn(e.b,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.c!=e.a.length){var r={};for(n=t=0;t<e.a.length;)pn(r,i=e.a[t])||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}k(rn,ht),rn.prototype[Mt]=!0,rn.prototype.addEventListener=function(e,t,n,i){Kt(this,e,t,n,i)},rn.prototype.removeEventListener=function(e,t,n,i){$t(this,e,t,n,i)},rn.prototype.dispatchEvent=function(e){var t,n=this.Xa;if(n)for(t=[];n;n=n.Xa)t.push(n);n=this.Sb;var i=e.type||e;if(s(e))e=new Rt(e,n);else if(e instanceof Rt)e.target=e.target||n;else{var r=e;Y(e=new Rt(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];r=sn(a,i,!0,e)&&r}if(r=sn(a=e.b=n,i,!0,e)&&r,r=sn(a,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=sn(a=e.b=t[o],i,!1,e)&&r;return r},rn.prototype.za=function(){if(rn.qb.za.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)Bt(n[i]);delete t.a[e],t.b--}}this.Xa=null},(e=fn.prototype).U=function(){dn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.X=function(){return dn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return pn(this.b,e)?this.b[e]:t},e.set=function(e,t){pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}};var mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof vn?(this.h=void 0!==t?t:e.h,gn(this,e.f),this.i=e.i,this.b=e.b,yn(this,e.l),this.c=e.c,bn(this,Fn(e.a)),this.g=e.g):e&&(n=String(e).match(mn))?(this.h=!!t,gn(this,n[1]||"",!0),this.i=Sn(n[2]||""),this.b=Sn(n[3]||"",!0),yn(this,n[4]),this.c=Sn(n[5]||"",!0),bn(this,n[6]||"",!0),this.g=Sn(n[7]||"")):(this.h=!!t,this.a=new Ln(null,this.h))}function gn(e,t,n){e.f=n?Sn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function yn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function bn(e,t,n){t instanceof Ln?(e.a=t,function(e,t){t&&!e.f&&(Rn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Pn(this,t),qn(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=kn(t,Dn)),e.a=new Ln(t,e.h))}function wn(e,t,n){e.a.set(t,n)}function Tn(e,t){return e.a.get(t)}function En(e){return e instanceof vn?new vn(e):new vn(e,void 0)}function In(e,t){var n=new vn(null,void 0);return gn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function Sn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kn(e,t,n){return s(e)?(e=encodeURI(e).replace(t,Cn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Cn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(kn(t,_n,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(kn(t,_n,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(kn(n,"/"==n.charAt(0)?Nn:An,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",kn(n,xn)),e.join("")},vn.prototype.resolve=function(e){var t=new vn(this),n=!!e.f;n?gn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var i=e.c;if(n)yn(t,e.l);else if(n=!!e.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=t.c.lastIndexOf("/");-1!=r&&(i=t.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ge(r,"./")||ge(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?t.c=i:n=""!==e.a.toString(),n?bn(t,Fn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var _n=/[#\/\?@]/g,An=/[#\?:]/g,Nn=/[#\?]/g,Dn=/[#\?@]/g,xn=/#/g;function Ln(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Rn(e){e.a||(e.a=new fn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function On(e){var t=hn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Ln(null,void 0);e=ln(e);for(var i=0;i<t.length;i++){var r=t[i],o=e[i];p(o)?qn(n,r,o):n.add(r,o)}return n}function Pn(e,t){Rn(e),t=Bn(e,t),pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&dn(e)))}function Mn(e,t){return Rn(e),t=Bn(e,t),pn(e.a.b,t)}function qn(e,t,n){Pn(e,t),0<n.length&&(e.c=null,e.a.set(Bn(e,t),K(n)),e.b+=n.length)}function Fn(e){var t=new Ln;return t.c=e.c,e.a&&(t.a=new fn(e.a),t.b=e.b),t}function Bn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(e=Ln.prototype).add=function(e,t){Rn(this),this.c=null,e=Bn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Rn(this),this.a.forEach((function(n,i){F(n,(function(n){e.call(t,n,i,this)}),this)}),this)},e.X=function(){Rn(this);for(var e=this.a.U(),t=this.a.X(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},e.U=function(e){Rn(this);var t=[];if(s(e))Mn(this,e)&&(t=H(t,this.a.get(Bn(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=H(t,e[n])}return t},e.set=function(e,t){return Rn(this),this.c=null,Mn(this,e=Bn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.U(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),e.push(a)}}return this.c=e.join("&")};var Un=!gt||9<=Number(Ct);function Vn(e){var t=document;return s(e)?t.getElementById(e):e}function jn(e,t){G(t,(function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Wn.hasOwnProperty(n)?e.setAttribute(Wn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var Wn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hn(e,t,n){var i=arguments,r=document,o=String(i[0]),a=i[1];if(!Un&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',qe(a.name),'"'),a.type){o.push(' type="',qe(a.type),'"');var u={};Y(u,a),delete u.type,a=u}o.push(">"),o=o.join("")}return o=r.createElement(o),a&&(s(a)?o.className=a:p(a)?o.className=a.join(" "):jn(o,a)),2<i.length&&function(e,t,n){function i(n){n&&t.appendChild(s(n)?e.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];!m(o)||g(o)&&0<o.nodeType?i(o):F(Kn(o)?K(o):o,i)}}(r,o,i),o}function Kn(e){if(e&&"number"==typeof e.length){if(g(e))return"function"==typeof e.item||"string"==typeof e.item;if(v(e))return"function"==typeof e.item}return!1}function Gn(e){var t=[];return function e(t,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(p(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),e(t,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&("function"!=typeof(a=n[r])&&(i.push(o),Yn(r,i),i.push(":"),e(t,a,i),o=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":Yn(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new zn,e,t),t.join("")}function zn(){}var $n={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Qn=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Yn(e,t){t.push('"',e.replace(Qn,(function(e){var t=$n[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),$n[e]=t),t})),'"')}function Jn(){var e=vi();return gt&&!!Ct&&11==Ct||/Edge\/\d+/.test(e)}function Xn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function Zn(e,t){t=t||a.window;var n="about:blank";e&&(n=we(Ee(e)).toString()),t.location.href=n}function ei(e){return!!((e=(e||vi()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function ti(e){e=e||a.window;try{e.close()}catch(e){}}function ni(e,t,n){var i=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=vi().toLowerCase(),i&&(t.target=i,ge(n,"crios/")&&(t.target="_blank")),di(vi())==hi&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),i=window,t=n instanceof be?n:Ee(void 0!==n.href?n.href:String(n)),n=e.target||n.target,r=[],e)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(e[a]?1:0))}var a=r.join(",");if((Ae("iPhone")&&!Ae("iPod")&&!Ae("iPad")||Ae("iPad")||Ae("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(M(a=i.document.createElement("A"),"HTMLAnchorElement"),t instanceof be||t instanceof be||(t="object"==typeof t&&t.qa?t.pa():String(t),Te.test(t)||(t="about:invalid#zClosurez"),t=ke(t)),a.href=we(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=i.open("",n,a),e=we(t).toString(),a&&(bt&&ge(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Le('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qe(e)+'">'),a.document.write(De(e)),a.document.close())):(a=i.open(we(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var ii=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ri=/^[^@]+@[^@]+$/;function oi(){var e=null;return new He((function(t){"complete"==a.document.readyState?t():(e=function(){t()},zt(window,"load",e))})).s((function(t){throw $t(window,"load",e),t}))}function ai(e){return e=e||vi(),!("file:"!==Ti()&&"ionic:"!==Ti()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function si(){var e=a.window;try{return!(!e||e==e.top)}catch(e){return!1}}function ui(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function ci(){return Go.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Go.INTERNAL.hasOwnProperty("node")?"Node":ui()?"Worker":"Browser"}function li(){var e=ci();return"ReactNative"===e||"Node"===e}var hi="Firefox",fi="Chrome";function di(e){var t=e.toLowerCase();return ge(t,"opera/")||ge(t,"opr/")||ge(t,"opios/")?"Opera":ge(t,"iemobile")?"IEMobile":ge(t,"msie")||ge(t,"trident/")?"IE":ge(t,"edge/")?"Edge":ge(t,"firefox/")?hi:ge(t,"silk/")?"Silk":ge(t,"blackberry")?"Blackberry":ge(t,"webos")?"Webos":!ge(t,"safari/")||ge(t,"chrome/")||ge(t,"crios/")||ge(t,"android")?!ge(t,"chrome/")&&!ge(t,"crios/")||ge(t,"edge/")?ge(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":fi:"Safari"}var pi={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function mi(e,t){t=t||[];var n,i=[],r={};for(n in pi)r[pi[n]]=!0;for(n=0;n<t.length;n++)void 0!==r[t[n]]&&(delete r[t[n]],i.push(t[n]));return i.sort(),(t=i).length||(t=["FirebaseCore-web"]),"Browser"===(i=ci())?i=di(r=vi()):"Worker"===i&&(i=di(r=vi())+"-"+i),i+"/JsCore/"+e+"/"+t.join(",")}function vi(){return a.navigator&&a.navigator.userAgent||""}function gi(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function yi(){try{var e=a.localStorage,t=Ci();if(e)return e.setItem(t,"1"),e.removeItem(t),!Jn()||!!a.indexedDB}catch(e){return ui()&&!!a.indexedDB}return!1}function bi(){return(wi()||"chrome-extension:"===Ti()||ai())&&!li()&&yi()&&!ui()}function wi(){return"http:"===Ti()||"https:"===Ti()}function Ti(){return a.location&&a.location.protocol||null}function Ei(e){return!ei(e=e||vi())&&di(e)!=hi}function Ii(e){return void 0===e?null:Gn(e)}function Si(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function ki(e){if(null!==e)return JSON.parse(e)}function Ci(e){return e||Math.floor(1e9*Math.random()).toString()}function _i(e){return"Safari"!=di(e=e||vi())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Ai(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Ni(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=vi(),t=ci(),this.b=ei(e)||"ReactNative"===t}function Di(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function xi(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Li(){return!(!gi("fireauth.oauthhelper",a)&&!gi("fireauth.iframe",a))}Ni.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!wi()&&"chrome-extension:"!==Ti()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ri,Oi={};function Pi(e){Oi[e]||(Oi[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Mi={};Object.defineProperty(Mi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Mi,"abcd",{configurable:!0,enumerable:!0,value:2}),Ri=2==Mi.abcd}catch(e){Ri=!1}function qi(e,t,n){Ri?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Fi(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&qi(e,n,t[n])}function Bi(e){var t={};return Fi(t,e),t}function Ui(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)qi(t,n,Ui(e[n]));return t}function Vi(e){var t={},n=e[Wi],i=e[Hi];if(!(e=e[Ki])||e!=ji&&!n)throw Error("Invalid provider user info!");t[zi]=i||null,t[Gi]=n||null,qi(this,Qi,e),qi(this,$i,Ui(t))}var ji="EMAIL_SIGNIN",Wi="email",Hi="newEmail",Ki="requestType",Gi="email",zi="fromEmail",$i="data",Qi="operation";function Yi(e,t){this.code=Xi+e,this.message=t||Zi[e]||""}function Ji(e){var t=e&&e.code;return t?new Yi(t.substring(Xi.length),e.message):null}k(Yi,Error),Yi.prototype.A=function(){return{code:this.code,message:this.message}},Yi.prototype.toJSON=function(){return this.A()};var Xi="auth/",Zi={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function er(e){var t=Tn(e=En(e),tr)||null,n=Tn(e,nr)||null,i=Tn(e,or)||null;if(i=i&&sr[i]||null,!t||!n||!i)throw new Yi("argument-error",tr+", "+nr+"and "+or+" are required in a valid action code URL.");Fi(this,{apiKey:t,operation:i,code:n,continueUrl:Tn(e,ir)||null,languageCode:Tn(e,rr)||null,tenantId:Tn(e,ar)||null})}var tr="apiKey",nr="oobCode",ir="continueUrl",rr="languageCode",or="mode",ar="tenantId",sr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:ji,verifyEmail:"VERIFY_EMAIL"};function ur(e){try{return new er(e)}catch(e){return null}}function cr(e){var t=e[pr];if(void 0===t)throw new Yi("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Yi("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[lr];if(n&&"object"==typeof n){t=n[gr];var i=n[mr];if(n=n[vr],"string"==typeof t&&t.length){if(this.a=t,void 0!==i&&"boolean"!=typeof i)throw new Yi("argument-error",mr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Yi("argument-error",vr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new Yi("argument-error",gr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new Yi("missing-android-pkg-name")}}else if(void 0!==n)throw new Yi("argument-error",lr+" property must be a non null object when specified.");if(this.f=null,(t=e[dr])&&"object"==typeof t){if("string"==typeof(t=t[yr])&&t.length)this.f=t;else if(void 0!==t)throw new Yi("argument-error",yr+" property must be a non empty string when specified.")}else if(void 0!==t)throw new Yi("argument-error",dr+" property must be a non null object when specified.");if(void 0!==(t=e[fr])&&"boolean"!=typeof t)throw new Yi("argument-error",fr+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[hr])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new Yi("argument-error",hr+" property must be a non empty string when specified.");this.i=e||null}var lr="android",hr="dynamicLinkDomain",fr="handleCodeInApp",dr="iOS",pr="url",mr="installApp",vr="minimumVersion",gr="packageName",yr="bundleId";function br(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var wr=null,Tr=null;function Er(e){var t="";return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=Tr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!wr){wr={},Tr={};for(var e=0;65>e;e++)wr[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Tr[wr[e]]=e,62<=e&&(Tr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}function Ir(e){this.f=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Sr(e){return(e=kr(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Ir(e):null}function kr(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Er(e))}catch(e){}return null}Ir.prototype.R=function(){return this.c},Ir.prototype.g=function(){return this.b};var Cr,_r={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Ar(e){for(var t in _r)if(_r[t].id===e)return{firebaseEndpoint:(e=_r[t]).cb,secureTokenEndpoint:e.ib};return null}Cr=Ar("__EID__")?"__EID__":void 0;var Nr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Dr=["client_id","response_type","scope","redirect_uri","state"],xr={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Dr},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Dr},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Dr},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:Nr},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Lr(e){for(var t in xr)if(xr[t].Fa==e)return xr[t];return null}function Rr(e){var t={};t["facebook.com"]=Fr,t["google.com"]=Ur,t["github.com"]=Br,t["twitter.com"]=Vr;var n=e&&e[Pr];try{if(n)return t[n]?new t[n](e):new qr(e);if(void 0!==e[Or])return new Mr(e)}catch(e){}return null}var Or="idToken",Pr="providerId";function Mr(e){var t=e[Pr];if(!t&&e[Or]){var n=Sr(e[Or]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),qi(this,"providerId",t),qi(this,"isNewUser",n)}function qr(e){Mr.call(this,e),qi(this,"profile",Ui((e=ki(e.rawUserInfo||"{}"))||{}))}function Fr(e){if(qr.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Br(e){if(qr.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");qi(this,"username",this.profile&&this.profile.login||null)}function Ur(e){if(qr.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Vr(e){if(qr.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");qi(this,"username",e.screenName||null)}function jr(e){var t=En(e),n=Tn(t,"link"),i=Tn(En(n),"link");return t=Tn(t,"deep_link_id"),Tn(En(t),"link")||t||i||n||e}function Wr(){}function Hr(e,t){return e.then((function(e){if(e[Ra]){var n=Sr(e[Ra]);if(!n||t!=n.f)throw new Yi("user-mismatch");return e}throw new Yi("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==Xi+"user-not-found"?new Yi("user-mismatch"):e}))}function Kr(e,t){if(!t)throw new Yi("internal-error","failed to construct a credential");this.a=t,qi(this,"providerId",e),qi(this,"signInMethod",e)}function Gr(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function zr(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Kr(e.providerId,e.pendingToken)}catch(e){}return null}function $r(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&qi(this,"idToken",t.idToken),t.accessToken&&qi(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&qi(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Yi("internal-error","failed to construct a credential");qi(this,"accessToken",t.oauthToken),qi(this,"secret",t.oauthTokenSecret)}qi(this,"providerId",e),qi(this,"signInMethod",n)}function Qr(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:On(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Yr(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new $r(e.providerId,t,e.signInMethod)}catch(e){}}return null}function Jr(e,t){this.Fc=t||[],Fi(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.eb=(Lr(e)||{}).Ea||null,this.bb=null}function Xr(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new Yi("argument-error",'SAML provider IDs must be prefixed with "saml."');Jr.call(this,e,[])}function Zr(e){Jr.call(this,e,Dr),this.a=[]}function eo(){Zr.call(this,"facebook.com")}function to(e){if(!e)throw new Yi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new eo).credential({accessToken:t})}function no(){Zr.call(this,"github.com")}function io(e){if(!e)throw new Yi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new no).credential({accessToken:t})}function ro(){Zr.call(this,"google.com"),this.ya("profile")}function oo(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new ro).credential({idToken:n,accessToken:t})}function ao(){Jr.call(this,"twitter.com",Nr)}function so(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Yi("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new $r("twitter.com",n,"twitter.com")}function uo(e,t,n){this.a=e,this.c=t,qi(this,"providerId","password"),qi(this,"signInMethod",n===lo.EMAIL_LINK_SIGN_IN_METHOD?lo.EMAIL_LINK_SIGN_IN_METHOD:lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function co(e){return e&&e.email&&e.password?new uo(e.email,e.password,e.signInMethod):null}function lo(){Fi(this,{providerId:"password",isOAuthProvider:!1})}function ho(e,t){if(!(t=fo(t)))throw new Yi("argument-error","Invalid email link!");return new uo(e,t.code,lo.EMAIL_LINK_SIGN_IN_METHOD)}function fo(e){return(e=ur(e=jr(e)))&&e.operation===ji?e:null}function po(e){if(!(e.Va&&e.Ua||e.Ha&&e.ba))throw new Yi("internal-error");this.a=e,qi(this,"providerId","phone"),qi(this,"signInMethod","phone")}function mo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new po(t)}return null}function vo(e){return e.a.Ha&&e.a.ba?{temporaryProof:e.a.Ha,phoneNumber:e.a.ba}:{sessionInfo:e.a.Va,code:e.a.Ua}}function go(e){try{this.a=e||Go.auth()}catch(e){throw new Yi("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fi(this,{providerId:"phone",isOAuthProvider:!1})}function yo(e,t){if(!e)throw new Yi("missing-verification-id");if(!t)throw new Yi("missing-verification-code");return new po({Va:e,Ua:t})}function bo(e){if(e.temporaryProof&&e.phoneNumber)return new po({Ha:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,i=e&&e.oauthTokenSecret,r=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return oo(o,n);case"facebook.com":return to(n);case"github.com":return io(n);case"twitter.com":return so(n,i);default:return n||i||o||a?a?0==t.indexOf("saml.")?new Kr(t,a):new $r(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Zr(t).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(e){return null}}function wo(e){if(!e.isOAuthProvider)throw new Yi("invalid-oauth-provider")}function To(e,t,n,i,r,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new Yi("invalid-auth-event");if(this.g&&this.a)throw new Yi("invalid-auth-event");if(this.g&&!this.f)throw new Yi("invalid-auth-event")}function Eo(e){return(e=e||{}).type?new To(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Ji(e.error),e.postBody,e.tenantId):null}function Io(){this.b=null,this.a=[]}k(qr,Mr),k(Fr,qr),k(Br,qr),k(Ur,qr),k(Vr,qr),Kr.prototype.na=function(e){return Ja(e,Gr(this))},Kr.prototype.b=function(e,t){var n=Gr(this);return n.idToken=t,Xa(e,n)},Kr.prototype.f=function(e,t){return Hr(Za(e,Gr(this)),t)},Kr.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},$r.prototype.na=function(e){return Ja(e,Qr(this))},$r.prototype.b=function(e,t){var n=Qr(this);return n.idToken=t,Xa(e,n)},$r.prototype.f=function(e,t){return Hr(Za(e,Qr(this)),t)},$r.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Jr.prototype.Ga=function(e){return this.zb=$(e),this},k(Xr,Jr),k(Zr,Jr),Zr.prototype.ya=function(e){return V(this.a,e)||this.a.push(e),this},Zr.prototype.Hb=function(){return K(this.a)},Zr.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Yi("argument-error","credential failed: must provide the ID token and/or the access token.");return new $r(this.providerId,n,this.providerId)},k(eo,Zr),qi(eo,"PROVIDER_ID","facebook.com"),qi(eo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(no,Zr),qi(no,"PROVIDER_ID","github.com"),qi(no,"GITHUB_SIGN_IN_METHOD","github.com"),k(ro,Zr),qi(ro,"PROVIDER_ID","google.com"),qi(ro,"GOOGLE_SIGN_IN_METHOD","google.com"),k(ao,Jr),qi(ao,"PROVIDER_ID","twitter.com"),qi(ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),uo.prototype.na=function(e){return this.signInMethod==lo.EMAIL_LINK_SIGN_IN_METHOD?As(e,ss,{email:this.a,oobCode:this.c}):As(e,Ss,{email:this.a,password:this.c})},uo.prototype.b=function(e,t){return this.signInMethod==lo.EMAIL_LINK_SIGN_IN_METHOD?As(e,us,{idToken:t,email:this.a,oobCode:this.c}):As(e,ys,{idToken:t,email:this.a,password:this.c})},uo.prototype.f=function(e,t){return Hr(this.na(e),t)},uo.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Fi(lo,{PROVIDER_ID:"password"}),Fi(lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fi(lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),po.prototype.na=function(e){return e.Wa(vo(this))},po.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,As(e,Cs,n)},po.prototype.f=function(e,t){var n=vo(this);return n.operation="REAUTH",Hr(e=As(e,_s,n),t)},po.prototype.A=function(){var e={providerId:"phone"};return this.a.Va&&(e.verificationId=this.a.Va),this.a.Ua&&(e.verificationCode=this.a.Ua),this.a.Ha&&(e.temporaryProof=this.a.Ha),this.a.ba&&(e.phoneNumber=this.a.ba),e},go.prototype.Wa=function(e,t){var n=this.a.b;return Je(t.verify()).then((function(i){if(!s(i))throw new Yi("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return As(e,vs,t)}(n,{phoneNumber:e,recaptchaToken:i}).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new Yi("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Fi(go,{PROVIDER_ID:"phone"}),Fi(go,{PHONE_SIGN_IN_METHOD:"phone"}),To.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},To.prototype.R=function(){return this.h},To.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var So,ko=null;function Co(e){var t="unauthorized-domain",n=void 0,i=En(e);e=i.b,"chrome-extension"==(i=i.f)?n=Me("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==i||"https"==i?n=Me("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Yi.call(this,t,n)}function _o(e,t,n){Yi.call(this,e,n),(e=t||{}).Ab&&qi(this,"email",e.Ab),e.ba&&qi(this,"phoneNumber",e.ba),e.credential&&qi(this,"credential",e.credential),e.Qb&&qi(this,"tenantId",e.Qb)}function Ao(e){if(e.code){var t=e.code||"";0==t.indexOf(Xi)&&(t=t.substring(Xi.length));var n={credential:bo(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new Yi(t,e.message||void 0);return new _o(t,n,e.message)}return null}function No(){}function Do(e){return e.c||(e.c=e.b())}function xo(){}function Lo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var i=t[n];try{return new ActiveXObject(i),e.f=i}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Ro(){}function Oo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.fc,this),this.a.onerror=E(this.Ib,this),this.a.onprogress=E(this.gc,this),this.a.ontimeout=E(this.kc,this)}function Po(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Mo(e,t,n){this.reset(e,t,n,void 0,void 0)}function qo(e){this.f=e,this.b=this.c=this.a=null}function Fo(e,t){this.name=e,this.value=t}k(Co,Yi),k(_o,Yi),_o.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&Y(e,t),e},_o.prototype.toJSON=function(){return this.A()},No.prototype.c=null,k(xo,No),xo.prototype.a=function(){var e=Lo(this);return e?new ActiveXObject(e):new XMLHttpRequest},xo.prototype.b=function(){var e={};return Lo(this)&&(e[0]=!0,e[1]=!0),e},So=new xo,k(Ro,No),Ro.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Oo;throw Error("Unsupported browser")},Ro.prototype.b=function(){return{}},(e=Oo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Po(this,4)},e.Ib=function(){this.status=500,this.response=this.responseText="",Po(this,4)},e.kc=function(){this.Ib()},e.gc=function(){this.status=200,Po(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Mo.prototype.a=null,Mo.prototype.reset=function(e,t,n,i,r){delete this.a},Fo.prototype.toString=function(){return this.name};var Bo=new Fo("SEVERE",1e3),Uo=new Fo("WARNING",900),Vo=new Fo("CONFIG",700),jo=new Fo("FINE",500);qo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(N("Root logger has no level set."),null)}(this).value)for(v(t)&&(t=t()),e=new Mo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Wo={},Ho=null;function Ko(e){var t;if(Ho||(Ho=new qo(""),Wo[""]=Ho,Ho.c=Vo),!(t=Wo[e])){t=new qo(e);var n=e.lastIndexOf("."),i=e.substr(n+1);(n=Ko(e.substr(0,n))).b||(n.b={}),n.b[i]=t,t.a=n,Wo[e]=t}return t}function zo(e,t){e&&e.log(jo,t,void 0)}function $o(e){this.f=e}function Qo(e){rn.call(this),this.o=e,this.readyState=Yo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Ko("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k($o,No),$o.prototype.a=function(){return new Qo(this.f)},$o.prototype.b=function(e){return function(){return e}}({}),k(Qo,rn);var Yo=0;function Jo(e){e.c.read().then(e.ec.bind(e)).catch(e.Oa.bind(e))}function Xo(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,Zo(e)}function Zo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ea(e){rn.call(this),this.headers=new fn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=ta,this.v=this.P=!1}(e=Qo.prototype).open=function(e,t){if(this.readyState!=Yo)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,Zo(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Oa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Xo(this,!1)),this.readyState=Yo},e.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,Zo(this)),this.a&&(this.readyState=3,Zo(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,Jo(this)):e.text().then(this.ic.bind(this),this.Oa.bind(this)))))},e.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Xo(this,!0):Zo(this),3==this.readyState&&Jo(this)}},e.ic=function(e){this.a&&(this.response=this.responseText=e,Xo(this,!0))},e.hc=function(e){this.a&&(this.response=e,Xo(this,!0))},e.Oa=function(e){var t=this.h;t&&t.log(Uo,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Xo(this,!0)},e.setRequestHeader=function(e,t){this.i.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Uo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Uo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},k(ea,rn);var ta="";ea.prototype.b=Ko("goog.net.XhrIo");var na=/^https?$/i,ia=["POST","PUT"];function ra(e,t,n,i,r){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():So.a(),e.w=e.B?Do(e.B):Do(So),e.a.onreadystatechange=E(e.Lb,e);try{zo(e.b,da(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(t){return zo(e.b,da(e,"Error opening Xhr: "+t.message)),void aa(e,t)}t=i||"";var o=new fn(e.headers);r&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||s(e))F(e,t,void 0);else for(var n=hn(e),i=ln(e),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=oa,n=e.length,i=s(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:s(e)?e.charAt(t):e[t]}(o.X()),i=a.FormData&&t instanceof a.FormData,!V(ia,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{la(e),0<e.g&&(e.v=function(e){return gt&&At(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),zo(e.b,da(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ia,e)):e.o=un(e.Ia,e.g,e)),zo(e.b,da(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){zo(e.b,da(e,"Send error: "+t.message)),aa(e,t)}}function oa(e){return"content-type"==e.toLowerCase()}function aa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,sa(e),ca(e)}function sa(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ua(e){if(e.c&&void 0!==o)if(e.w[1]&&4==ha(e)&&2==fa(e))zo(e.b,da(e,"Local request error detected and ignored"));else if(e.i&&4==ha(e))un(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==ha(e)){zo(e.b,da(e,"Request complete")),e.c=!1;try{var t,n=fa(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(t=i)){var r;if(r=0===n){var s=String(e.l).match(mn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}r=!na.test(s?s.toLowerCase():"")}t=r}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<ha(e)?e.a.statusText:""}catch(t){zo(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+fa(e)+"]",sa(e)}}finally{ca(e)}}}function ca(e,t){if(e.a){la(e);var n=e.a,i=e.w[0]?h:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(t){(e=e.b)&&e.log(Bo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function la(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(a.clearTimeout(e.o),e.o=null)}function ha(e){return e.a?e.a.readyState:0}function fa(e){try{return 2<ha(e)?e.a.status:-1}catch(e){return-1}}function da(e,t){return t+" ["+e.O+" "+e.l+" "+fa(e)+"]"}function pa(e){var t=ka;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ma(e,t,n){e.a=!0,e.c=n,e.f=!t,ba(e)}function va(e){if(e.a){if(!e.u)throw new wa(e);e.u=!1}}function ga(e,t,n,i){e.g.push([t,n,i]),e.a&&ba(e)}function ya(e){return U(e.g,(function(e){return v(e[1])}))}function ba(e){if(e.h&&e.a&&ya(e)){var t=e.h,n=Ia[t];n&&(a.clearTimeout(n.a),delete Ia[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var i=n=!1;e.g.length&&!e.i;){var r=e.g.shift(),o=r[0],s=r[1];if(r=r[2],o=e.f?s:o)try{var u=o.call(r||e.o,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(C(t)||"function"==typeof a.Promise&&t instanceof a.Promise)&&(i=!0,e.i=!0)}catch(i){t=i,e.f=!0,ya(e)||(n=!0)}}e.c=t,i&&(u=E(e.m,e,!0),i=E(e.m,e,!1),t instanceof pa?(ga(t,u,i),t.w=!0):t.then(u,i)),n&&(t=new Ea(t),Ia[t.a]=t,e.h=t.a)}function wa(){_.call(this)}function Ta(){_.call(this)}function Ea(e){this.a=a.setTimeout(E(this.c,this),0),this.b=e}(e=ea.prototype).Ia=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",zo(this.b,da(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(zo(this.b,da(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ca(this))},e.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ca(this,!0)),ea.qb.za.call(this)},e.Lb=function(){this.va||(this.J||this.i||this.f?ua(this):this.yc())},e.yc=function(){ua(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ta:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Bo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return zo(this.b,"Can not get response: "+e.message),null}},pa.prototype.cancel=function(e){if(this.a)this.c instanceof pa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new Ta(this),va(this),ma(this,!1,e))}},pa.prototype.m=function(e,t){this.i=!1,ma(this,e,t)},pa.prototype.then=function(e,t,n){var i,r,o=new He((function(e,t){i=e,r=t}));return ga(this,i,(function(e){e instanceof Ta?o.cancel():r(e)})),o.then(e,t,n)},pa.prototype.$goog_Thenable=!0,k(wa,_),wa.prototype.message="Deferred has already fired",wa.prototype.name="AlreadyCalledError",k(Ta,_),Ta.prototype.message="Deferred was canceled",Ta.prototype.name="CanceledError",Ea.prototype.c=function(){throw delete Ia[this.a],this.b};var Ia={};function Sa(e){var t,n=document,i=ie(e).toString(),r=document.createElement("SCRIPT"),o={Nb:r,Ia:void 0},s=new pa(o);return t=window.setTimeout((function(){Ca(r,!0);var e=new Na(Aa,"Timeout reached for loading script "+i);va(s),ma(s,!1,e)}),5e3),o.Ia=t,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Ca(r,!1,t),va(s),ma(s,!0,null))},r.onerror=function(){Ca(r,!0,t);var e=new Na(_a,"Error while loading script "+i);va(s),ma(s,!1,e)},Y(o={},{type:"text/javascript",charset:"UTF-8"}),jn(r,o),function(e,t){M(e,"HTMLScriptElement"),e.src=ie(t),null===l&&(l=(t=(t=a.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""),(t=l)&&e.setAttribute("nonce",t)}(r,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(r),s}function ka(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Ca(e,!0,this.Ia)}}function Ca(e,t,n){null!=n&&a.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var _a=0,Aa=1;function Na(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),_.call(this,n),this.code=e}function Da(e){this.f=e}function xa(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||Oa,this.g=$(e.secureTokenHeaders||Pa),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Ma,this.a=$(e.firebaseHeaders||qa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==ci(),!(n=a.XMLHttpRequest||n&&Go.INTERNAL.node&&Go.INTERNAL.node.XMLHttpRequest)&&!ui())throw new Yi("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ui()?this.f=new $o(self):li()?this.f=new Da(n):this.f=new Ro,this.b=null}k(Na,_),k(Da,No),Da.prototype.a=function(){return new this.f},Da.prototype.b=function(){return{}};var La,Ra="idToken",Oa=new Ni(3e4,6e4),Pa={"Content-Type":"application/x-www-form-urlencoded"},Ma=new Ni(3e4,6e4),qa={"Content-Type":"application/json"};function Fa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ba(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Ua(e,t,n,i,r,o,s){(function(){var e=vi();return!((e=di(e)!=fi?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!gt||!Ct||9<Ct)})()||ui()?e=E(e.o,e):(La||(La=new He((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{a[ja]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){ga(e,null,t,void 0)}(Sa(re(Va,{onload:ja})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=E(e.m,e)),e(t,n,i,r,o,s)}xa.prototype.R=function(){return this.b},xa.prototype.o=function(e,t,n,i,r,o){if(ui()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new Yi("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ea(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}on(s,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return zo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),an(s,"ready",(function(){u&&clearTimeout(u),dt(this)})),an(s,"timeout",(function(){u&&clearTimeout(u),dt(this),t&&t(null)})),ra(s,e,n,i,r)};var Va=new J(ee,"https://apis.google.com/js/client.js?onload=%{onload}"),ja="__fcb"+Math.floor(1e6*Math.random()).toString();function Wa(e){if(!s(e=e.email)||!ri.test(e))throw new Yi("invalid-email")}function Ha(e){"email"in e&&Wa(e)}function Ka(e){if(!e[Ra])throw new Yi("internal-error")}function Ga(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Yi("internal-error")}else{if(!e.sessionInfo)throw new Yi("missing-verification-id");if(!e.code)throw new Yi("missing-verification-code")}}xa.prototype.m=function(e,t,n,i,r){var o=this;La.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:i,headers:r,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},xa.prototype.ob=function(){return As(this,bs,{})},xa.prototype.rb=function(e,t){return As(this,gs,{idToken:e,email:t})},xa.prototype.sb=function(e,t){return As(this,ys,{idToken:e,password:t})};var za={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function $a(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Yi("internal-error")}function Qa(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Mn(e=new Ln(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ya(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ao(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ao(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ao(e)):e.errorMessage&&(t=Ns(e.errorMessage)),t)throw t;if(!e[Ra])throw new Yi("internal-error")}function Ja(e,t){return t.returnIdpCredential=!0,As(e,ws,t)}function Xa(e,t){return t.returnIdpCredential=!0,As(e,Es,t)}function Za(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,As(e,Ts,t)}function es(e){if(!e.oobCode)throw new Yi("invalid-action-code")}(e=xa.prototype).tb=function(e,t){var n={idToken:e},i=[];return G(za,(function(e,r){var o=t[r];null===o?i.push(e):r in t&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),As(this,gs,n)},e.kb=function(e,t){return Y(e={requestType:"PASSWORD_RESET",email:e},t),As(this,fs,e)},e.lb=function(e,t){return Y(e={requestType:"EMAIL_SIGNIN",email:e},t),As(this,ls,e)},e.jb=function(e,t){return Y(e={requestType:"VERIFY_EMAIL",idToken:e},t),As(this,hs,e)},e.Wa=function(e){return As(this,ks,e)},e.ab=function(e,t){return As(this,ms,{oobCode:e,newPassword:t})},e.Ma=function(e){return As(this,ns,{oobCode:e})},e.Ya=function(e){return As(this,ts,{oobCode:e})};var ts={endpoint:"setAccountInfo",D:es,fa:"email",F:!0},ns={endpoint:"resetPassword",D:es,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Yi("internal-error")},F:!0},is={endpoint:"signupNewUser",D:function(e){if(Wa(e),!e.password)throw new Yi("weak-password")},K:Ka,T:!0,F:!0},rs={endpoint:"createAuthUri",F:!0},os={endpoint:"deleteAccount",V:["idToken"]},as={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!p(e.deleteProvider))throw new Yi("internal-error")}},ss={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Wa,K:Ka,T:!0,F:!0},us={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Wa,K:Ka,T:!0},cs={endpoint:"getAccountInfo"},ls={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Yi("internal-error");Wa(e)},fa:"email",F:!0},hs={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Yi("internal-error")},fa:"email",F:!0},fs={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Yi("internal-error");Wa(e)},fa:"email",F:!0},ds={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ps={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new Yi("internal-error")}},ms={endpoint:"resetPassword",D:es,fa:"email",F:!0},vs={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},gs={endpoint:"setAccountInfo",V:["idToken"],D:Ha,T:!0},ys={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Ha(e),!e.password)throw new Yi("weak-password")},K:Ka,T:!0},bs={endpoint:"signupNewUser",K:Ka,T:!0,F:!0},ws={endpoint:"verifyAssertion",D:$a,Ra:Qa,K:Ya,T:!0,F:!0},Ts={endpoint:"verifyAssertion",D:$a,Ra:Qa,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Yi("user-not-found");if(e.errorMessage)throw Ns(e.errorMessage);if(!e[Ra])throw new Yi("internal-error")},T:!0,F:!0},Es={endpoint:"verifyAssertion",D:function(e){if($a(e),!e.idToken)throw new Yi("internal-error")},Ra:Qa,K:Ya,T:!0},Is={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Yi("invalid-custom-token")},K:Ka,T:!0,F:!0},Ss={endpoint:"verifyPassword",D:function(e){if(Wa(e),!e.password)throw new Yi("wrong-password")},K:Ka,T:!0,F:!0},ks={endpoint:"verifyPhoneNumber",D:Ga,K:Ka,F:!0},Cs={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Yi("internal-error");Ga(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ao(e);Ka(e)}},_s={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ga,K:Ka,F:!0};function As(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var i=e[t[n]];if(null==i||""===i)return!1}return!0}(n,t.V))return Xe(new Yi("internal-error"));var i,r=t.Kb||"POST";return Je(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,i,r,o){var a=En(e.h+t);wn(a,"key",e.c),o&&wn(a,"cb",S().toString());var s="GET"==n;if(s)for(var u in i)i.hasOwnProperty(u)&&wn(a,u,i[u]);return new He((function(t,o){Ua(e,a.toString(),(function(e){e?e.error?o(Ds(e,r||{})):t(e):o(new Yi("network-request-failed"))}),n,s?void 0:Gn(Si(i)),e.a,e.i.get())}))}(e,t.endpoint,r,n,t.Yb,t.wb||!1)})).then((function(e){return i=e,t.Ra?t.Ra(n,i):i})).then(t.K).then((function(){if(!t.fa)return i;if(!(t.fa in i))throw new Yi("internal-error");return i[t.fa]}))}function Ns(e){return Ds({error:{errors:[{message:e}],code:400,message:e}})}function Ds(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new Yi(i[n]):null)return n;for(var r in n=e.error&&e.error.message||"",Y(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,i)if(0===n.indexOf(r))return new Yi(i[r],t);return!t&&e&&(t=Ii(e)),new Yi("internal-error",t)}function xs(e){this.b=e,this.a=null,this.gb=function(e){return(Ps||(Ps=new He((function(e,t){function n(){Ai(),gi("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Ai(),t(Error("Network Error"))},timeout:Rs.get()})}if(gi("gapi.iframes.Iframe"))e();else if(gi("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){gi("gapi.load")?n():t(Error("Network Error"))},Je(Sa(i=re(Ls,{onload:i}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw Ps=null,e})))).then((function(){return new He((function(t,n){gi("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:gi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),t()}e.a=i,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Os.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ls=new J(ee,"https://apis.google.com/js/api.js?onload=%{onload}"),Rs=new Ni(3e4,6e4),Os=new Ni(5e3,15e3),Ps=null;function Ms(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=In(this.i,"/__/auth/iframe"),wn(this.a,"apiKey",this.g),wn(this.a,"appName",this.h),this.b=null,this.c=[]}function qs(e,t,n,i,r){this.o=e,this.m=t,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function Fs(e){try{return Go.app(e).auth().Ca()}catch(e){return[]}}function Bs(e,t,n,i,r){this.u=e,this.f=t,this.b=n,this.c=i||null,this.h=r||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Us(e){var t=Xn();return function(e){return As(e,ds,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=En(t),i=n.f;n=n.b;for(var r=0;r<e.length;r++){var o=e[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=En(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:ii.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Co(Xn())}))}function Vs(e){return e.l?e.l:(e.l=oi().then((function(){if(!e.o){var t=e.c,n=e.h,i=Fs(e.b),r=new Ms(e.u,e.f,e.b);r.f=t,r.b=n,r.c=K(i||[]),e.o=r.toString()}e.i=new xs(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.gb.then((function(){e.a.register("authEvent",t,gi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var i=!1;for(t=Eo(t.authEvent),n=0;n<e.g.length;n++)i=e.g[n](t)||i;return(n={}).status=i?"ACK":"ERROR",Je(n)}return n.status="ERROR",Je(n)}))}(e)})),e.l)}function js(e){return e.m||(e.v=e.c?mi(e.c,Fs(e.b)):null,e.m=new xa(e.f,Ar(e.h),e.v)),e.m}function Ws(e,t,n,i,r,o,a,s,u,c,l){return(e=new qs(e,t,n,i,r)).l=o,e.g=a,e.i=s,e.b=$(u||null),e.f=c,e.nb(l).toString()}function Hs(e){if(this.a=e||Go.INTERNAL.reactNative&&Go.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Yi("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ks(e){this.b=e,this.a={},this.f=E(this.c,this)}Ms.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Pn(this.a.a,"v"),this.b?wn(this.a,"eid",this.b):Pn(this.a.a,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Pn(this.a.a,"fw"),this.a.toString()},qs.prototype.nb=function(e){return this.h=e,this},qs.prototype.toString=function(){var e=In(this.o,"/__/auth/handler");if(wn(e,"apiKey",this.m),wn(e,"appName",this.c),wn(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=Go.app(this.c).auth().ha()}catch(e){n=null}for(var i in t.bb=n,wn(e,"providerId",this.a.providerId),n=Si((t=this.a).zb))n[i]=n[i].toString();i=t.Fc,n=$(n);for(var r=0;r<i.length;r++){var o=i[r];o in n&&delete n[o]}t.eb&&t.bb&&!n[t.eb]&&(n[t.eb]=t.bb),z(n)||wn(e,"customParameters",Ii(n))}if("function"==typeof this.a.Hb&&((t=this.a.Hb()).length&&wn(e,"scopes",t.join(","))),this.l?wn(e,"redirectUrl",this.l):Pn(e.a,"redirectUrl"),this.g?wn(e,"eventId",this.g):Pn(e.a,"eventId"),this.i?wn(e,"v",this.i):Pn(e.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Tn(e,a)&&wn(e,a,this.b[a]);return this.h?wn(e,"tid",this.h):Pn(e.a,"tid"),this.f?wn(e,"eid",this.f):Pn(e.a,"eid"),(a=Fs(this.c)).length&&wn(e,"fw",a.join(",")),e.toString()},(e=Bs.prototype).Fb=function(e,t,n){var i=new Yi("popup-closed-by-user"),r=new Yi("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(e){var t={type:"webStorageSupport"};return Vs(e).then((function(){return function(e,t){return e.gb.then((function(){return new He((function(n){e.a.send(t.type,t,n,gi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&ti(e),t(r),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new He((function(t){return function n(){cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return cn(n).then((function(){t(i)}))}))},e.Ob=function(){var e=vi();return!Ei(e)&&!_i(e)},e.Jb=function(){return!1},e.Db=function(e,t,n,i,r,o,a,s){if(!e)return Xe(new Yi("popup-blocked"));if(a&&!Ei())return this.ia().s((function(t){ti(e),r(t)})),i(),Je();this.a||(this.a=Us(js(this)));var u=this;return this.a.then((function(){var t=u.ia().s((function(t){throw ti(e),r(t),t}));return i(),t})).then((function(){(wo(n),a)||Zn(Ws(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,s),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Eb=function(e,t,n,i){this.a||(this.a=Us(js(this)));var r=this;return this.a.then((function(){wo(t),Zn(Ws(r.u,r.f,r.b,e,t,Xn(),n,r.c,void 0,r.h,i))})).s((function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e}))},e.ia=function(){var e=this;return Vs(this).then((function(){return e.i.gb})).s((function(){throw e.a=null,new Yi("network-request-failed")}))},e.Rb=function(){return!0},e.Aa=function(e){this.g.push(e)},e.Na=function(e){W(this.g,(function(t){return t==e}))},(e=Hs.prototype).get=function(e){return Je(this.a.getItem(e)).then((function(e){return e&&ki(e)}))},e.set=function(e,t){return Je(this.a.setItem(e,Ii(t)))},e.S=function(e){return Je(this.a.removeItem(e))},e.$=function(){},e.ea=function(){};var Gs,zs=[];function $s(e,t,n){z(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Qs(e){this.a=e}function Ys(e){this.c=e,this.b=!1,this.a=[]}function Js(e,t,n,i){var r,o,a,s,u=n||{},c=null;if(e.b)return Xe(Error("connection_unavailable"));var l=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new He((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){i(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===r&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),i(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:r,data:u},[h.port2])):i(Error("connection_unavailable"))})).then((function(t){return Xs(e,c),t})).s((function(t){throw Xs(e,c),t}))}function Xs(e,t){if(t){var n=t.messageChannel,i=t.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),W(e.a,(function(e){return e==t}))}}function Zs(){if(!nu())throw new Yi("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;ui()&&self?(this.l=function(){var e=ui()?self:null;if(F(zs,(function(n){n.b==e&&(t=n)})),!t){var t=new Ks(e);zs.push(t)}return t}(),$s(this.l,"keyChanged",(function(t,n){return su(e).then((function(t){return 0<t.length&&F(e.a,(function(e){e(t)})),{keyProcessed:V(t,n.key)}}))})),$s(this.l,"ping",(function(){return Je(["keyChanged"])}))):function(){var e=a.navigator;return e&&e.serviceWorker?Je().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):Je(null)}().then((function(t){(e.h=t)&&(e.g=new Ys(new Qs(t)),Js(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&V(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function eu(e){return new He((function(t,n){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(i):function(e){return new He((function(t,n){var i=e.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){t()},i.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return eu(e)})).then((function(e){t(e)})).s((function(e){n(e)}))}}))}function tu(e){return e.m||(e.m=eu(e)),e.m}function nu(){try{return!!a.indexedDB}catch(e){return!1}}function iu(e){return e.objectStore("firebaseLocalStorage")}function ru(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function ou(e){return new He((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function au(e,t){return e.g&&e.h&&function(){var e=a.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Js(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):Je()}function su(e){return tu(e).then((function(e){var t=iu(ru(e,!1));return t.getAll?ou(t.getAll()):new He((function(e,n){var i=[],r=t.openCursor();r.onsuccess=function(t){(t=t.target.result)?(i.push(t.value),t.continue()):e(i)},r.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},i=[];if(0==e.b){for(i=0;i<t.length;i++)n[t[i].fbase_key]=t[i].value;i=function e(t,n){var i,r=[];for(i in t)i in n?typeof t[i]!=typeof n[i]?r.push(i):"object"==typeof t[i]&&null!=t[i]&&null!=n[i]?0<e(t[i],n[i]).length&&r.push(i):t[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in t||r.push(i);return r}(e.c,n),e.c=n}return i}))}function uu(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function cu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Je().then((function(){if(nu()){var e=Ci(),i="__sak"+e;return Gs||(Gs=new Zs),(n=Gs).set(i,e).then((function(){return n.get(i)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(i)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.$((function(e){F(t.a,(function(t){t(e)}))})),e}))}function lu(){this.a={},this.type="inMemory"}function hu(){if(!function(){var e="Node"==ci();if(!(e=fu()||e&&Go.INTERNAL.node&&Go.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ci())throw new Yi("internal-error","The LocalStorage compatibility library was not found.");throw new Yi("web-storage-unsupported")}this.a=fu()||Go.INTERNAL.node.localStorage,this.type="localStorage"}function fu(){try{var e=a.localStorage,t=Ci();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function du(){this.type="nullStorage"}function pu(){if(!function(){var e="Node"==ci();if(!(e=mu()||e&&Go.INTERNAL.node&&Go.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ci())throw new Yi("internal-error","The SessionStorage compatibility library was not found.");throw new Yi("web-storage-unsupported")}this.a=mu()||Go.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function mu(){try{var e=a.sessionStorage,t=Ci();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function vu(){var e={};e.Browser=bu,e.Node=wu,e.ReactNative=Tu,e.Worker=Eu,this.a=e[ci()]}Ks.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,i=this.a[t];if(i&&0<i.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var r=[];F(i,(function(t){r.push(Je().then((function(){return t(e.origin,e.data.data)})))})),et(r).then((function(i){var r=[];F(i,(function(e){r.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),F(r,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:r})}))}},Qs.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Ys.prototype.close=function(){for(;0<this.a.length;)Xs(this,this.a[0]);this.b=!0},(e=Zs.prototype).set=function(e,t){var n,i=!1,r=this;return tu(this).then((function(t){return ou((t=iu(ru(n=t,!0))).get(e))})).then((function(o){var a=iu(ru(n,!0));return o?(o.value=t,ou(a.put(o))):(r.b++,i=!0,(o={}).fbase_key=e,o.value=t,ou(a.add(o)))})).then((function(){return r.c[e]=t,au(r,e)})).ka((function(){i&&r.b--}))},e.get=function(e){return tu(this).then((function(t){return ou(iu(ru(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.S=function(e){var t=!1,n=this;return tu(this).then((function(i){return t=!0,n.b++,ou(iu(ru(i,!0)).delete(e))})).then((function(){return delete n.c[e],au(n,e)})).ka((function(){t&&n.b--}))},e.$=function(e){0==this.a.length&&function(e){uu(e),function t(){e.f=setTimeout((function(){e.i=su(e).then((function(t){0<t.length&&F(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ea=function(e){W(this.a,(function(t){return t==e})),0==this.a.length&&uu(this)},(e=cu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.S=function(e){return this.b.then((function(t){return t.S(e)}))},e.$=function(e){this.a.push(e)},e.ea=function(e){W(this.a,(function(t){return t==e}))},(e=lu.prototype).get=function(e){return Je(this.a[e])},e.set=function(e,t){return this.a[e]=t,Je()},e.S=function(e){return delete this.a[e],Je()},e.$=function(){},e.ea=function(){},(e=hu.prototype).get=function(e){var t=this;return Je().then((function(){return ki(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Je().then((function(){var i=Ii(t);null===i?n.S(e):n.a.setItem(e,i)}))},e.S=function(e){var t=this;return Je().then((function(){t.a.removeItem(e)}))},e.$=function(e){a.window&&Kt(a.window,"storage",e)},e.ea=function(e){a.window&&$t(a.window,"storage",e)},(e=du.prototype).get=function(){return Je(null)},e.set=function(){return Je()},e.S=function(){return Je()},e.$=function(){},e.ea=function(){},(e=pu.prototype).get=function(e){var t=this;return Je().then((function(){return ki(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Je().then((function(){var i=Ii(t);null===i?n.S(e):n.a.setItem(e,i)}))},e.S=function(e){var t=this;return Je().then((function(){t.a.removeItem(e)}))},e.$=function(){},e.ea=function(){};var gu,yu,bu={C:hu,Ta:pu},wu={C:hu,Ta:pu},Tu={C:Hs,Ta:du},Eu={C:hu,Ta:du},Iu={ad:"local",NONE:"none",cd:"session"};function Su(){var e=!(_i(vi())||!si()),t=Ei(),n=yi();this.m=e,this.h=t,this.l=n,this.a={},gu||(gu=new vu),e=gu;try{this.g=!Jn()&&Li()||!a.indexedDB?new e.a.C:new cu(ui()?new lu:new e.a.C)}catch(e){this.g=new lu,this.h=!0}try{this.i=new e.a.Ta}catch(e){this.i=new lu}this.u=new lu,this.f=E(this.Pb,this),this.b={}}function ku(){return yu||(yu=new Su),yu}function Cu(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function _u(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Au(e,t,n){return n=_u(t,n),"local"==t.C&&(e.b[n]=null),Cu(e,t.C).S(n)}function Nu(e){e.c&&(clearInterval(e.c),e.c=null)}function Du(e){this.a=e,this.b=ku()}(e=Su.prototype).get=function(e,t){return Cu(this,e.C).get(_u(e,t))},e.set=function(e,t,n){var i=_u(e,n),r=this,o=Cu(this,e.C);return o.set(i,t).then((function(){return o.get(i)})).then((function(t){"local"==e.C&&(r.b[i]=t)}))},e.addListener=function(e,t,n){e=_u(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),z(this.a)&&(Cu(this,"local").$(this.f),this.h||(Jn()||!Li())&&a.indexedDB||!this.l||function(e){Nu(e),e.c=setInterval((function(){for(var t in e.a){var n=a.localStorage.getItem(t),i=e.b[t];n!=i&&(e.b[t]=n,n=new Ot({type:"storage",key:t,target:window,oldValue:i,newValue:n,a:!0}),e.Pb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=_u(e,t),this.a[e]&&(W(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),z(this.a)&&(Cu(this,"local").ea(this.f),Nu(this))},e.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.$a(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Cu(this,"local").ea(this.f):Nu(this),this.m)if(n=a.localStorage.getItem(t),(i=e.a.newValue)!==n)null!==i?a.localStorage.setItem(t,i):a.localStorage.removeItem(t);else if(this.b[t]===i&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.$a(t))},gt&&Ct&&10==Ct&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else F(e,E(this.$a,this))},e.$a=function(e){this.a[e]&&F(this.a[e],(function(e){e()}))};var xu,Lu={name:"authEvent",C:"local"};function Ru(){this.a=ku()}function Ou(e,t){this.b=Pu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0!==xu||(xu=a.Int32Array?new Int32Array(ju):ju),this.reset()}k(Ou,(function(){this.b=-1}));for(var Pu=64,Mu=Pu-1,qu=[],Fu=0;Fu<Mu;Fu++)qu[Fu]=0;var Bu=H(128,qu);function Uu(e){for(var t=e.f,n=e.l,i=0,r=0;r<t.length;)n[i++]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r=4*i;for(t=16;64>t;t++){r=0|n[t-15],i=0|n[t-2];var o=(0|n[t-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[t-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[t]=o+a|0}i=0|e.a[0],r=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|xu[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=r,r=i,i=a+f|0}e.a[0]=e.a[0]+i|0,e.a[1]=e.a[1]+r|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Vu(e,t,n){void 0===n&&(n=t.length);var i=0,r=e.c;if(s(t))for(;i<n;)e.f[r++]=t.charCodeAt(i++),r==e.b&&(Uu(e),r=0);else{if(!m(t))throw Error("message must be string or array");for(;i<n;){var o=t[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[r++]=o,r==e.b&&(Uu(e),r=0)}}e.c=r,e.g+=n}Ou.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):K(this.h)};var ju=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Wu(){Ou.call(this,8,Hu)}k(Wu,Ou);var Hu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ku(e,t,n,i,r){this.u=e,this.i=t,this.l=n,this.m=i||null,this.o=r||null,this.h=t+":"+n,this.v=new Ru,this.g=new Du(this.h),this.f=null,this.b=[],this.a=this.c=null}function Gu(e){return new Yi("invalid-cordova-configuration",e)}function zu(e){var t=new Wu;Vu(t,e),e=[];var n=8*t.g;56>t.c?Vu(t,Bu,56-t.c):Vu(t,Bu,t.b-(t.c-56));for(var i=63;56<=i;i--)t.f[i]=255&n,n/=256;for(Uu(t),i=n=0;i<t.i;i++)for(var r=24;0<=r;r-=8)e[n++]=t.a[i]>>r&255;return function(e){return B(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function $u(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Qu(e){return e.f||(e.f=e.ia().then((function(){return new He((function(t){e.Aa((function n(i){return t(i),e.Na(n),!1})),function(e){function t(t){i=!0,r&&r.cancel(),Yu(e).then((function(i){var r=n;if(i&&t&&t.url){var o=null;-1!=(r=jr(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=ki(Tn(o=En(r),"firebaseError")||null))?Ji(o):null)?new To(i.c,i.b,null,null,o,null,i.R()):new To(i.c,i.b,r,i.f,null,null,i.R())),r=o||n}$u(e,r)}))}var n=new To("unknown",null,null,null,new Yi("no-auth-event")),i=!1,r=cn(500).then((function(){return Yu(e).then((function(){i||$u(e,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(gi("BuildInfo.packageName",a).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},ko||(ko=new Io),function(e){var t=ko;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=gi("universalLinks.subscribe",a))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Yu(e){var t=null;return function(e){return e.b.get(Lu,e.a).then((function(e){return Eo(e)}))}(e.g).then((function(n){return t=n,Au((n=e.g).b,Lu,n.a)})).then((function(){return t}))}function Ju(e){this.a=e,this.b=ku()}(e=Ku.prototype).ia=function(){return this.Da?this.Da:this.Da=(ai(void 0)?oi().then((function(){return new He((function(e,t){var n=a.document,i=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),e()}),!1)}))})):Xe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof gi("universalLinks.subscribe",a))throw Gu("cordova-universal-links-plugin-fix is not installed");if(void 0===gi("BuildInfo.packageName",a))throw Gu("cordova-plugin-buildinfo is not installed");if("function"!=typeof gi("cordova.plugins.browsertab.openUrl",a))throw Gu("cordova-plugin-browsertab is not installed");if("function"!=typeof gi("cordova.InAppBrowser.open",a))throw Gu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Yi("cordova-not-ready")}))},e.Fb=function(e,t){return t(new Yi("operation-not-supported-in-this-environment")),Je()},e.Db=function(){return Xe(new Yi("operation-not-supported-in-this-environment"))},e.Rb=function(){return!1},e.Ob=function(){return!0},e.Jb=function(){return!0},e.Eb=function(e,t,n,i){if(this.c)return Xe(new Yi("redirect-operation-pending"));var r=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Je().then((function(){return wo(t),Qu(r)})).then((function(){return function(e,t,n,i,r){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new To(t,i,null,o,new Yi("no-auth-event"),null,r),u=gi("BuildInfo.packageName",a);if("string"!=typeof u)throw new Yi("invalid-cordova-configuration");var c=gi("BuildInfo.displayName",a),l={};if(vi().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!vi().toLowerCase().match(/android/))return Xe(new Yi("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=zu(o),l.sessionId=o;var h=Ws(e.u,e.i,e.l,t,n,null,i,e.m,l,e.o,r);return e.ia().then((function(){var t=e.h;return e.v.a.set(Lu,s.A(),t)})).then((function(){var t=gi("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new Yi("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=gi("cordova.plugins.browsertab.openUrl",a)))throw new Yi("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=gi("cordova.InAppBrowser.open",a)))throw new Yi("invalid-cordova-configuration");t=vi(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,e,t,n,i)})).then((function(){return new He((function(e,t){u=function(){var t=gi("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Aa(u),c=function(){s||(s=cn(2e3).then((function(){t(new Yi("redirect-cancelled-by-user"))})))},l=function(){Di()&&c()},o.addEventListener("resume",c,!1),vi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(e){return Yu(r).then((function(){throw e}))}))})).ka((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&r.Na(u),r.c=null}))},e.Aa=function(e){this.b.push(e),Qu(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new To("unknown",null,null,null,new Yi("no-auth-event")),e(t))}))},e.Na=function(e){W(this.b,(function(t){return t==e}))};var Xu={name:"pendingRedirect",C:"session"};function Zu(e){return Au(e.b,Xu,e.a)}function ec(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=E(this.o,this),this.b=new pc,this.w=new bc,this.g=new Ju(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=tc(this.B,this.u,this.m,Cr)}function tc(e,t,n,i){var r=Go.SDK_VERSION||null;return ai()?new Ku(e,t,n,r,i):new Bs(e,t,n,r,i)}function nc(e){e.f||(e.f=!0,e.a.Aa(e.l));var t=e.a;return e.a.ia().s((function(n){throw e.a==t&&e.reset(),n}))}function ic(e){e.a.Ob()&&nc(e).s((function(t){var n=new To("unknown",null,null,null,new Yi("operation-not-supported-in-this-environment"));cc(t)&&e.o(n)})),e.a.Jb()||mc(e.b)}function rc(e,t){V(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Xu,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Zu(e.g).then((function(){nc(e).s((function(t){var n=new To("unknown",null,null,null,new Yi("operation-not-supported-in-this-environment"));cc(t)&&e.o(n)}))})):ic(e)})).s((function(){ic(e)}))}function oc(e,t){W(e.h,(function(e){return e==t}))}ec.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=tc(this.B,this.u,this.m),this.i={}},ec.prototype.o=function(e){if(!e)throw new Yi("invalid-auth-event");if(6e5<=S()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,i),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=S())),t=!0;break}}return mc(this.b),t};var ac=new Ni(2e3,1e4),sc=new Ni(3e4,6e4);function uc(e,t,n,i,r,o,a){return e.a.Db(t,n,i,(function(){e.f||(e.f=!0,e.a.Aa(e.l))}),(function(){e.reset()}),r,o,a)}function cc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function lc(e,t,n,i,r){var o;return function(e){return e.b.set(Xu,"pending",e.a)}(e.g).then((function(){return e.a.Eb(t,n,i,r).s((function(t){if(cc(t))throw new Yi("operation-not-supported-in-this-environment");return o=t,Zu(e.g).then((function(){throw o}))})).then((function(){return e.a.Rb()?new He((function(){})):Zu(e.g).then((function(){return e.oa()})).then((function(){})).s((function(){}))}))}))}function hc(e,t,n,i,r){return e.a.Fb(i,(function(e){t.ja(n,null,e,r)}),ac.get())}ec.prototype.oa=function(){return this.b.oa()};var fc={};function dc(e,t,n){var i=t+":"+n;return fc[i]||(fc[i]=new ec(e,t,n)),fc[i]}function pc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function mc(e){e.g||(e.g=!0,yc(e,!1,null,null))}function vc(e){e.g&&!e.i&&yc(e,!1,null,null)}function gc(e,t){if(e.b=function(){return Je(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function yc(e,t,n,i){t?i?function(e,t){if(e.b=function(){return Xe(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,i):gc(e,n):gc(e,{user:null}),e.f=[],e.c=[]}function bc(){}function wc(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function Tc(e,t){this.a=t,qi(this,"verificationId",e)}function Ec(e,t,n,i){return new go(e).Wa(t,n).then((function(e){return new Tc(e,i)}))}function Ic(e){var t=kr(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Yi("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fi(this,{token:e,expirationTime:xi(1e3*t.exp),authTime:xi(1e3*t.auth_time),issuedAtTime:xi(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function Sc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function kc(e){this.f=e,this.b=this.a=null,this.c=0}function Cc(e,t){var n=t[Ra],i=t.refreshToken;t=_c(t.expiresIn),e.b=n,e.c=t,e.a=i}function _c(e){return S()+1e3*parseInt(e,10)}function Ac(e,t){return function(e,t){return new He((function(n,i){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Ua(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?i(Ds(e)):e.access_token&&e.refresh_token?n(e):i(new Yi("internal-error")):i(new Yi("network-request-failed"))}),"POST",On(t).toString(),e.g,e.u.get()):i(new Yi("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=_c(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Nc(e,t){this.a=e||null,this.b=t||null,Fi(this,{lastSignInTime:xi(t||null),creationTime:xi(e||null)})}function Dc(e,t,n,i,r,o){Fi(this,{uid:e,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:t})}function xc(e,t){for(var n in Rt.call(this,e),t)this[n]=t[n]}function Lc(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=Go.SDK_VERSION?mi(Go.SDK_VERSION):null,this.a=new xa(this.l,Ar(Cr),e),this.b=new kc(this.a),Bc(this,t[Ra]),Cc(this.b,t),qi(this,"refreshToken",this.b.a),jc(this,n||{}),rn.call(this),this.J=!1,this.o&&bi()&&(this.i=dc(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new Sc((function(){return e.G(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-S()-3e5;return 0<t?t:0}))}(this),this.W=E(this.Ja,this);var i=this;this.ga=null,this.xa=function(e){i.ua(e.g)},this.Z=null,this.P=[],this.wa=function(e){Oc(i,e.c)},this.Y=null}function Rc(e,t){e.Z&&$t(e.Z,"languageCodeChanged",e.xa),(e.Z=t)&&Kt(t,"languageCodeChanged",e.xa)}function Oc(e,t){e.P=t,Ba(e.a,Go.SDK_VERSION?mi(Go.SDK_VERSION,e.P):null)}function Pc(e,t){e.Y&&$t(e.Y,"frameworkChanged",e.wa),(e.Y=t)&&Kt(t,"frameworkChanged",e.wa)}function Mc(e){try{return Go.app(e.m).auth()}catch(t){throw new Yi("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function qc(e){e.B||e.w.b||(e.w.start(),$t(e,"tokenChanged",e.W),Kt(e,"tokenChanged",e.W))}function Fc(e){$t(e,"tokenChanged",e.W),e.w.stop()}function Bc(e,t){e.ma=t,qi(e,"_lat",t)}function Uc(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return et(t).then((function(){return e}))}function Vc(e){e.i&&!e.J&&(e.J=!0,rc(e.i,e))}function jc(e,t){Fi(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Nc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Wc(){}function Hc(e){return Je().then((function(){if(e.B)throw new Yi("app-deleted")}))}function Kc(e){return B(e.providerData,(function(e){return e.providerId}))}function Gc(e,t){t&&(zc(e,t.providerId),e.providerData.push(t))}function zc(e,t){W(e.providerData,(function(e){return e.providerId==t}))}function $c(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&qi(e,t,n)}function Qc(e,t){e!=t&&(Fi(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?qi(e,"metadata",function(e){return new Nc(e.a,e.b)}(t.metadata)):qi(e,"metadata",new Nc),F(t.providerData,(function(t){Gc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),qi(e,"refreshToken",e.b.a))}function Yc(e){return e.G().then((function(t){var n=e.isAnonymous;return function(e,t){return As(e.a,cs,{idToken:t}).then(E(e.zc,e))}(e,t).then((function(){return n||$c(e,"isAnonymous",!1),t}))}))}function Jc(e,t){t[Ra]&&e.ma!=t[Ra]&&(Cc(e.b,t),e.dispatchEvent(new xc("tokenChanged")),Bc(e,t[Ra]),$c(e,"refreshToken",e.b.a))}function Xc(e,t){return Yc(e).then((function(){if(V(Kc(e),t))return Uc(e).then((function(){throw new Yi("provider-already-linked")}))}))}function Zc(e,t,n){return Bi({user:e,credential:bo(t),additionalUserInfo:t=Rr(t),operationType:n})}function el(e,t){return Jc(e,t),e.reload().then((function(){return e}))}function tl(e,t,n,i,r){if(!bi())return Xe(new Yi("operation-not-supported-in-this-environment"));if(e.h&&!r)return Xe(e.h);var o=Lr(n.providerId),a=Ci(e.uid+":::"),s=null;(!Ei()||si())&&e.o&&n.isOAuthProvider&&(s=Ws(e.o,e.l,e.m,t,n,null,a,Go.SDK_VERSION||null,null,null,e.tenantId));var u=ni(s,o&&o.sa,o&&o.ra);return i=i().then((function(){if(il(e),!r)return e.G().then((function(){}))})).then((function(){return uc(e.i,u,t,n,a,!!s,e.tenantId)})).then((function(){return new He((function(n,i){e.ja(t,null,new Yi("cancelled-popup-request"),e.g||null),e.f=n,e.v=i,e.g=a,e.c=hc(e.i,e,t,u,a)}))})).then((function(e){return u&&ti(u),e?Bi(e):null})).s((function(e){throw u&&ti(u),e})),rl(e,i,r)}function nl(e,t,n,i,r){if(!bi())return Xe(new Yi("operation-not-supported-in-this-environment"));if(e.h&&!r)return Xe(e.h);var o=null,a=Ci(e.uid+":::");return i=i().then((function(){if(il(e),!r)return e.G().then((function(){}))})).then((function(){return e.ca=a,Uc(e)})).then((function(t){return e.da&&(t=(t=e.da).b.set(sl,e.A(),t.a)),t})).then((function(){return lc(e.i,t,n,a,e.tenantId)})).s((function(t){if(o=t,e.da)return ul(e.da);throw o})).then((function(){if(o)throw o})),rl(e,i,r)}function il(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new Yi("internal-error");throw new Yi("auth-domain-config-required")}}function rl(e,t,n){var i=function(e,t,n){return e.h&&!n?(t.cancel(),Xe(e.h)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new xc("userInvalidated")),e.h=t),t}))}(e,t,n);return e.I.push(i),i.ka((function(){j(e.I,i)})),i}function ol(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Ra]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-S())/1e3;var i=new Lc(t,n,e);return e.providerData&&F(e.providerData,(function(e){e&&Gc(i,Bi(e))})),e.redirectEventId&&(i.ca=e.redirectEventId),i}function al(e){this.a=e,this.b=ku()}pc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},pc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,i=e.b,r=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?e.a?(yc(this,!0,null,e.a),Je()):t.Ba(n,i)?function(e,t,n){n=n.Ba(t.c,t.b);var i=t.g,r=t.f,o=t.i,a=t.R(),s=!!t.c.match(/Redirect$/);n(i,r,a,o).then((function(t){yc(e,s,t,null)})).s((function(t){yc(e,s,null,t)}))}(this,e,t):Xe(new Yi("invalid-auth-event")):(yc(this,!1,null,null),Je())}else Xe(new Yi("invalid-auth-event"))},pc.prototype.oa=function(){var e=this;return new He((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Yi("timeout");e.a&&e.a.cancel(),e.a=cn(sc.get()).then((function(){e.b||(e.g=!0,yc(e,!0,null,t))}))}(e))}))},bc.prototype.h=function(e,t){if(e){var n=e.c,i=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Je()):t.Ba(n,i)?function(e,t){var n=e.b,i=e.c;t.Ba(i,n)(e.g,e.f,e.R(),e.i).then((function(e){t.ja(i,e,null,n)})).s((function(e){t.ja(i,null,e,n)}))}(e,t):Xe(new Yi("invalid-auth-event"))}else Xe(new Yi("invalid-auth-event"))},Tc.prototype.confirm=function(e){return e=yo(this.verificationId,e),this.a(e)},Sc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=a.document,t=null;return Di()||!e?Je():new He((function(n){t=function(){Di()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},Sc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},kc.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},kc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Xe(new Yi("user-token-expired")):e||!this.b||S()>this.c-3e4?this.a?Ac(this,{grant_type:"refresh_token",refresh_token:this.a}):Je(null):Je({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Nc.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(xc,Rt),k(Lc,rn),Lc.prototype.ua=function(e){this.ga=e,Fa(this.a,e)},Lc.prototype.ha=function(){return this.ga},Lc.prototype.Ca=function(){return K(this.P)},Lc.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},qi(Lc.prototype,"providerId","firebase"),(e=Lc.prototype).reload=function(){var e=this;return rl(this,Hc(this).then((function(){return Yc(e).then((function(){return Uc(e)})).then(Wc)})))},e.dc=function(e){return this.G(e).then((function(e){return new Ic(e)}))},e.G=function(e){var t=this;return rl(this,Hc(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new Yi("internal-error");return e.accessToken!=t.ma&&(Bc(t,e.accessToken),t.dispatchEvent(new xc("tokenChanged"))),$c(t,"refreshToken",e.refreshToken),e.accessToken})))},e.zc=function(e){if(!(e=e.users)||!e.length)throw new Yi("internal-error");jc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?B(e,(function(e){return new Dc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Gc(this,t[n]);$c(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},e.Ac=function(e){return Pi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(e)},e.hb=function(e){var t=this,n=null;return rl(this,e.f(this.a,this.uid).then((function(e){return Jc(t,e),n=Zc(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.rc=function(e){return Pi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(e)},e.fb=function(e){var t=this,n=null;return rl(this,Xc(this,e.providerId).then((function(){return t.G()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Zc(t,e,"link"),el(t,e)})).then((function(){return n})))},e.sc=function(e,t){var n=this;return rl(this,Xc(this,"phone").then((function(){return Ec(Mc(n),e,t,E(n.fb,n))})))},e.Bc=function(e,t){var n=this;return rl(this,Je().then((function(){return Ec(Mc(n),e,t,E(n.hb,n))})),!0)},e.rb=function(e){var t=this;return rl(this,this.G().then((function(n){return t.a.rb(n,e)})).then((function(e){return Jc(t,e),t.reload()})))},e.Sc=function(e){var t=this;return rl(this,this.G().then((function(n){return e.b(t.a,n)})).then((function(e){return Jc(t,e),t.reload()})))},e.sb=function(e){var t=this;return rl(this,this.G().then((function(n){return t.a.sb(n,e)})).then((function(e){return Jc(t,e),t.reload()})))},e.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Hc(this);var t=this;return rl(this,this.G().then((function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Jc(t,e),$c(t,"displayName",e.displayName||null),$c(t,"photoURL",e.photoUrl||null),F(t.providerData,(function(e){"password"===e.providerId&&(qi(e,"displayName",t.displayName),qi(e,"photoURL",t.photoURL))})),Uc(t)})).then(Wc))},e.Qc=function(e){var t=this;return rl(this,Yc(this).then((function(n){return V(Kc(t),e)?function(e,t,n){return As(e,as,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return F(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),F(Kc(t),(function(e){n[e]||zc(t,e)})),n[go.PROVIDER_ID]||qi(t,"phoneNumber",null),Uc(t)})):Uc(t).then((function(){throw new Yi("no-such-provider")}))})))},e.delete=function(){var e=this;return rl(this,this.G().then((function(t){return As(e.a,os,{idToken:t})})).then((function(){e.dispatchEvent(new xc("userDeleted"))}))).then((function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Rc(e,null),Pc(e,null),e.I=[],e.B=!0,Fc(e),qi(e,"refreshToken",null),e.i&&oc(e.i,e)}))},e.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},e.ja=function(e,t,n,i){"linkViaPopup"!=e&&"reauthViaPopup"!=e||i!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?E(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?E(this.Cb,this):null},e.tc=function(e){var t=this;return tl(this,"linkViaPopup",e,(function(){return Xc(t,e.providerId).then((function(){return Uc(t)}))}),!1)},e.Cc=function(e){return tl(this,"reauthViaPopup",e,(function(){return Je()}),!0)},e.uc=function(e){var t=this;return nl(this,"linkViaRedirect",e,(function(){return Xc(t,e.providerId)}),!1)},e.Dc=function(e){return nl(this,"reauthViaRedirect",e,(function(){return Je()}),!0)},e.Bb=function(e,t,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return rl(this,this.G().then((function(n){return Xa(r.a,{requestUri:e,postBody:i,sessionId:t,idToken:n})})).then((function(e){return o=Zc(r,e,"link"),el(r,e)})).then((function(){return o})))},e.Cb=function(e,t,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return rl(this,Je().then((function(){return Hr(Za(r.a,{requestUri:e,sessionId:t,postBody:i,tenantId:n}),r.uid)})).then((function(e){return o=Zc(r,e,"reauthenticate"),Jc(r,e),r.h=null,r.reload()})).then((function(){return o})),!0)},e.jb=function(e){var t=this,n=null;return rl(this,this.G().then((function(t){return n=t,void 0===e||z(e)?{}:br(new cr(e))})).then((function(e){return t.a.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.toJSON=function(){return this.A()},e.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&Y(e,this.metadata.A()),F(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var sl={name:"redirectUser",C:"session"};function ul(e){return Au(e.b,sl,e.a)}function cl(e){this.a=e,this.b=ku(),this.c=null,this.f=function(e){var t=fl("local"),n=fl("session"),i=fl("none");return function(e,t,n){var i=_u(t,n),r=Cu(e,t.C);return e.get(t,n).then((function(o){var s=null;try{s=ki(a.localStorage.getItem(i))}catch(e){}if(s&&!o)return a.localStorage.removeItem(i),e.set(t,s,n);s&&o&&"localStorage"!=r.type&&a.localStorage.removeItem(i)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(r){return r?n:e.b.get(i,e.a).then((function(n){return n?i:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(hl,e.a).then((function(e){return e?fl(e):t}))}))}))})).then((function(t){return e.c=t,ll(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(fl("local"),this.a,E(this.g,this))}function ll(e,t){var n,i=[];for(n in Iu)Iu[n]!==t&&i.push(Au(e.b,fl(Iu[n]),e.a));return i.push(Au(e.b,hl,e.a)),function(e){return new He((function(t,n){var i=e.length,r=[];if(i)for(var o=function(e,n){i--,r[e]=n,0==i&&t(r)},a=function(e){n(e)},s=0;s<e.length;s++)Ze(e[s],I(o,s),a);else t(r)}))}(i)}cl.prototype.g=function(){var e=this,t=fl("local");vl(this,(function(){return Je().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return ll(e,"local").then((function(){e.c=t}))}))}))};var hl={name:"persistence",C:"session"};function fl(e){return{name:"authUser",C:e}}function dl(e,t){return vl(e,(function(){return e.b.set(e.c,t.A(),e.a)}))}function pl(e){return vl(e,(function(){return Au(e.b,e.c,e.a)}))}function ml(e,t){return vl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),ol(e||{})}))}))}function vl(e,t){return e.f=e.f.then(t,t),e.f}function gl(e){if(this.l=!1,qi(this,"settings",new wc),qi(this,"app",e),!kl(this).options||!kl(this).options.apiKey)throw new Yi("invalid-api-key");e=Go.SDK_VERSION?mi(Go.SDK_VERSION):null,this.b=new xa(kl(this).options&&kl(this).options.apiKey,Ar(Cr),e),this.O=[],this.m=[],this.J=[],this.Ub=Go.INTERNAL.createSubscribe(E(this.oc,this)),this.W=void 0,this.Vb=Go.INTERNAL.createSubscribe(E(this.pc,this)),Il(this,null),this.h=new cl(kl(this).options.apiKey+":"+kl(this).name),this.w=new al(kl(this).options.apiKey+":"+kl(this).name),this.Y=Nl(this,function(e){var t=kl(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(sl,e.a).then((function(e){return e&&t&&(e.authDomain=t),ol(e||{})}))}(e.w,kl(e).options.authDomain).then((function(t){return(e.B=t)&&(t.da=e.w),ul(e.w)}));return Nl(e,t)}(e).then((function(){return ml(e.h,t)})).then((function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return dl(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:pl(e.h)}))):null})).then((function(t){Il(e,t||null)}));return Nl(e,n)}(this)),this.i=Nl(this,function(e){return e.Y.then((function(){return Tl(e)})).s((function(){})).then((function(){if(!e.l)return e.ma()})).s((function(){})).then((function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(fl("local"),t.a,e.ma)}}))}(this)),this.ga=!1,this.ma=E(this.Nc,this),this.ub=E(this.aa,this),this.wa=E(this.bc,this),this.xa=E(this.mc,this),this.Ja=E(this.nc,this),this.a=null,function(e){var t=kl(e).options.authDomain,n=kl(e).options.apiKey;t&&bi()&&(e.Tb=e.Y.then((function(){if(!e.l){if(e.a=dc(t,n,kl(e).name),rc(e.a,e),Cl(e)&&Vc(Cl(e)),e.B){Vc(e.B);var i=e.B;i.ua(e.ha()),Rc(i,e),Oc(i=e.B,e.I),Pc(i,e),e.B=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.vc,this),this.o=0,rn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.ua(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function yl(e){Rt.call(this,"languageCodeChanged"),this.g=e}function bl(e){Rt.call(this,"frameworkChanged"),this.c=e}function wl(e){return e.Tb||Xe(new Yi("auth-domain-config-required"))}function Tl(e){if(!bi())return Xe(new Yi("operation-not-supported-in-this-environment"));var t=wl(e).then((function(){return e.a.oa()})).then((function(e){return e?Bi(e):null}));return Nl(e,t)}function El(e,t){var n={};return n.apiKey=kl(e).options.apiKey,n.authDomain=kl(e).options.authDomain,n.appName=kl(e).name,e.Y.then((function(){return function(e,t,n,i){var r=new Lc(e,t);return n&&(r.da=n),i&&Oc(r,i),r.reload().then((function(){return r}))}(n,t,e.w,e.Ca())})).then((function(t){return Cl(e)&&t.uid==Cl(e).uid?(Qc(Cl(e),t),e.aa(t)):(Il(e,t),Vc(t),e.aa(t))})).then((function(){Al(e)}))}function Il(e,t){Cl(e)&&(function(e,t){W(e.O,(function(e){return e==t}))}(Cl(e),e.ub),$t(Cl(e),"tokenChanged",e.wa),$t(Cl(e),"userDeleted",e.xa),$t(Cl(e),"userInvalidated",e.Ja),Fc(Cl(e))),t&&(t.O.push(e.ub),Kt(t,"tokenChanged",e.wa),Kt(t,"userDeleted",e.xa),Kt(t,"userInvalidated",e.Ja),0<e.o&&qc(t)),qi(e,"currentUser",t),t&&(t.ua(e.ha()),Rc(t,e),Oc(t,e.I),Pc(t,e))}function Sl(e,t){var n=null,i=null;return Nl(e,t.then((function(t){return n=bo(t),i=Rr(t),El(e,t)})).then((function(){return Bi({user:Cl(e),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function kl(e){return e.app}function Cl(e){return e.currentUser}function _l(e){return Cl(e)&&Cl(e)._lat||null}function Al(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](_l(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](_l(e))}}function Nl(e,t){return e.O.push(t),t.ka((function(){j(e.O,t)})),t}function Dl(){}function xl(){this.a={},this.b=1e12}cl.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new Yi("invalid-persistence-type"),n=new Yi("unsupported-persistence-type");e:{for(i in Iu)if(Iu[i]==e){var i=!0;break e}i=!1}if(!i||"string"!=typeof e)throw t;switch(ci()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!yi()&&"none"!==e)throw n}}(e),vl(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(i){return t=i,ll(n,e)})).then((function(){if(n.c=fl(e),t)return n.b.set(n.c,t,n.a)})):Je()}))},k(gl,rn),k(yl,Rt),k(bl,Rt),(e=gl.prototype).mb=function(e){return Nl(this,e=this.h.mb(e))},e.ua=function(e){this.Z===e||this.l||(this.Z=e,Fa(this.b,this.Z),this.dispatchEvent(new yl(this.ha())))},e.ha=function(){return this.Z},e.Tc=function(){var e=a.navigator;this.ua(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.vc=function(e){this.I.push(e),Ba(this.b,Go.SDK_VERSION?mi(Go.SDK_VERSION,this.I):null),this.dispatchEvent(new bl(this.I))},e.Ca=function(){return K(this.I)},e.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},e.R=function(){return this.P},e.toJSON=function(){return{apiKey:kl(this).options.apiKey,authDomain:kl(this).options.authDomain,appName:kl(this).name,currentUser:Cl(this)&&Cl(this).A()}},e.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ja=function(e,t,n,i){"signInViaPopup"==e&&this.g==i&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ac,this):null},e.ac=function(e,t,n,i){var r=this;e={requestUri:e,postBody:i,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=Ja(r.b,e).then((function(e){return o=bo(e),a=Rr(e),e}));return Nl(this,e=r.Y.then((function(){return s})).then((function(e){return El(r,e)})).then((function(){return Bi({user:Cl(r),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},e.Lc=function(e){if(!bi())return Xe(new Yi("operation-not-supported-in-this-environment"));var t=this,n=Lr(e.providerId),i=Ci(),r=null;(!Ei()||si())&&kl(this).options.authDomain&&e.isOAuthProvider&&(r=Ws(kl(this).options.authDomain,kl(this).options.apiKey,kl(this).name,"signInViaPopup",e,null,i,Go.SDK_VERSION||null,null,null,this.R()));var o=ni(r,n&&n.sa,n&&n.ra);return Nl(this,n=wl(this).then((function(n){return uc(n,o,"signInViaPopup",e,i,!!r,t.R())})).then((function(){return new He((function(e,n){t.ja("signInViaPopup",null,new Yi("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=i,t.c=hc(t.a,t,"signInViaPopup",o,i)}))})).then((function(e){return o&&ti(o),e?Bi(e):null})).s((function(e){throw o&&ti(o),e})))},e.Mc=function(e){if(!bi())return Xe(new Yi("operation-not-supported-in-this-environment"));var t=this;return Nl(this,wl(this).then((function(){return function(e){return vl(e,(function(){return e.b.set(hl,e.c.C,e.a)}))}(t.h)})).then((function(){return lc(t.a,"signInViaRedirect",e,void 0,t.R())})))},e.oa=function(){var e=this;return Tl(this).then((function(t){return e.a&&vc(e.a.b),t})).s((function(t){throw e.a&&vc(e.a.b),t}))},e.Rc=function(e){if(!e)return Xe(new Yi("null-user"));if(this.P!=e.tenantId)return Xe(new Yi("tenant-id-mismatch"));var t=this,n={};n.apiKey=kl(this).options.apiKey,n.authDomain=kl(this).options.authDomain,n.appName=kl(this).name;var i=function(e,t,n,i){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var r=e.b,o={};return o[Ra]=r.b,o.refreshToken=r.a,o.expiresIn=(r.c-S())/1e3,t=new Lc(t,o),n&&(t.da=n),i&&Oc(t,i),Qc(t,e),t}(e,n,t.w,t.Ca());return Nl(this,this.i.then((function(){if(kl(t).options.apiKey!=e.l)return i.reload()})).then((function(){return Cl(t)&&e.uid==Cl(t).uid?(Qc(Cl(t),e),t.aa(e)):(Il(t,i),Vc(i),t.aa(i))})).then((function(){Al(t)})))},e.pb=function(){var e=this;return Nl(this,this.i.then((function(){return e.a&&vc(e.a.b),Cl(e)?(Il(e,null),pl(e.h).then((function(){Al(e)}))):Je()})))},e.Nc=function(){var e=this;return ml(this.h,kl(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Cl(e)&&t){n=Cl(e).uid;var i=t.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return Qc(Cl(e),t),Cl(e).G();(Cl(e)||t)&&(Il(e,t),t&&(Vc(t),t.da=e.w),e.a&&rc(e.a,e),Al(e))}}))},e.aa=function(e){return dl(this.h,e)},e.bc=function(){Al(this),this.aa(Cl(this))},e.mc=function(){this.pb()},e.nc=function(){this.pb()},e.oc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Cl(t))}))},e.pc=function(e){var t=this;!function(e,t){e.J.push(t),Nl(e,e.i.then((function(){!e.l&&V(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(_l(e)))})))}(this,(function(){e.next(Cl(t))}))},e.xc=function(e,t,n){var i=this;return this.ga&&Promise.resolve().then((function(){v(e)?e(Cl(i)):v(e.next)&&e.next(Cl(i))})),this.Ub(e,t,n)},e.wc=function(e,t,n){var i=this;return this.ga&&Promise.resolve().then((function(){i.W=i.getUid(),v(e)?e(Cl(i)):v(e.next)&&e.next(Cl(i))})),this.Vb(e,t,n)},e.cc=function(e){var t=this;return Nl(this,this.i.then((function(){return Cl(t)?Cl(t).G(e).then((function(e){return{accessToken:e}})):null})))},e.Hc=function(e){var t=this;return this.i.then((function(){return Sl(t,As(t.b,Is,{token:e}))})).then((function(e){var n=e.user;return $c(n,"isAnonymous",!1),t.aa(n),e}))},e.Ic=function(e,t){var n=this;return this.i.then((function(){return Sl(n,As(n.b,Ss,{email:e,password:t}))}))},e.Xb=function(e,t){var n=this;return this.i.then((function(){return Sl(n,As(n.b,is,{email:e,password:t}))}))},e.Sa=function(e){var t=this;return this.i.then((function(){return Sl(t,e.na(t.b))}))},e.Gc=function(e){return Pi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(e)},e.ob=function(){var e=this;return this.i.then((function(){var t=Cl(e);if(t&&t.isAnonymous){var n=Bi({providerId:null,isNewUser:!1});return Bi({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Sl(e,e.b.ob()).then((function(t){var n=t.user;return $c(n,"isAnonymous",!0),e.aa(n),t}))}))},e.getUid=function(){return Cl(this)&&Cl(this).uid||null},e.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&Cl(this)&&qc(Cl(this))},e.Ec=function(e){var t=this;F(this.m,(function(n){n==e&&t.o--})),0>this.o&&(this.o=0),0==this.o&&Cl(this)&&Fc(Cl(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.m.push(e),Nl(this,this.i.then((function(){t.l||V(t.m,e)&&e(_l(t))})))},e.removeAuthTokenListener=function(e){W(this.m,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(fl("local"),e.a,this.ma),this.a&&(oc(this.a,this),vc(this.a.b)),Promise.resolve()},e.$b=function(e){return Nl(this,function(e,t){return As(e,rs,{identifier:t,continueUri:wi()?Xn():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},e.qc=function(e){return!!fo(e)},e.lb=function(e,t){var n=this;return Nl(this,Je().then((function(){var e=new cr(t);if(!e.c)throw new Yi("argument-error",fr+" must be true when sending sign in link to email");return br(e)})).then((function(t){return n.b.lb(e,t)})).then((function(){})))},e.Uc=function(e){return this.Ma(e).then((function(e){return e.data.email}))},e.ab=function(e,t){return Nl(this,this.b.ab(e,t).then((function(){})))},e.Ma=function(e){return Nl(this,this.b.Ma(e).then((function(e){return new Vi(e)})))},e.Ya=function(e){return Nl(this,this.b.Ya(e).then((function(){})))},e.kb=function(e,t){var n=this;return Nl(this,Je().then((function(){return void 0===t||z(t)?{}:br(new cr(t))})).then((function(t){return n.b.kb(e,t)})).then((function(){})))},e.Kc=function(e,t){return Nl(this,Ec(this,e,t,E(this.Sa,this)))},e.Jc=function(e,t){var n=this;return Nl(this,Je().then((function(){var i=t||Xn(),r=ho(e,i);if(!(i=fo(i)))throw new Yi("argument-error","Invalid email link!");if(i.tenantId!==n.R())throw new Yi("tenant-id-mismatch");return n.Sa(r)})))},Dl.prototype.render=function(){},Dl.prototype.reset=function(){},Dl.prototype.getResponse=function(){},Dl.prototype.execute=function(){};var Ll=null;function Rl(e,t){return(t=Ol(t))&&e.a[t]||null}function Ol(e){return(e=void 0===e?1e12:e)?e.toString():null}function Pl(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Vn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Kt(this.f,"click",this.i)}function Ml(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function ql(){}xl.prototype.render=function(e,t){return this.a[this.b.toString()]=new Pl(e,t),this.b++},xl.prototype.reset=function(e){var t=Rl(this,e);e=Ol(e),t&&e&&(t.delete(),delete this.a[e])},xl.prototype.getResponse=function(e){return(e=Rl(this,e))?e.getResponse():null},xl.prototype.execute=function(e){(e=Rl(this,e))&&e.execute()},Pl.prototype.getResponse=function(){return Ml(this),this.b},Pl.prototype.execute=function(){Ml(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},Pl.prototype.delete=function(){Ml(this),this.g=!0,clearTimeout(this.a),this.a=null,$t(this.f,"click",this.i)},ql.prototype.g=function(){return Ll||(Ll=new xl),Je(Ll)},ql.prototype.c=function(){};var Fl=null;function Bl(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ul=new J(ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Vl=new Ni(3e4,6e4);Bl.prototype.g=function(e){var t=this;return new He((function(n,i){var r=setTimeout((function(){i(new Yi("network-request-failed"))}),Vl.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){if(a.grecaptcha){t.f=e;var o=a.grecaptcha.render;a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new Yi("internal-error"));delete a[t.a]},Je(Sa(re(Ul,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(r),i(new Yi("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(a.grecaptcha))}))},Bl.prototype.c=function(){this.b--};var jl=null;function Wl(e,t,n,i,r,o,s){if(qi(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,s?(Fl||(Fl=new ql),s=Fl):(jl||(jl=new Bl),s=jl),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Gl])throw new Yi("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[zl],!a.document)throw new Yi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Vn(t)||!this.i&&Vn(t).hasChildNodes())throw new Yi("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new xa(e,o||null,r||null),this.v=i||function(){return null};var u=this;this.l=[];var c=this.a[Hl];this.a[Hl]=function(e){if($l(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=gi(c,a);"function"==typeof t&&t(e)}};var l=this.a[Kl];this.a[Kl]=function(){if($l(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=gi(l,a);"function"==typeof e&&e()}}}var Hl="callback",Kl="expired-callback",Gl="sitekey",zl="size";function $l(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Ql(e,t){return e.h.push(t),t.ka((function(){j(e.h,t)})),t}function Yl(e){if(e.B)throw new Yi("internal-error","RecaptchaVerifier instance has been destroyed.")}function Jl(e,t,n){var i=!1;try{this.b=n||Go.app()}catch(e){throw new Yi("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Yi("invalid-api-key");n=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ca()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=Go.SDK_VERSION?mi(Go.SDK_VERSION,o):null,Wl.call(this,n,e,t,(function(){try{var e=r.b.auth().ha()}catch(t){e=null}return e}),o,Ar(Cr),i)}function Xl(e,t,n,i){e:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Yi("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=t.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=t[r].optional&&void 0===n[r],!t[r].N(n[r])&&!o){if(t=t[r],0>r||r>=Zl.length)throw new Yi("internal-error","Argument validator received an unsupported number of arguments.");n=Zl[r],i=(i?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}i=null}}if(i)throw new Yi("argument-error",e+" failed: "+i)}(e=Wl.prototype).Da=function(){var e=this;return this.f?this.f:this.f=Ql(this,Je().then((function(){if(wi()&&!ui())return oi();throw new Yi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.v())})).then((function(t){return e.g=t,As(e.o,ps,{})})).then((function(t){e.a[Gl]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},e.render=function(){Yl(this);var e=this;return Ql(this,this.Da().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=Vn(t);t=Hn("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Yl(this);var e=this;return Ql(this,this.render().then((function(t){return new He((function(n){var i=e.g.getResponse(t);if(i)n(i);else{var r=function(t){t&&(function(e,t){W(e.l,(function(e){return e==t}))}(e,r),n(t))};e.l.push(r),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Yl(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Yl(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Vn(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},k(Jl,Wl);var Zl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function eh(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:s}}function th(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:u}}function nh(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:g}}function ih(e,t){return{name:e||"",M:"a function",optional:!!t,N:v}}function rh(e,t){return{name:e||"",M:"null",optional:!!t,N:d}}function oh(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.na||!n)}}}function ah(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&s(e.type)&&v(e.verify))}}}function sh(e,t,n,i){return{name:n||"",M:e.M+" or "+t.M,optional:!!i,N:function(n){return e.N(n)||t.N(n)}}}function uh(e,t){for(var n in t){var i=t[n].name;e[i]=hh(i,e[n],t[n].j)}}function ch(e,t){for(var n in t){var i=t[n].name;i!==n&&Object.defineProperty(e,i,{get:I((function(e){return this[e]}),n),set:I((function(e,t,n,i){Xl(e,[n],[i],!0),this[t]=i}),i,n,t[n].Za),enumerable:!0})}}function lh(e,t,n,i){e[t]=hh(t,n,i)}function hh(e,t,n){function i(){var e=Array.prototype.slice.call(arguments);return Xl(o,n,e),t.apply(this,e)}if(!n)return t;var r,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(r in t)i[r]=t[r];for(r in t.prototype)i.prototype[r]=t.prototype[r];return i}uh(gl.prototype,{Ya:{name:"applyActionCode",j:[eh("code")]},Ma:{name:"checkActionCode",j:[eh("code")]},ab:{name:"confirmPasswordReset",j:[eh("code"),eh("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[eh("email"),eh("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[eh("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[eh("emailLink")]},wc:{name:"onAuthStateChanged",j:[sh(nh(),ih(),"nextOrObserver"),ih("opt_error",!0),ih("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[sh(nh(),ih(),"nextOrObserver"),ih("opt_error",!0),ih("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[eh("email"),sh(nh("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[eh("email"),nh("actionCodeSettings")]},mb:{name:"setPersistence",j:[eh("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[oh()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[oh()]},Hc:{name:"signInWithCustomToken",j:[eh("token")]},Ic:{name:"signInWithEmailAndPassword",j:[eh("email"),eh("password")]},Jc:{name:"signInWithEmailLink",j:[eh("email"),eh("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[eh("phoneNumber"),ah()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[sh({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Lc)}},rh(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[eh(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[eh("code")]}}),ch(gl.prototype,{lc:{name:"languageCode",Za:sh(eh(),rh(),"languageCode")},ti:{name:"tenantId",Za:sh(eh(),rh(),"tenantId")}}),gl.Persistence=Iu,gl.Persistence.LOCAL="local",gl.Persistence.SESSION="session",gl.Persistence.NONE="none",uh(Lc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[th("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[th("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[oh()]},fb:{name:"linkWithCredential",j:[oh()]},sc:{name:"linkWithPhoneNumber",j:[eh("phoneNumber"),ah()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[oh()]},hb:{name:"reauthenticateWithCredential",j:[oh()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[eh("phoneNumber"),ah()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[sh(nh("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[eh(null,!0)]},Qc:{name:"unlink",j:[eh("provider")]},rb:{name:"updateEmail",j:[eh("email")]},sb:{name:"updatePassword",j:[eh("password")]},Sc:{name:"updatePhoneNumber",j:[oh("phone")]},tb:{name:"updateProfile",j:[nh("profile")]}}),uh(xl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uh(Dl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uh(He.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),ch(wc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:th("appVerificationDisabledForTesting")}}),uh(Tc.prototype,{confirm:{name:"confirm",j:[eh("verificationCode")]}}),lh(Wr,"fromJSON",(function(e){e=s(e)?JSON.parse(e):e;for(var t,n=[Yr,co,mo,zr],i=0;i<n.length;i++)if(t=n[i](e))return t;return null}),[sh(eh(),nh(),"json")]),lh(lo,"credential",(function(e,t){return new uo(e,t)}),[eh("email"),eh("password")]),uh(uo.prototype,{A:{name:"toJSON",j:[eh(null,!0)]}}),uh(eo.prototype,{ya:{name:"addScope",j:[eh("scope")]},Ga:{name:"setCustomParameters",j:[nh("customOAuthParameters")]}}),lh(eo,"credential",to,[sh(eh(),nh(),"token")]),lh(lo,"credentialWithLink",ho,[eh("email"),eh("emailLink")]),uh(no.prototype,{ya:{name:"addScope",j:[eh("scope")]},Ga:{name:"setCustomParameters",j:[nh("customOAuthParameters")]}}),lh(no,"credential",io,[sh(eh(),nh(),"token")]),uh(ro.prototype,{ya:{name:"addScope",j:[eh("scope")]},Ga:{name:"setCustomParameters",j:[nh("customOAuthParameters")]}}),lh(ro,"credential",oo,[sh(eh(),sh(nh(),rh()),"idToken"),sh(eh(),rh(),"accessToken",!0)]),uh(ao.prototype,{Ga:{name:"setCustomParameters",j:[nh("customOAuthParameters")]}}),lh(ao,"credential",so,[sh(eh(),nh(),"token"),eh("secret",!0)]),uh(Zr.prototype,{ya:{name:"addScope",j:[eh("scope")]},credential:{name:"credential",j:[sh(eh(),sh(nh(),rh()),"optionsOrIdToken"),sh(eh(),rh(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[nh("customOAuthParameters")]}}),uh($r.prototype,{A:{name:"toJSON",j:[eh(null,!0)]}}),uh(Kr.prototype,{A:{name:"toJSON",j:[eh(null,!0)]}}),lh(go,"credential",yo,[eh("verificationId"),eh("verificationCode")]),uh(go.prototype,{Wa:{name:"verifyPhoneNumber",j:[eh("phoneNumber"),ah()]}}),uh(po.prototype,{A:{name:"toJSON",j:[eh(null,!0)]}}),uh(Yi.prototype,{toJSON:{name:"toJSON",j:[eh(null,!0)]}}),uh(_o.prototype,{toJSON:{name:"toJSON",j:[eh(null,!0)]}}),uh(Co.prototype,{toJSON:{name:"toJSON",j:[eh(null,!0)]}}),uh(Jl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lh(er,"parseLink",ur,[eh("link")]),function(){if(void 0===Go||!Go.INTERNAL||!Go.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ji,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:gl,AuthCredential:Wr,Error:Yi};lh(e,"EmailAuthProvider",lo,[]),lh(e,"FacebookAuthProvider",eo,[]),lh(e,"GithubAuthProvider",no,[]),lh(e,"GoogleAuthProvider",ro,[]),lh(e,"TwitterAuthProvider",ao,[]),lh(e,"OAuthProvider",Zr,[eh("providerId")]),lh(e,"SAMLAuthProvider",Xr,[eh("providerId")]),lh(e,"PhoneAuthProvider",go,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof gl)}}]),lh(e,"RecaptchaVerifier",Jl,[sh(eh(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),nh("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof Go.app.App)}}]),lh(e,"ActionCodeURL",er,[]),Go.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new gl(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),Go.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.cc,e),addAuthTokenListener:E(e.Wb,e),removeAuthTokenListener:E(e.Ec,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Go.registerVersion("@firebase/auth","0.13.3"),Go.INTERNAL.extendNamespace({User:Lc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var el=nt((function(e,t){!function(e){function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function i(e,t,i){var r,o=new Promise((function(o,a){n(r=e[t].apply(e,i)).then(o,a)}));return o.request=r,o}function r(e,t,n){var r=i(e,t,n);return r.then((function(e){if(e)return new l(e,r.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function s(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})}))}function u(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,i=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,i),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),i=n[n.length-1],r=this._store||this._index,o=r[e].apply(r,n.slice(0,-1));o.onsuccess=function(){i(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,i=[];return new Promise((function(r){n.iterateCursor(e,(function(e){e?(i.push(e.value),void 0===t||i.length!=t?e.continue():r(i)):r(i)}))}))})})),e.openDb=function(e,t,n){var r=i(indexedDB,"open",[e,t]),o=r.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),r.then((function(e){return new p(e)}))},e.deleteDb=function(e){return i(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)}));tt(el);var tl,nl=el.openDb,il="@firebase/installations",rl="0.3.8",ol=1e4,al="w:"+rl,sl="FIS_v2",ul="https://firebaseinstallations.googleapis.com/v1",cl=36e5,ll=new Oo("installations","Installations",((tl={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',tl["not-registered"]="Firebase Installation is not registered.",tl["installation-not-found"]="Firebase Installation not found.",tl["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',tl["app-offline"]="Could not process request. Application offline.",tl["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",tl));function hl(e){return e instanceof Po&&e.code.includes("request-failed")}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function fl(e){var t=e.projectId;return ul+"/projects/"+t+"/installations"}function dl(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function pl(e,t){return sn(this,void 0,void 0,(function(){var n,i;return un(this,(function(r){switch(r.label){case 0:return[4,t.json()];case 1:return n=r.sent(),i=n.error,[2,ll.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})]}}))}))}function ml(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vl(e,t){var n=t.refreshToken,i=ml(e);return i.append("Authorization",function(e){return sl+" "+e}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n)),i}function gl(e){return sn(this,void 0,void 0,(function(){var t;return un(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function yl(e,t){var n=t.fid;return sn(this,void 0,void 0,(function(){var t,i,r,o,a,s;return un(this,(function(u){switch(u.label){case 0:return t=fl(e),i=ml(e),r={fid:n,authVersion:sl,appId:e.appId,sdkVersion:al},o={method:"POST",headers:i,body:JSON.stringify(r)},[4,gl((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:dl(s.authToken)}];case 3:return[4,pl("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bl(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var wl=/^[cdef][\w-]{21}$/,Tl="";function El(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,hn(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e);return wl.test(t)?t:Tl}catch(e){return Tl}}var Il="firebase-installations-database",Sl=1,kl="firebase-installations-store",Cl=null;function _l(){return Cl||(Cl=nl(Il,Sl,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(kl)}}))),Cl}function Al(e,t){return sn(this,void 0,void 0,(function(){var n,i,r;return un(this,(function(o){switch(o.label){case 0:return n=xl(e),[4,_l()];case 1:return i=o.sent(),[4,(r=i.transaction(kl,"readwrite")).objectStore(kl).put(t,n)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2,t]}}))}))}function Nl(e){return sn(this,void 0,void 0,(function(){var t,n,i;return un(this,(function(r){switch(r.label){case 0:return t=xl(e),[4,_l()];case 1:return n=r.sent(),[4,(i=n.transaction(kl,"readwrite")).objectStore(kl).delete(t)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}}))}))}function Dl(e,t){return sn(this,void 0,void 0,(function(){var n,i,r,o,a,s;return un(this,(function(u){switch(u.label){case 0:return n=xl(e),[4,_l()];case 1:return i=u.sent(),r=i.transaction(kl,"readwrite"),[4,(o=r.objectStore(kl)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,r.complete];case 7:return u.sent(),[2,s]}}))}))}function xl(e){return e.appName+"!"+e.appId}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ll(e){return sn(this,void 0,void 0,(function(){var t,n,i;return un(this,(function(r){switch(r.label){case 0:return[4,Dl(e,(function(n){var i=function(e){return Pl(e||{fid:El(),registrationStatus:0})}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){var n=Promise.reject(ll.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return sn(this,void 0,void 0,(function(){var n,i;return un(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,yl(e,t)];case 1:return n=r.sent(),[2,Al(e,n)];case 2:return hl(i=r.sent())&&409===i.serverCode?[4,Nl(e)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,Al(e,{fid:t.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw i;case 7:return[2]}}))}))}(e,i);return{installationEntry:i,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Rl(e)}:{installationEntry:t}}(e,i);return t=r.registrationPromise,r.installationEntry}))];case 1:return(n=r.sent()).fid!==Tl?[3,3]:(i={},[4,t]);case 2:return[2,(i.installationEntry=r.sent(),i)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function Rl(e){return sn(this,void 0,void 0,(function(){var t,n,i,r;return un(this,(function(o){switch(o.label){case 0:return[4,Ol(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,bl(100)];case 3:return o.sent(),[4,Ol(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,Ll(e)];case 6:return n=o.sent(),i=n.installationEntry,(r=n.registrationPromise)?[2,r]:[2,i];case 7:return[2,t]}}))}))}function Ol(e){return Dl(e,(function(e){if(!e)throw ll.create("installation-not-found");return Pl(e)}))}function Pl(e){return 1===(t=e).registrationStatus&&t.registrationTime+ol<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}function Ml(e,t){var n=e.appConfig,i=e.platformLoggerProvider;return sn(this,void 0,void 0,(function(){var e,r,o,a,s,u,c;return un(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return fl(e)+"/"+n+"/authTokens:generate"}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n,t),r=vl(n,t),(o=i.getImmediate({optional:!0}))&&r.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:al}},s={method:"POST",headers:r,body:JSON.stringify(a)},[4,gl((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,dl(c)];case 3:return[4,pl("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function ql(e,t){return void 0===t&&(t=!1),sn(this,void 0,void 0,(function(){var n,i,r;return un(this,(function(o){switch(o.label){case 0:return[4,Dl(e.appConfig,(function(i){if(!Bl(i))throw ll.create("not-registered");var r=i.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+cl}(e)}(r))return i;if(1===r.requestStatus)return n=function(e,t){return sn(this,void 0,void 0,(function(){var n,i;return un(this,(function(r){switch(r.label){case 0:return[4,Fl(e.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,bl(100)];case 3:return r.sent(),[4,Fl(e.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(i=n.authToken).requestStatus?[2,ql(e,t)]:[2,i]}}))}))}(e,t),i;if(!navigator.onLine)throw ll.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return an(an({},e),{authToken:t})}(i);return n=function(e,t){return sn(this,void 0,void 0,(function(){var n,i,r;return un(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Ml(e,t)];case 1:return n=o.sent(),r=an(an({},t),{authToken:n}),[4,Al(e.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return!hl(i=o.sent())||401!==i.serverCode&&404!==i.serverCode?[3,5]:[4,Nl(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return r=an(an({},t),{authToken:{requestStatus:0}}),[4,Al(e.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}}))}))}(e,o),o}))];case 1:return i=o.sent(),n?[4,n]:[3,3];case 2:return r=o.sent(),[3,4];case 3:r=i.authToken,o.label=4;case 4:return[2,r]}}))}))}function Fl(e){return Dl(e,(function(e){if(!Bl(e))throw ll.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+ol<Date.now()?an(an({},e),{authToken:{requestStatus:0}}):e}))}function Bl(e){return void 0!==e&&2===e.registrationStatus}function Ul(e){return sn(this,void 0,void 0,(function(){var t;return un(this,(function(n){switch(n.label){case 0:return[4,Ll(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Vl(e,t){return sn(this,void 0,void 0,(function(){var n,i,r,o;return un(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return fl(e)+"/"+n}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t),i=vl(e,t),r={method:"DELETE",headers:i},[4,gl((function(){return fetch(n,r)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,pl("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function jl(e){return ll.create("missing-app-config-values",{valueName:e})}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e.INTERNAL.registerComponent(new qo("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e){var t,n;if(!e||!e.options)throw jl("App Configuration");if(!e.name)throw jl("App Name");try{for(var i=cn(["projectId","apiKey","appId"]),r=i.next();!r.done;r=i.next()){var o=r.value;if(!e.options[o])throw jl(o)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */return function(e){return sn(this,void 0,void 0,(function(){var t,n,i;return un(this,(function(r){switch(r.label){case 0:return[4,Ll(e.appConfig)];case 1:return t=r.sent(),n=t.installationEntry,(i=t.registrationPromise)?i.catch(console.error):ql(e).catch(console.error),[2,n.fid]}}))}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),sn(this,void 0,void 0,(function(){return un(this,(function(n){switch(n.label){case 0:return[4,Ul(e.appConfig)];case 1:return n.sent(),[4,ql(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return sn(this,void 0,void 0,(function(){var t,n;return un(this,(function(i){switch(i.label){case 0:return[4,Dl(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=i.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw ll.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw ll.create("app-offline");case 3:return[4,Vl(t,n)];case 4:return i.sent(),[4,Nl(t)];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))}(n)}}}),"PUBLIC")),e.registerVersion(il,rl)}(Go);var Wl=nt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,i,r,o,a=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(Ko),s="@firebase/performance",u="0.2.28",c=u,l="FB-PERF-TRACE-START",h="FB-PERF-TRACE-STOP",f="FB-PERF-TRACE-MEASURE",d="_wt_",p="@firebase/performance/config",m="@firebase/performance/configexpire",v=((n={})["trace started"]="Trace {$traceName} was started before.",n["trace stopped"]="Trace {$traceName} is not running.",n["no window"]="Window is not available.",n["no app id"]="App id is not available.",n["no project id"]="Project id is not available.",n["no api key"]="Api key is not available.",n["invalid cc log"]="Attempted to queue invalid cc event",n["FB not default"]="Performance can only start when Firebase app instance is the default one.",n["RC response not ok"]="RC response is not ok",n["invalid attribute name"]="Attribute name {$attributeName} is invalid.",n["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",n["invalide custom metric name"]="Custom metric name {$customMetricName} is invalid",n),g=new Ro.ErrorFactory("performance","Performance",v),y=function(){function e(e){if(this.window=e,!e)throw g.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,i=e.getEntries();n<i.length;n++){var r=i[n];t(r)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===i&&(i=new e(r)),i},e}();var b,w,T=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw g.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw g.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw g.create("no api key");return e},e.getInstance=function(){return void 0===o&&(o=new e),o},e}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function E(){return b}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(w||(w={}));var I=["firebase_","google_","ga_"],S=new RegExp("^[a-zA-Z]\\w*$"),k=40,C=100;function _(){var e=y.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function A(){switch(y.getInstance().document.visibilityState){case"visible":return w.VISIBLE;case"hidden":return w.HIDDEN;default:return w.UNKNOWN}}function N(){var e=y.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var D=new Ho.Logger("Performance");D.logLevel=Ho.LogLevel.INFO;
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var x="0.0.1",L={loggingEnabled:!0},R="FIREBASE_INSTALLATIONS_AUTH";function O(e){var t=function(){var e=y.getInstance().localStorage;if(!e)return;var t=e.getItem(m);if(!(t&&(n=t,Number(n)>Date.now())))return;var n;var i=e.getItem(p);if(!i)return;try{return JSON.parse(i)}catch(e){return}}();return t?(M(t),Promise.resolve()):function(e){return(t=T.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+T.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+T.getInstance().getApiKey(),i=new Request(n,{method:"POST",headers:{Authorization:R+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:T.getInstance().getAppId(),app_version:c,sdk_version:x})});return fetch(i).then((function(e){if(e.ok)return e.json();throw g.create("RC response not ok")}))})).catch((function(){D.info(P)}));var t;
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}(e).then((function(e){return M(e)})).then((function(e){return function(e){var t=y.getInstance().localStorage;if(!e||!t)return;t.setItem(p,JSON.stringify(e)),t.setItem(m,String(Date.now()+60*T.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var P="Could not fetch config, will use default configs";function M(e){if(!e)return e;var t=T.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=L.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=q(t.tracesSamplingRate),t.logNetworkAfterSampling=q(t.networkRequestsSamplingRate),e}function q(e){return Math.random()<=e}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var F,B=1;function U(){return B=2,F=F||function(){var e=y.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return(e=T.getInstance().installationsService.getId()).then((function(e){b=e})),e;var e})).then((function(e){return O(e)})).then((function(){return V()}),(function(){return V()}))}function V(){B=3}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var j,W=1e4,H=3,K=H,G=[];function z(e){if(!e.eventTime||!e.message)throw g.create("invalid cc log");G=dn.__spreadArrays(G,[e])}function $(){if(j)return j;var e=function(e){return function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o=e.apply(void 0,i);z({message:o,eventTime:Date.now()})}}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(J);return(j=new Ho.Logger("@firebase/performance/cc")).logHandler=e,j}function Q(e){var t=T.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&y.getInstance().requiredApisAvailable()&&(e.isAuto&&A()!==w.VISIBLE||t.loggingEnabled&&t.logTraceAfterSampling&&(3===B?Y(e):U().then((function(){return Y(e)}),(function(){return Y(e)}))))}function Y(e){E()&&setTimeout((function(){return $().log(e,1)}),0)}function J(e,t){return 0===t?(i={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},r={application_info:X(),network_request_metric:i},JSON.stringify(r)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=Z(e.counters));var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=Z(n));var i={application_info:X(),trace_metric:t};return JSON.stringify(i)}(e);var n,i,r}function X(){return{google_app_id:T.getInstance().getAppId(),app_instance_id:E(),web_app_info:{sdk_version:c,page_url:y.getInstance().getUrl(),service_worker_status:_(),visibility_state:A(),effective_connection_type:N()},application_process_state:0}}function Z(e){return Object.keys(e).map((function(t){return{key:t,value:e[t]}}))}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function e(t){setTimeout((function(){if(0!==K){if(!G.length)return e(W);var t=dn.__spreadArrays(G);G=[];var n=t.map((function(e){return{source_extension_json:e.message,event_time_ms:String(e.eventTime)}})),i={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:T.getInstance().logSource,log_event:n};fetch(T.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(i)}).then((function(e){return e.ok||D.info("Call to Firebase backend failed."),e.json()})).then((function(t){var n=Number(t.next_request_wait_millis),i=isNaN(n)?W:Math.max(W,n);K=H,e(i)})).catch((function(){G=dn.__spreadArrays(t,G),K--,D.info("Tries left: "+K+"."),e(W)}))}}),t)}(5500);var ee=100,te="_",ne=["_fp","_fcp","_fid"];
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ie=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=y.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=l+"-"+this.randomId+"-"+this.name,this.traceStopMark=h+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||f+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw g.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw g.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Q(this)},e.prototype.record=function(e,t,n){if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=dn.__assign({},n.attributes)),n&&n.metrics)for(var i=0,r=Object.keys(n.metrics);i<r.length;i++){var o=r[i];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Q(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]&&this.putMetric(e,0),this.counters[e]+=t},e.prototype.putMetric=function(e,t){if(!function(e,t){return!(0===e.length||e.length>ee)&&(t&&t.startsWith(d)&&ne.indexOf(e)>-1||!e.startsWith(te))}(e,this.name))throw g.create("invalide custom metric name",{customMetricName:e});this.counters[e]=t},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=function(e){return!(0===e.length||e.length>k)&&(!I.some((function(t){return e.startsWith(t)}))&&!!e.match(S))}(e),i=function(e){return 0!==e.length&&e.length<=C}(t);if(n&&i)this.customAttributes[e]=t;else{if(!n)throw g.create("invalid attribute name",{attributeName:e});if(!i)throw g.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return dn.__assign({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,i){var r=y.getInstance().getUrl();if(r){var o=new e(d+r,!0),a=Math.floor(1e3*y.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}Q(o)}},e.createUserTimingTrace=function(t){Q(new e(t,!1,t))},e}();
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function re(e){var t=e;if(t&&void 0!==t.responseStart){var n=y.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+n)),r=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=T.getInstance();t.instrumentationEnabled&&e.url!==t.logEndPointUrl.split("?")[0]&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return $().log(e,0)}),0)}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:o})}}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var oe=5e3;function ae(){E()&&(setTimeout((function(){return function(){var e=y.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var i=setTimeout((function(){ie.createOobTrace(t,n),i=void 0}),oe);e.onFirstInputDelay((function(e){i&&(clearTimeout(i),ie.createOobTrace(t,n,e))}))}else ie.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=y.getInstance(),t=e.getEntriesByType("resource"),n=0,i=t;n<i.length;n++){re(i[n])}e.setupObserver("resource",re)}()}),0),setTimeout((function(){return function(){for(var e=y.getInstance(),t=e.getEntriesByType("measure"),n=0,i=t;n<i.length;n++){se(i[n])}e.setupObserver("measure",se)}()}),0))}function se(e){var t=e.name;t.substring(0,f.length)!==f&&ie.createUserTimingTrace(t)}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ue=function(){function e(e){this.app=e,y.getInstance().requiredApisAvailable()?U().then(ae,ae):D.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return e.prototype.trace=function(e){return new ie(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return T.getInstance().instrumentationEnabled},set:function(e){T.getInstance().instrumentationEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return T.getInstance().dataCollectionEnabled},set:function(e){T.getInstance().dataCollectionEnabled=e},enumerable:!0,configurable:!0}),e}(),ce="[DEFAULT]";
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function le(e){var t=function(e,t){if(e.name!==ce)throw g.create("FB not default");if("undefined"==typeof window)throw g.create("no window");return function(e){r=e}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(window),T.getInstance().firebaseAppInstance=e,T.getInstance().installationsService=t,new ue(e)};e.INTERNAL.registerComponent(new Mo.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();return t(n,i)}),"PUBLIC")),e.registerVersion(s,u)}le(a),t.registerPerformance=le}));tt(Wl);Wl.registerPerformance;
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Hl,Kl,Gl,zl="measurementId",$l="firebase_id",Ql="origin",Yl="https://www.googletagmanager.com/gtag/js";function Jl(e,t,n){var i=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];window[t].push(arguments)};return window[n]&&"function"==typeof window[n]&&(i=window[n]),window[n]=function(e,t){return function(n,i,r){if(n===Hl.EVENT){var o=[];if(r&&r.send_to){var a=r.send_to;Array.isArray(a)||(a=[a]);for(var s=0,u=a;s<u.length;s++){var c=u[s],l=t[c];if(!l){o=[];break}o.push(l)}}if(0===o.length)for(var h=0,f=Object.values(t);h<f.length;h++){var d=f[h];o.push(d)}Promise.all(o).then((function(){return e(Hl.EVENT,i,r||{})})).catch((function(e){return console.error(e)}))}else if(n===Hl.CONFIG){(t[i]||Promise.resolve()).then((function(){e(Hl.CONFIG,i,r)})).catch((function(e){return console.error(e)}))}else e(Hl.SET,i)}}(i,e),{gtagCore:i,wrappedGtag:window[n]}}!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(Hl||(Hl={})),function(e){e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Kl||(Kl={}));var Xl,Zl,eh=new Oo("analytics","Analytics",((Gl={})["no-ga-id"]='"'+zl+'" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',Gl["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",Gl["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Gl["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",Gl)),th={},nh="dataLayer",ih="gtag",rh=!1;function oh(e){if(rh)throw eh.create("already-initialized");e.dataLayerName&&(nh=e.dataLayerName),e.gtagName&&(ih=e.gtagName)}function ah(e,t){var n=e.options[zl];if(!n)throw eh.create("no-ga-id");if(null!=th[n])throw eh.create("already-exists",{id:n});if(!rh){(function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var i=n[t];if(i.src&&i.src.includes(Yl))return i}return null}
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */)()||function(e){var t=document.createElement("script");t.src=Yl+"?l="+e,t.async=!0,document.head.appendChild(t)}(nh),function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(nh);var i=Jl(th,nh,ih),r=i.wrappedGtag,o=i.gtagCore;Zl=r,Xl=o,rh=!0}return th[n]=
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e,t,n){return sn(this,void 0,void 0,(function(){var i,r;return un(this,(function(o){switch(o.label){case 0:return[4,t.getId()];case 1:return i=o.sent(),n("js",new Date),n(Hl.CONFIG,e.options[zl],((r={})[$l]=i,r[Ql]="firebase",r.update=!0,r)),[2]}}))}))}(e,t,Xl),{app:e,logEvent:function(e,t,i){
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
return function(e,t,n,i,r){var o=i||{};r&&r.global||(o=an(an({},i),{send_to:t})),e(Hl.EVENT,n,o||{})}(Zl,n,e,t,i)},setCurrentScreen:function(e,t){return function(e,t,n,i){i&&i.global?e(Hl.SET,{screen_name:n}):e(Hl.CONFIG,t,{update:!0,screen_name:n})}(Zl,n,e,t)},setUserId:function(e,t){return function(e,t,n,i){i&&i.global?e(Hl.SET,{user_id:n}):e(Hl.CONFIG,t,{update:!0,user_id:n})}(Zl,n,e,t)},setUserProperties:function(e,t){return function(e,t,n,i){if(i&&i.global){for(var r={},o=0,a=Object.keys(n);o<a.length;o++){var s=a[o];r["user_properties."+s]=n[s]}e(Hl.SET,r)}else e(Hl.CONFIG,t,{update:!0,user_properties:n})}(Zl,n,e,t)},setAnalyticsCollectionEnabled:function(e){return function(e,t){window["ga-disable-"+e]=!t}(n,e)}}}var sh="@firebase/analytics",uh="0.2.9",ch="analytics";function lh(e){let t,n,i,r,o,a,s,u,c;const l=new Ut({}),h=new co({}),f=new Ao({});return{c(){t=I("ion-app"),n=I("ion-fab"),i=I("ion-fab-button"),i.innerHTML='<ion-icon name="code-working"></ion-icon>',r=k(),o=I("ion-split-pane"),ve(l.$$.fragment),a=k(),ve(h.$$.fragment),s=k(),ve(f.$$.fragment),D(i,"class","svelte-1e45rmb"),R(i,"pulseSourceViewer",e[0]),D(n,"horizontal","end"),D(n,"vertical","bottom"),D(n,"slot","fixed"),c=A(i,"click",e[1])},m(e,c){w(e,t,c),b(t,n),b(n,i),b(t,r),b(t,o),ge(l,o,null),b(o,a),ge(h,o,null),w(e,s,c),ge(f,e,c),u=!0},p(e,t){1&t&&R(i,"pulseSourceViewer",e[0])},i(e){u||(ce(l.$$.fragment,e),ce(h.$$.fragment,e),ce(f.$$.fragment,e),u=!0)},o(e){le(l.$$.fragment,e),le(h.$$.fragment,e),le(f.$$.fragment,e),u=!1},d(e){e&&T(t),ye(l),ye(h),e&&T(s),ye(f,e),c()}}}function hh(e){let t,n;const i=new Lo({props:{firebase:Yo,$$slots:{default:[lh]},$$scope:{ctx:e}}});return{c(){t=k(),ve(i.$$.fragment),document.title="Ionic UI Companion App - svelte power!"},m(e,r){w(e,t,r),ge(i,e,r),n=!0},p(e,[t]){const n={};9&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i(e){n||(ce(i.$$.fragment,e),n=!0)},o(e){le(i.$$.fragment,e),n=!1},d(e){e&&T(t),ye(i,e)}}}function fh(e,t,n){let i=!1;So.getItem("has-seen-source").then(e=>{console.log("has-seen-source",e),e||setTimeout(()=>{n(0,i=!0),setTimeout(()=>{n(0,i=!1)},6e4)},2e4)});return Yo.initializeApp({apiKey:"AIzaSyAOul3jp5hfGOfRWwqxjrvU4i965DE11Qk",authDomain:"ionicsvelte.firebaseapp.com",databaseURL:"https://ionicsvelte.firebaseio.com",projectId:"ionicsvelte",storageBucket:"ionicsvelte.appspot.com",messagingSenderId:"512207280782",appId:"1:512207280782:web:aa2cc110c3ac12e5ef07df",measurementId:"G-NNGFLY1HYH"}),[i,()=>{So.setItem("has-seen-source",!0),n(0,i=!1),Hn("source-viewer",Io,{name:window.location.pathname})}]}!function(e){e.INTERNAL.registerComponent(new qo(ch,(function(e){return ah(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:oh,EventName:Kl})),e.INTERNAL.registerComponent(new qo("analytics-internal",(function(e){try{return{logEvent:e.getProvider(ch).getImmediate().logEvent}}catch(e){throw eh.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),e.registerVersion(sh,uh)}(Go);return new class extends Te{constructor(e){super(),we(this,e,fh,hh,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
