{"version":3,"file":"Infinitescroll-4f4620c4.js","sources":["../../src/pages/ionic/users.js","../../src/pages/ionic/Infinitescroll.svelte"],"sourcesContent":["export const users = [\r\n    {\r\n      name: \"Aline Grover\",\r\n      created: \"November 28, 2012\"\r\n    },\r\n    {\r\n      name: \"Nevada Anders\",\r\n      created: \"January 18, 2014\"\r\n    },\r\n    {\r\n      name: \"Nicholas Morissette\",\r\n      created: \"November 11, 2014\"\r\n    },\r\n    {\r\n      name: \"Rusty Umland\",\r\n      created: \"January 8, 2019\"\r\n    },\r\n    {\r\n      name: \"Amada Cerulli\",\r\n      created: \"July 22, 2009\"\r\n    },\r\n    {\r\n      name: \"Harriette Garcia\",\r\n      created: \"July 29, 2018\"\r\n    },\r\n    {\r\n      name: \"Erminia Marotz\",\r\n      created: \"September 29, 2016\"\r\n    },\r\n    {\r\n      name: \"Shanelle Parodi\",\r\n      created: \"May 26, 2018\"\r\n    },\r\n    {\r\n      name: \"Roger Leite\",\r\n      created: \"August 6, 2015\"\r\n    },\r\n    {\r\n      name: \"Latina Faulcon\",\r\n      created: \"February 5, 2014\"\r\n    },\r\n    {\r\n      name: \"Jerrie Hoekstra\",\r\n      created: \"June 2, 2016\"\r\n    },\r\n    {\r\n      name: \"Domonique Byam\",\r\n      created: \"December 30, 2010\"\r\n    },\r\n    {\r\n      name: \"Monnie Bonar\",\r\n      created: \"December 20, 2018\"\r\n    },\r\n    {\r\n      name: \"Chu Kahle\",\r\n      created: \"November 17, 2017\"\r\n    },\r\n    {\r\n      name: \"Allan Passman\",\r\n      created: \"November 12, 2015\"\r\n    },\r\n    {\r\n      name: \"Conrad Caliendo\",\r\n      created: \"February 10, 2016\"\r\n    },\r\n    {\r\n      name: \"Elma Chenier\",\r\n      created: \"August 13, 2011\"\r\n    },\r\n    {\r\n      name: \"Wendi Hirano\",\r\n      created: \"July 27, 2018\"\r\n    },\r\n    {\r\n      name: \"Loren Wordlaw\",\r\n      created: \"December 20, 2014\"\r\n    },\r\n    {\r\n      name: \"Hubert Frum\",\r\n      created: \"January 21, 2013\"\r\n    },\r\n    {\r\n      name: \"Rueben Basil\",\r\n      created: \"December 2, 2013\"\r\n    },\r\n    {\r\n      name: \"Krystyna Hardiman\",\r\n      created: \"February 11, 2016\"\r\n    },\r\n    {\r\n      name: \"Micki Murch\",\r\n      created: \"December 17, 2009\"\r\n    },\r\n    {\r\n      name: \"Allene Knight\",\r\n      created: \"November 3, 2010\"\r\n    },\r\n    {\r\n      name: \"Davis Lunsford\",\r\n      created: \"October 17, 2011\"\r\n    },\r\n    {\r\n      name: \"Elin Conte\",\r\n      created: \"June 23, 2015\"\r\n    },\r\n    {\r\n      name: \"Yasuko Hites\",\r\n      created: \"August 25, 2017\"\r\n    },\r\n    {\r\n      name: \"Gerri Pinon\",\r\n      created: \"May 21, 2014\"\r\n    },\r\n    {\r\n      name: \"Caryl Hawker\",\r\n      created: \"April 13, 2018\"\r\n    },\r\n    {\r\n      name: \"Savannah Hoard\",\r\n      created: \"October 31, 2009\"\r\n    },\r\n    {\r\n      name: \"Carolyn Knutsen\",\r\n      created: \"July 16, 2015\"\r\n    },\r\n    {\r\n      name: \"Shantay Mckissack\",\r\n      created: \"July 9, 2010\"\r\n    },\r\n    {\r\n      name: \"Vertie Pinales\",\r\n      created: \"November 20, 2010\"\r\n    },\r\n    {\r\n      name: \"Gidget Stuck\",\r\n      created: \"August 17, 2017\"\r\n    },\r\n    {\r\n      name: \"Drew Crownover\",\r\n      created: \"August 30, 2017\"\r\n    },\r\n    {\r\n      name: \"Vashti Krajewski\",\r\n      created: \"January 25, 2018\"\r\n    },\r\n    {\r\n      name: \"Candice Dike\",\r\n      created: \"November 19, 2018\"\r\n    },\r\n    {\r\n      name: \"Dorthey Buhler\",\r\n      created: \"October 22, 2012\"\r\n    },\r\n    {\r\n      name: \"Hailey Deluna\",\r\n      created: \"September 13, 2012\"\r\n    },\r\n    {\r\n      name: \"Richard Aaron\",\r\n      created: \"April 27, 2016\"\r\n    }\r\n  ];\r\n","<script>\r\n  import { onMount } from \"svelte\";\r\n  import { users } from \"./users\";\r\n\r\n  let length = 0;\r\n  let list;\r\n  let infiniteScroll;\r\n\r\n  onMount(() => {\r\n    appendItems(10);\r\n  });\r\n\r\n  const infiniteAction = async () => {\r\n    if (length < users.length) {\r\n      console.log(\"Loading data...\");\r\n      await wait(500);\r\n      infiniteScroll.complete();\r\n      appendItems(5);\r\n      console.log(\"Done\");\r\n    } else {\r\n      console.log(\"No More Data\");\r\n      infiniteScroll.disabled = true;\r\n    }\r\n  };\r\n\r\n  function appendItems(number) {\r\n    console.log(\"length is\", length);\r\n    const originalLength = length;\r\n\r\n    // todo: replace with array and binding in each\r\n    for (var i = 0; i < number; i++) {\r\n      const el = document.createElement(\"ion-item\");\r\n      el.innerHTML = `\r\n          <ion-avatar slot=\"start\">\r\n            <img src=\"https://www.gravatar.com/avatar/${i +\r\n              originalLength}?d=monsterid&f=y\">\r\n          </ion-avatar>\r\n          <ion-label>\r\n            <h2>${users[i + originalLength].name}</h2>\r\n            <p>Created ${users[i + originalLength].created}</p>\r\n          </ion-label>\r\n        `;\r\n      if (list) list.appendChild(el);\r\n      length++;\r\n    }\r\n  }\r\n\r\n  function wait(time) {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve();\r\n      }, time);\r\n    });\r\n  }\r\n</script>\r\n\r\n<svelte:head>\r\n  <title>Ionic UI Companion App - Infinitescroll</title>\r\n</svelte:head>\r\n\r\n<ion-header translucent>\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button />\r\n    </ion-buttons>\r\n    <ion-title>Accounts</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content fullscreen>\r\n  <ion-list bind:this={list} />\r\n\r\n  <ion-infinite-scroll\r\n    on:ionInfinite={infiniteAction}\r\n    threshold=\"100px\"\r\n    bind:this={infiniteScroll}>\r\n    <ion-infinite-scroll-content\r\n      loading-spinner=\"bubbles\"\r\n      loading-text=\"Loading more data...\" />\r\n  </ion-infinite-scroll>\r\n\r\n</ion-content>\r\n"],"names":["users","name","created","ctx","list","infiniteScroll","length","onMount","appendItems","number","console","log","originalLength","i","el","document","createElement","innerHTML","appendChild","time","Promise","resolve","setTimeout","complete","disabled"],"mappings":"8HAAO,MAAMA,EAAQ,CACjB,CACEC,KAAM,eACNC,QAAS,qBAEX,CACED,KAAM,gBACNC,QAAS,oBAEX,CACED,KAAM,sBACNC,QAAS,qBAEX,CACED,KAAM,eACNC,QAAS,mBAEX,CACED,KAAM,gBACNC,QAAS,iBAEX,CACED,KAAM,mBACNC,QAAS,iBAEX,CACED,KAAM,iBACNC,QAAS,sBAEX,CACED,KAAM,kBACNC,QAAS,gBAEX,CACED,KAAM,cACNC,QAAS,kBAEX,CACED,KAAM,iBACNC,QAAS,oBAEX,CACED,KAAM,kBACNC,QAAS,gBAEX,CACED,KAAM,iBACNC,QAAS,qBAEX,CACED,KAAM,eACNC,QAAS,qBAEX,CACED,KAAM,YACNC,QAAS,qBAEX,CACED,KAAM,gBACNC,QAAS,qBAEX,CACED,KAAM,kBACNC,QAAS,qBAEX,CACED,KAAM,eACNC,QAAS,mBAEX,CACED,KAAM,eACNC,QAAS,iBAEX,CACED,KAAM,gBACNC,QAAS,qBAEX,CACED,KAAM,cACNC,QAAS,oBAEX,CACED,KAAM,eACNC,QAAS,oBAEX,CACED,KAAM,oBACNC,QAAS,qBAEX,CACED,KAAM,cACNC,QAAS,qBAEX,CACED,KAAM,gBACNC,QAAS,oBAEX,CACED,KAAM,iBACNC,QAAS,oBAEX,CACED,KAAM,aACNC,QAAS,iBAEX,CACED,KAAM,eACNC,QAAS,mBAEX,CACED,KAAM,cACNC,QAAS,gBAEX,CACED,KAAM,eACNC,QAAS,kBAEX,CACED,KAAM,iBACNC,QAAS,oBAEX,CACED,KAAM,kBACNC,QAAS,iBAEX,CACED,KAAM,oBACNC,QAAS,gBAEX,CACED,KAAM,iBACNC,QAAS,qBAEX,CACED,KAAM,eACNC,QAAS,mBAEX,CACED,KAAM,iBACNC,QAAS,mBAEX,CACED,KAAM,mBACNC,QAAS,oBAEX,CACED,KAAM,eACNC,QAAS,qBAEX,CACED,KAAM,iBACNC,QAAS,oBAEX,CACED,KAAM,gBACNC,QAAS,sBAEX,CACED,KAAM,gBACNC,QAAS,8lBCtFKC,2LApEdC,EACAC,EAFAC,EAAS,EAIbC,OACEC,EAAY,eAgBLA,EAAYC,GACnBC,QAAQC,IAAI,YAAaL,SACnBM,EAAiBN,UAGdO,EAAI,EAAGA,EAAIJ,EAAQI,WACpBC,EAAKC,SAASC,cAAc,YAClCF,EAAGG,0GAE+CJ,EAC1CD,wFAGIZ,EAAMa,EAAID,GAAgBX,qCACnBD,EAAMa,EAAID,GAAgBV,gDAGzCE,GAAMA,EAAKc,YAAYJ,GAC3BR,8BAIUa,EAlCRb,EAASN,EAAMM,QACjBI,QAAQC,IAAI,yBAiCFQ,EAhCC,QAiCFC,QAAQC,IACjBC,gBACED,KACCF,MAnCHd,EAAekB,WACff,EAAY,GACZE,QAAQC,IAAI,UAEZD,QAAQC,IAAI,oBACZN,EAAemB,UAAW,yGAsDjBnB"}